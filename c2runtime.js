// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,oa,qa,ra,ta,ua,va,xa,ya,za,A,Aa,Ba,Ca,Da,Ea,H,Fa,Ga,Ja,Ka,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc={},gc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,d,e,b){this.set(a,d,e,b)}function n(){this.Jb=this.Ib=this.Lb=this.Kb=this.Vb=this.Ub=this.ob=this.nb=0}function k(a,d,e,b){a<d?e<b?(l=a<e?a:e,r=d>b?d:b):(l=a<b?a:b,r=d>e?d:e):e<b?(l=d<e?d:e,r=a>b?a:b):(l=d<b?d:b,r=a>e?a:e)}function q(){this.items=this.Ud=null;this.ki=0;B&&(this.Ud=new Set);this.sh=[];this.Pe=!0}function w(a){W[P++]=a}function u(){this.P=this.tl=this.y=this.Xl=0}function b(a){this.lb=[];this.Bj=this.Dj=this.Ej=this.Cj=0;this.$i(a)}function a(a,d){this.cm=
a;this.$l=d;this.cells={}}function v(a,d){this.cm=a;this.$l=d;this.cells={}}function h(a,d,e){var b;return U.length?(b=U.pop(),b.Km=a,b.x=d,b.y=e,b):new aa(a,d,e)}function d(a,d,e){this.Km=a;this.x=d;this.y=e;this.tb=new ba}function f(a,d,e){var b;return G.length?(b=G.pop(),b.Km=a,b.x=d,b.y=e,b):new ca(a,d,e)}function t(a,d,e){this.Km=a;this.x=d;this.y=e;this.tb=[];this.Ng=!0;this.Rd=new ba;this.Ah=!1}function e(a,d){return a.Hd-d.Hd}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};ha=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,d){return a>d?a:d};ma=function(a,d){return a<d?a:d};oa=Math.PI;qa=function(a){return 0<=a?a|0:(a|0)-1};ra=function(a){var d=a|0;return d===a?d:d+
1};ta=function(a,d,e,b,f,m,v,y){var x,C,p,g;a<e?(C=a,x=e):(C=e,x=a);f<v?(g=f,p=v):(g=v,p=f);if(x<g||C>p)return!1;d<b?(C=d,x=b):(C=b,x=d);m<y?(g=m,p=y):(g=y,p=m);if(x<g||C>p)return!1;x=f-a+v-e;C=m-d+y-b;a=e-a;d=b-d;f=v-f;m=y-m;y=ka(d*f-m*a);return ka(f*C-m*x)>y?!1:ka(a*C-d*x)<=y};c.prototype.set=function(a,d,e,b){this.left=a;this.top=d;this.right=e;this.bottom=b};c.prototype.vg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};c.prototype.width=function(){return this.right-
this.left};c.prototype.height=function(){return this.bottom-this.top};c.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};c.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};c.prototype.mw=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};c.prototype.ow=function(a,d,e){return!(a.right+
d<this.left||a.bottom+e<this.top||a.left+d>this.right||a.top+e>this.bottom)};c.prototype.yb=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};c.prototype.Kh=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ua=c;n.prototype.Zi=function(a){this.nb=a.left;this.ob=a.top;this.Ub=a.right;this.Vb=a.top;this.Kb=a.right;this.Lb=a.bottom;this.Ib=a.left;this.Jb=a.bottom};n.prototype.Ir=function(a,d){if(0===d)this.Zi(a);else{var e=
Math.sin(d),b=Math.cos(d),f=a.left*e,m=a.top*e,v=a.right*e,e=a.bottom*e,y=a.left*b,x=a.top*b,p=a.right*b,b=a.bottom*b;this.nb=y-m;this.ob=x+f;this.Ub=p-m;this.Vb=x+v;this.Kb=p-e;this.Lb=b+v;this.Ib=y-e;this.Jb=b+f}};n.prototype.offset=function(a,d){this.nb+=a;this.ob+=d;this.Ub+=a;this.Vb+=d;this.Kb+=a;this.Lb+=d;this.Ib+=a;this.Jb+=d;return this};var l=0,r=0;n.prototype.jp=function(a){k(this.nb,this.Ub,this.Kb,this.Ib);a.left=l;a.right=r;k(this.ob,this.Vb,this.Lb,this.Jb);a.top=l;a.bottom=r};n.prototype.yb=
function(a,d){var e=this.nb,b=this.ob,f=this.Ub-e,m=this.Vb-b,v=this.Kb-e,y=this.Lb-b,x=a-e,p=d-b,g=f*f+m*m,h=f*v+m*y,m=f*x+m*p,l=v*v+y*y,t=v*x+y*p,c=1/(g*l-h*h),f=(l*m-h*t)*c,g=(g*t-h*m)*c;if(0<=f&&0<g&&1>f+g)return!0;f=this.Ib-e;m=this.Jb-b;g=f*f+m*m;h=f*v+m*y;m=f*x+m*p;c=1/(g*l-h*h);f=(l*m-h*t)*c;g=(g*t-h*m)*c;return 0<=f&&0<g&&1>f+g};n.prototype.Ne=function(a,d){if(d)switch(a){case 0:return this.nb;case 1:return this.Ub;case 2:return this.Kb;case 3:return this.Ib;case 4:return this.nb;default:return this.nb}else switch(a){case 0:return this.ob;
case 1:return this.Vb;case 2:return this.Lb;case 3:return this.Jb;case 4:return this.ob;default:return this.ob}};n.prototype.Kq=function(){return(this.nb+this.Ub+this.Kb+this.Ib)/4};n.prototype.Lq=function(){return(this.ob+this.Vb+this.Lb+this.Jb)/4};n.prototype.$p=function(a){var d=a.Kq(),e=a.Lq();if(this.yb(d,e))return!0;d=this.Kq();e=this.Lq();if(a.yb(d,e))return!0;var b,f,m,v,y,x,p,g;for(p=0;4>p;p++)for(g=0;4>g;g++)if(d=this.Ne(p,!0),e=this.Ne(p,!1),b=this.Ne(p+1,!0),f=this.Ne(p+1,!1),m=a.Ne(g,
!0),v=a.Ne(g,!1),y=a.Ne(g+1,!0),x=a.Ne(g+1,!1),ta(d,e,b,f,m,v,y,x))return!0;return!1};va=n;xa=function(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);return a};ya=function(a,d){var e,b;d=qa(d);if(!(0>d||d>=a.length)){e=d;for(b=a.length-1;e<b;e++)a[e]=a[e+1];za(a,b)}};za=function(a,d){a.length=d};A=function(a){za(a,0)};Aa=function(a,d){A(a);var e,b;e=0;for(b=d.length;e<b;++e)a[e]=d[e]};Ba=function(a,d){a.push.apply(a,d)};Ca=function(a,d){var e,b;e=0;for(b=a.length;e<b;++e)if(a[e]===d)return e;
return-1};Da=function(a,d){var e=Ca(a,d);-1!==e&&ya(a,e)};Ea=function(a,d,e){return a<d?d:a>e?e:a};H=function(a){return a/(180/oa)};Fa=function(a){return 180/oa*a};Ga=function(a){a%=360;0>a&&(a+=360);return a};Ja=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ka=function(a){return Ga(Fa(a))};Ma=function(a){return Ja(H(a))};Na=function(a,d,e,b){return Math.atan2(b-d,e-a)};Oa=function(a,d){if(a===d)return 0;var e=Math.sin(a),b=Math.cos(a),f=Math.sin(d),m=Math.cos(d),e=e*f+b*m;return 1<=e?0:-1>=e?oa:Math.acos(e)};
Pa=function(a,d,e){var b=Math.sin(a),f=Math.cos(a),m=Math.sin(d),v=Math.cos(d);return Math.acos(b*m+f*v)>e?0<f*m-b*v?Ja(a+e):Ja(a-e):Ja(d)};Qa=function(a,d){var e=Math.sin(a),b=Math.cos(a),f=Math.sin(d),m=Math.cos(d);return 0>=b*f-e*m};Ra=function(a,d,e,b,f,m){if(0===e)return m?a:d;var v=Math.sin(e);e=Math.cos(e);a-=b;d-=f;var y=a*v;a=a*e-d*v;d=d*e+y;return m?a+b:d+f};Sa=function(a,d,e,b){a=e-a;d=b-d;return Math.sqrt(a*a+d*d)};Ya=function(a,d){return!a!==!d};Za=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;
return!1};$a=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var g=+new Date;ab=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-g};var m=!1,p=m=!1,Y=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
m=!m&&/safari/i.test(navigator.userAgent),p=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Y=window.c2ejecta);var B=!m&&!Y&&!p&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.ne()?!1:B?this.Ud.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(B)this.Ud.has(a)||(this.Ud.add(a),this.Pe=!1);else{var d=a.toString(),e=this.items;e?e.hasOwnProperty(d)||(e[d]=a,this.ki++,this.Pe=!1):(this.items={},this.items[d]=
a,this.ki=1,this.Pe=!1)}};q.prototype.remove=function(a){if(!this.ne())if(B)this.Ud.has(a)&&(this.Ud["delete"](a),this.Pe=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.ki--,this.Pe=!1)}};q.prototype.clear=function(){this.ne()||(B?this.Ud.clear():(this.items=null,this.ki=0),A(this.sh),this.Pe=!0)};q.prototype.ne=function(){return 0===this.count()};q.prototype.count=function(){return B?this.Ud.size:this.ki};var W=null,P=0;q.prototype.Qx=function(){if(!this.Pe){if(B)A(this.sh),
W=this.sh,P=0,this.Ud.forEach(w),W=null,P=0;else{var a=this.sh;A(a);var d,e=0,b=this.items;if(b)for(d in b)b.hasOwnProperty(d)&&(a[e++]=b[d])}this.Pe=!0}};q.prototype.kd=function(){this.Qx();return this.sh};ba=q;new ba;bb=function(a,d){B?cb(a,d.Ud):db(a,d.kd())};cb=function(a,d){var e,b,f,m;b=e=0;for(f=a.length;e<f;++e)m=a[e],d.has(m)||(a[b++]=m);za(a,b)};db=function(a,d){var e,b,f,m;b=e=0;for(f=a.length;e<f;++e)m=a[e],-1===Ca(d,m)&&(a[b++]=m);za(a,b)};u.prototype.add=function(a){this.y=a-this.Xl;
this.tl=this.P+this.y;this.Xl=this.tl-this.P-this.y;this.P=this.tl};u.prototype.reset=function(){this.P=this.tl=this.y=this.Xl=0};eb=u;fb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.$i=function(a){this.pr=a;this.Cd=a.length/2;this.lb.length=a.length;this.Gj=this.Hj=-1;this.mp=0};b.prototype.Kg=function(){return!this.pr.length};b.prototype.wa=function(){for(var a=this.lb,d=a[0],e=d,b=a[1],f=b,m,v,y=1,x=this.Cd;y<x;++y)v=2*y,m=a[v],v=a[v+1],m<d&&(d=m),m>e&&(e=m),v<b&&
(b=v),v>f&&(f=v);this.Cj=d;this.Dj=e;this.Ej=b;this.Bj=f};b.prototype.Zi=function(a,d,e){this.lb.length=8;this.Cd=4;var b=this.lb;b[0]=a.left-d;b[1]=a.top-e;b[2]=a.right-d;b[3]=a.top-e;b[4]=a.right-d;b[5]=a.bottom-e;b[6]=a.left-d;b[7]=a.bottom-e;this.Hj=a.right-a.left;this.Gj=a.bottom-a.top;this.wa()};b.prototype.lh=function(a,d,e,b,f){this.lb.length=8;this.Cd=4;var m=this.lb;m[0]=a.nb-d;m[1]=a.ob-e;m[2]=a.Ub-d;m[3]=a.Vb-e;m[4]=a.Kb-d;m[5]=a.Lb-e;m[6]=a.Ib-d;m[7]=a.Jb-e;this.Hj=b;this.Gj=f;this.wa()};
b.prototype.Hr=function(a){this.Cd=a.Cd;Aa(this.lb,a.lb);this.Cj=a.Cj;this.Ej-a.Ej;this.Dj=a.Dj;this.Bj=a.Bj};b.prototype.ug=function(a,d,e){if(this.Hj!==a||this.Gj!==d||this.mp!==e){this.Hj=a;this.Gj=d;this.mp=e;var b,m,f,v,y,x=0,p=1,g=this.pr,h=this.lb;0!==e&&(x=Math.sin(e),p=Math.cos(e));e=0;for(f=this.Cd;e<f;e++)b=2*e,m=b+1,v=g[b]*a,y=g[m]*d,h[b]=v*p-y*x,h[m]=y*p+v*x;this.wa()}};b.prototype.yb=function(a,d){var e=this.lb;if(a===e[0]&&d===e[1])return!0;var b,m,f,v=this.Cd,y=this.Cj-110,x=this.Ej-
101,p=this.Dj+131,g=this.Bj+120,h,l,t=0,c=0;for(b=0;b<v;b++)m=2*b,f=(b+1)%v*2,h=e[m],m=e[m+1],l=e[f],f=e[f+1],ta(y,x,a,d,h,m,l,f)&&t++,ta(p,g,a,d,h,m,l,f)&&c++;return 1===t%2||1===c%2};b.prototype.Yh=function(a,d,e){var b=a.lb,m=this.lb;if(this.yb(b[0]+d,b[1]+e)||a.yb(m[0]-d,m[1]-e))return!0;var f,v,y,x,p,g,h,l,t,c,r,n;f=0;for(x=this.Cd;f<x;f++)for(v=2*f,y=(f+1)%x*2,l=m[v],v=m[v+1],t=m[y],c=m[y+1],y=0,h=a.Cd;y<h;y++)if(p=2*y,g=(y+1)%h*2,r=b[p]+d,p=b[p+1]+e,n=b[g]+d,g=b[g+1]+e,ta(l,v,t,c,r,p,n,g))return!0;
return!1};gb=b;a.prototype.Xe=function(a,d,e){var b;b=this.cells[a];return b?(b=b[d])?b:e?(b=h(this,a,d),this.cells[a][d]=b):null:e?(b=h(this,a,d),this.cells[a]={},this.cells[a][d]=b):null};a.prototype.$b=function(a){return qa(a/this.cm)};a.prototype.ac=function(a){return qa(a/this.$l)};a.prototype.update=function(a,d,e){var b,m,f,v,y;if(d)for(b=d.left,m=d.right;b<=m;++b)for(f=d.top,v=d.bottom;f<=v;++f)if(!e||!e.yb(b,f))if(y=this.Xe(b,f,!1))y.remove(a),y.ne()&&(y.tb.clear(),1E3>U.length&&U.push(y),
this.cells[b][f]=null);if(e)for(b=e.left,m=e.right;b<=m;++b)for(f=e.top,v=e.bottom;f<=v;++f)d&&d.yb(b,f)||this.Xe(b,f,!0).Tm(a)};a.prototype.cl=function(a,d){var e,b,f,m,v,y;e=this.$b(a.left);f=this.ac(a.top);b=this.$b(a.right);for(v=this.ac(a.bottom);e<=b;++e)for(m=f;m<=v;++m)(y=this.Xe(e,m,!1))&&y.dump(d)};hb=a;v.prototype.Xe=function(a,d,e){var b;b=this.cells[a];return b?(b=b[d])?b:e?(b=f(this,a,d),this.cells[a][d]=b):null:e?(b=f(this,a,d),this.cells[a]={},this.cells[a][d]=b):null};v.prototype.$b=
function(a){return qa(a/this.cm)};v.prototype.ac=function(a){return qa(a/this.$l)};v.prototype.update=function(a,d,e){var b,f,m,v,y;if(d)for(b=d.left,f=d.right;b<=f;++b)for(m=d.top,v=d.bottom;m<=v;++m)if(!e||!e.yb(b,m))if(y=this.Xe(b,m,!1))y.remove(a),y.ne()&&(y.reset(),1E3>G.length&&G.push(y),this.cells[b][m]=null);if(e)for(b=e.left,f=e.right;b<=f;++b)for(m=e.top,v=e.bottom;m<=v;++m)d&&d.yb(b,m)||this.Xe(b,m,!0).Tm(a)};v.prototype.cl=function(a,d,e,b,m){var f,v;a=this.$b(a);d=this.ac(d);e=this.$b(e);
for(f=this.ac(b);a<=e;++a)for(b=d;b<=f;++b)(v=this.Xe(a,b,!1))&&v.dump(m)};v.prototype.Fw=function(a){var d,e,b,m,f;d=a.left;b=a.top;e=a.right;for(m=a.bottom;d<=e;++d)for(a=b;a<=m;++a)if(f=this.Xe(d,a,!1))f.Ng=!1};ib=v;var U=[];d.prototype.ne=function(){return this.tb.ne()};d.prototype.Tm=function(a){this.tb.add(a)};d.prototype.remove=function(a){this.tb.remove(a)};d.prototype.dump=function(a){Ba(a,this.tb.kd())};aa=d;var G=[];t.prototype.ne=function(){if(!this.tb.length)return!0;if(this.tb.length>
this.Rd.count())return!1;this.wm();return!0};t.prototype.Tm=function(a){this.Rd.contains(a)?(this.Rd.remove(a),this.Rd.ne()&&(this.Ah=!1)):this.tb.length?(this.tb[this.tb.length-1].Zc()>a.Zc()&&(this.Ng=!1),this.tb.push(a)):(this.tb.push(a),this.Ng=!0)};t.prototype.remove=function(a){this.Rd.add(a);this.Ah=!0;30<=this.Rd.count()&&this.wm()};t.prototype.wm=function(){this.Ah&&(this.Rd.count()===this.tb.length?this.reset():(bb(this.tb,this.Rd),this.Rd.clear(),this.Ah=!1))};t.prototype.Ru=function(){this.Ng||
(this.tb.sort(e),this.Ng=!0)};t.prototype.reset=function(){A(this.tb);this.Ng=!0;this.Rd.clear();this.Ah=!1};t.prototype.dump=function(a){this.wm();this.Ru();this.tb.length&&a.push(this.tb)};ca=t;var E="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");jb=function(a){return 0>=a||11<=a?"source-over":E[a-1]};kb=function(a,d,e){if(e)switch(a.Tb=e.ONE,a.Nb=e.ONE_MINUS_SRC_ALPHA,d){case 1:a.Tb=e.ONE;a.Nb=e.ONE;break;case 3:a.Tb=
e.ONE;a.Nb=e.ZERO;break;case 4:a.Tb=e.ONE_MINUS_DST_ALPHA;a.Nb=e.ONE;break;case 5:a.Tb=e.DST_ALPHA;a.Nb=e.ZERO;break;case 6:a.Tb=e.ZERO;a.Nb=e.SRC_ALPHA;break;case 7:a.Tb=e.ONE_MINUS_DST_ALPHA;a.Nb=e.ZERO;break;case 8:a.Tb=e.ZERO;a.Nb=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.Tb=e.DST_ALPHA;a.Nb=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.Tb=e.ONE_MINUS_DST_ALPHA,a.Nb=e.SRC_ALPHA}};lb=function(a){return Math.round(1E6*a)/1E6};mb=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?
!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};ob=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||mb(a.tagName,"canvas")?!0:!1}})();var hc="undefined"!==typeof Float32Array?Float32Array:Array;function ic(c){var n=new hc(3);c&&(n[0]=c[0],n[1]=c[1],n[2]=c[2]);return n}
function jc(c){var n=new hc(16);c&&(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[8]=c[8],n[9]=c[9],n[10]=c[10],n[11]=c[11],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15]);return n}function kc(c,n){n[0]=c[0];n[1]=c[1];n[2]=c[2];n[3]=c[3];n[4]=c[4];n[5]=c[5];n[6]=c[6];n[7]=c[7];n[8]=c[8];n[9]=c[9];n[10]=c[10];n[11]=c[11];n[12]=c[12];n[13]=c[13];n[14]=c[14];n[15]=c[15]}
function lc(c,n){var k=n[0],q=n[1];n=n[2];c[0]*=k;c[1]*=k;c[2]*=k;c[3]*=k;c[4]*=q;c[5]*=q;c[6]*=q;c[7]*=q;c[8]*=n;c[9]*=n;c[10]*=n;c[11]*=n}
function mc(c,n,k,q){q||(q=jc());var w,u,b,a,v,h,d,f,t=c[0],e=c[1];c=c[2];u=k[0];b=k[1];w=k[2];k=n[1];h=n[2];t===n[0]&&e===k&&c===h?(c=q,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(k=t-n[0],h=e-n[1],d=c-n[2],f=1/Math.sqrt(k*k+h*h+d*d),k*=f,h*=f,d*=f,n=b*d-w*h,w=w*k-u*d,u=u*h-b*k,(f=Math.sqrt(n*n+w*w+u*u))?(f=1/f,n*=f,w*=f,u*=f):u=w=n=0,b=h*u-d*w,a=d*n-k*u,v=k*w-h*n,(f=Math.sqrt(b*b+a*a+v*v))?(f=1/f,b*=f,a*=f,v*=f):v=a=b=0,
q[0]=n,q[1]=b,q[2]=k,q[3]=0,q[4]=w,q[5]=a,q[6]=h,q[7]=0,q[8]=u,q[9]=v,q[10]=d,q[11]=0,q[12]=-(n*t+w*e+u*c),q[13]=-(b*t+a*e+v*c),q[14]=-(k*t+h*e+d*c),q[15]=1)}
(function(){function c(a,b,h){this.oe=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ea=!!h;this.uk=this.ai=!1;this.im=0;this.Kl=1;this.Jo=1E3;this.Xx=(this.Jo-this.Kl)/32768;this.Yl=ic([0,0,100]);this.tq=ic([0,0,0]);this.gs=ic([0,1,0]);this.sj=ic([1,1,1]);this.yp=!0;this.Lk=jc();this.Qc=jc();this.gn=jc();this.hm=jc();this.I=a;this.Wp()}function n(a,b,h){this.I=a;this.aj=b;this.name=h;this.ad=a.getAttribLocation(b,"aPos");this.ff=a.getAttribLocation(b,
"aTex");this.rq=a.getUniformLocation(b,"matP");this.Hk=a.getUniformLocation(b,"matMV");this.Wg=a.getUniformLocation(b,"opacity");this.qn=a.getUniformLocation(b,"colorFill");this.sq=a.getUniformLocation(b,"samplerFront");this.ti=a.getUniformLocation(b,"samplerBack");this.Wf=a.getUniformLocation(b,"destStart");this.Vf=a.getUniformLocation(b,"destEnd");this.wi=a.getUniformLocation(b,"seconds");this.sn=a.getUniformLocation(b,"pixelWidth");this.rn=a.getUniformLocation(b,"pixelHeight");this.si=a.getUniformLocation(b,
"layerScale");this.ri=a.getUniformLocation(b,"layerAngle");this.xi=a.getUniformLocation(b,"viewOrigin");this.vi=a.getUniformLocation(b,"scrollPos");this.gw=!!(this.sn||this.rn||this.wi||this.ti||this.Wf||this.Vf||this.si||this.ri||this.xi||this.vi);this.Bq=this.Cq=-999;this.Kk=1;this.xq=this.wq=0;this.zq=this.vq=this.uq=1;this.Fq=this.Eq=this.Dq=this.Hq=this.Gq=this.yq=0;this.dn=[];this.Aq=jc();this.Wg&&a.uniform1f(this.Wg,1);this.qn&&a.uniform4f(this.qn,1,1,1,1);this.sq&&a.uniform1i(this.sq,0);this.ti&&
a.uniform1i(this.ti,1);this.Wf&&a.uniform2f(this.Wf,0,0);this.Vf&&a.uniform2f(this.Vf,1,1);this.si&&a.uniform1f(this.si,1);this.ri&&a.uniform1f(this.ri,0);this.xi&&a.uniform2f(this.xi,0,0);this.vi&&a.uniform2f(this.vi,0,0);this.wi&&a.uniform1f(this.wi,0);this.Hf=!1}function k(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function q(a,b){this.type=a;this.F=b;this.I=b.I;this.Nd=this.Zb=this.Zq=0;this.Y=this.jd=null;this.Jr=[]}var w=jc();c.prototype.Wp=function(){var a=this.I,b;this.mq=1;this.Qf=this.bf=null;this.Oj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Ea?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.nq=a.ONE;this.lq=a.ONE_MINUS_SRC_ALPHA;
this.Il=new Float32Array(8E3*(this.Ea?3:2));this.ul=new Float32Array(16E3);this.kr=new Float32Array(32E3);this.Kn=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Kn);a.bufferData(a.ARRAY_BUFFER,this.kr.byteLength,a.DYNAMIC_DRAW);this.qj=Array(4);this.jj=Array(4);for(b=0;4>b;b++)this.qj[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.qj[b]),a.bufferData(a.ARRAY_BUFFER,this.Il.byteLength,a.DYNAMIC_DRAW),this.jj[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.jj[b]),a.bufferData(a.ARRAY_BUFFER,
this.ul.byteLength,a.DYNAMIC_DRAW);this.ee=0;this.kw=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.kw);for(var h=new Uint16Array(12E3),d=b=0;12E3>b;)h[b++]=d,h[b++]=d+1,h[b++]=d+2,h[b++]=d,h[b++]=d+2,h[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,h,a.STATIC_DRAW);this.Ln=this.oh=this.Fe=0;this.Ua=[];b=this.Ea?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";h=this.Gh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ua.push(h);h=this.Gh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ua.push(h);h=this.Gh({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ua.push(h);h=this.Gh({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ua.push(h);for(var f in nc)nc.hasOwnProperty(f)&&this.Ua.push(this.Gh(nc[f],b,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Oe=[];this.ae=0;this.Pb=!1;this.up=this.ni=-1;this.xg=null;this.um=a.createFramebuffer();this.Sj=this.dl=null;this.hp=!1;this.Ea&&(this.Sj=a.createRenderbuffer());this.pf=ic([0,0,0]);this.Iq=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Iq&&(this.Iq=2048);this.pc(0)};n.prototype.Co=function(a){k(this.Aq,a)||(kc(a,this.Aq),this.I.uniformMatrix4fv(this.Hk,
!1,a))};c.prototype.Gh=function(a,b,h){var d=this.I,f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,a.src);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))return d.deleteShader(f),null;var t=d.createShader(d.VERTEX_SHADER);d.shaderSource(t,b);d.compileShader(t);if(!d.getShaderParameter(t,d.COMPILE_STATUS))return d.deleteShader(f),d.deleteShader(t),null;b=d.createProgram();d.attachShader(b,f);d.attachShader(b,t);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(f),
d.deleteShader(t),d.deleteProgram(b),null;d.useProgram(b);d.deleteShader(f);d.deleteShader(t);h=new n(d,b,h);h.rm=a.rm||0;h.tm=a.tm||0;h.tp=!!a.tp;h.Ad=!!a.Ad;h.fp=!!a.fp;h.Z=a.Z||[];a=0;for(f=h.Z.length;a<f;a++)h.Z[a][1]=d.getUniformLocation(b,h.Z[a][0]),h.dn.push(0),d.uniform1f(h.Z[a][1],0);return h};c.prototype.Im=function(a){var b,h;b=0;for(h=this.Ua.length;b<h;b++)if(this.Ua[b].name===a)return b;return-1};c.prototype.or=function(a,b,h){var d=this.Qc,f=this.Lk,t=[0,0,0,0,0,0,0,0];t[0]=d[0]*a+
d[4]*b+d[12];t[1]=d[1]*a+d[5]*b+d[13];t[2]=d[2]*a+d[6]*b+d[14];t[3]=d[3]*a+d[7]*b+d[15];t[4]=f[0]*t[0]+f[4]*t[1]+f[8]*t[2]+f[12]*t[3];t[5]=f[1]*t[0]+f[5]*t[1]+f[9]*t[2]+f[13]*t[3];t[6]=f[2]*t[0]+f[6]*t[1]+f[10]*t[2]+f[14]*t[3];t[7]=-t[2];0!==t[7]&&(t[7]=1/t[7],t[4]*=t[7],t[5]*=t[7],t[6]*=t[7],h[0]=(.5*t[4]+.5)*this.width,h[1]=(.5*t[5]+.5)*this.height)};c.prototype.hg=function(a,b,h){if(this.width!==a||this.height!==b||h){this.Ve();h=this.I;this.width=a;this.height=b;h.viewport(0,0,a,b);mc(this.Yl,
this.tq,this.gs,this.Qc);if(this.Ea){var d=-a/2;a=a/2;var f=b/2;b=-b/2;var t=this.Kl,e=this.Jo,l=this.Lk;l||(l=jc());var c=a-d,g=b-f,m=e-t;l[0]=2/c;l[1]=0;l[2]=0;l[3]=0;l[4]=0;l[5]=2/g;l[6]=0;l[7]=0;l[8]=0;l[9]=0;l[10]=-2/m;l[11]=0;l[12]=-(d+a)/c;l[13]=-(b+f)/g;l[14]=-(e+t)/m;l[15]=1;this.sj[0]=1;this.sj[1]=1}else b=a/b,d=this.Kl,a=this.Jo,l=this.Lk,e=d*Math.tan(45*Math.PI/360),b*=e,f=-b,t=-e,l||(l=jc()),c=b-f,g=e-t,m=a-d,l[0]=2*d/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=2*d/g,l[6]=0,l[7]=0,l[8]=(b+f)/
c,l[9]=(e+t)/g,l[10]=-(a+d)/m,l[11]=-1,l[12]=0,l[13]=0,l[14]=-(a*d*2)/m,l[15]=0,d=[0,0],a=[0,0],this.or(0,0,d),this.or(1,1,a),this.sj[0]=1/(a[0]-d[0]),this.sj[1]=-1/(a[1]-d[1]);d=0;for(a=this.Ua.length;d<a;d++)f=this.Ua[d],f.Hf=!1,f.rq&&(h.useProgram(f.aj),h.uniformMatrix4fv(f.rq,!1,this.Lk));h.useProgram(this.Ua[this.ni].aj);h.bindTexture(h.TEXTURE_2D,null);h.activeTexture(h.TEXTURE1);h.bindTexture(h.TEXTURE_2D,null);h.activeTexture(h.TEXTURE0);this.Qf=this.bf=null;this.Sj&&(h.bindFramebuffer(h.FRAMEBUFFER,
this.um),h.bindRenderbuffer(h.RENDERBUFFER,this.Sj),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,this.width,this.height),this.hp||(h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,this.Sj),this.hp=!0),h.bindRenderbuffer(h.RENDERBUFFER,null),h.bindFramebuffer(h.FRAMEBUFFER,null),this.dl=null)}};c.prototype.ed=function(){mc(this.Yl,this.tq,this.gs,this.Qc);lc(this.Qc,this.sj)};c.prototype.translate=function(a,b){if(0!==a||0!==b){this.pf[0]=a;this.pf[1]=b;this.pf[2]=
0;var h=this.Qc,d=this.pf,f=d[0],t=d[1],d=d[2];h[12]=h[0]*f+h[4]*t+h[8]*d+h[12];h[13]=h[1]*f+h[5]*t+h[9]*d+h[13];h[14]=h[2]*f+h[6]*t+h[10]*d+h[14];h[15]=h[3]*f+h[7]*t+h[11]*d+h[15]}};c.prototype.scale=function(a,b){if(1!==a||1!==b)this.pf[0]=a,this.pf[1]=b,this.pf[2]=1,lc(this.Qc,this.pf)};c.prototype.fl=function(a){if(0!==a){var b=this.Qc,h,d=Math.sin(a);a=Math.cos(a);var f=b[0],t=b[1],e=b[2],l=b[3],c=b[4],g=b[5],m=b[6],p=b[7];h?b!==h&&(h[8]=b[8],h[9]=b[9],h[10]=b[10],h[11]=b[11],h[12]=b[12],h[13]=
b[13],h[14]=b[14],h[15]=b[15]):h=b;h[0]=f*a+c*d;h[1]=t*a+g*d;h[2]=e*a+m*d;h[3]=l*a+p*d;h[4]=f*-d+c*a;h[5]=t*-d+g*a;h[6]=e*-d+m*a;h[7]=l*-d+p*a}};c.prototype.Tc=function(){if(!k(this.gn,this.Qc)){var a=this.Fc();a.type=5;a.Y?kc(this.Qc,a.Y):a.Y=jc(this.Qc);kc(this.Qc,this.gn);this.Pb=!1}};c.prototype.jl=function(a){this.Ea&&(32760<a&&(a=32760),this.im=this.Yl[2]-this.Kl-a*this.Xx)};q.prototype.Bu=function(){var a=this.I,b=this.F;0!==this.Zb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.um),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.uk=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.uk=!1)};q.prototype.Fu=function(){this.I.bindTexture(this.I.TEXTURE_2D,this.jd)};q.prototype.Gu=function(){var a=this.I;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.jd);a.activeTexture(a.TEXTURE0)};q.prototype.Cu=function(){var a=this.Zq,
b=this.F;b.Oj=a;b=b.xg;b.Wg&&b.Kk!==a&&(b.Kk=a,this.I.uniform1f(b.Wg,a))};q.prototype.wu=function(){this.I.drawElements(this.I.TRIANGLES,this.Nd,this.I.UNSIGNED_SHORT,this.Zb)};q.prototype.yu=function(){this.I.blendFunc(this.Zb,this.Nd)};q.prototype.Hu=function(){var a,b,h,d=this.F.Ua,f=this.F.up;a=0;for(b=d.length;a<b;a++)h=d[a],a===f&&h.Hk?(h.Co(this.Y),h.Hf=!0):h.Hf=!1;kc(this.Y,this.F.hm)};q.prototype.xu=function(){var a=this.I,b=this.F;this.jd?(b.Qf===this.jd&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
null),b.Qf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.um),b.uk||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.jd,0)):(b.Ea||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};q.prototype.tu=function(){var a=this.I,b=this.Zb;0===b?(a.clearColor(this.Y[0],this.Y[1],this.Y[2],this.Y[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Y[0],this.Y[1],this.Y[2],
this.Y[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};q.prototype.Au=function(){var a=this.I;0!==this.Zb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};q.prototype.vu=function(){var a=this.I,b=this.F;b.Ea&&a.disable(a.DEPTH_TEST);var h=b.Ua[1];a.useProgram(h.aj);!h.Hf&&h.Hk&&(h.Co(b.hm),h.Hf=!0);a.enableVertexAttribArray(h.ad);a.bindBuffer(a.ARRAY_BUFFER,b.Kn);a.vertexAttribPointer(h.ad,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Zb/
4,this.Nd);h=b.xg;a.useProgram(h.aj);0<=h.ad&&(a.enableVertexAttribArray(h.ad),a.bindBuffer(a.ARRAY_BUFFER,b.qj[b.ee]),a.vertexAttribPointer(h.ad,b.Ea?3:2,a.FLOAT,!1,0,0));0<=h.ff&&(a.enableVertexAttribArray(h.ff),a.bindBuffer(a.ARRAY_BUFFER,b.jj[b.ee]),a.vertexAttribPointer(h.ff,2,a.FLOAT,!1,0,0));b.Ea&&a.enable(a.DEPTH_TEST)};q.prototype.Du=function(){var a=this.I,b=this.F,h=b.Ua[this.Zb];b.up=this.Zb;b.xg=h;a.useProgram(h.aj);!h.Hf&&h.Hk&&(h.Co(b.hm),h.Hf=!0);h.Wg&&h.Kk!==b.Oj&&(h.Kk=b.Oj,a.uniform1f(h.Wg,
b.Oj));0<=h.ad&&(a.enableVertexAttribArray(h.ad),a.bindBuffer(a.ARRAY_BUFFER,b.qj[b.ee]),a.vertexAttribPointer(h.ad,b.Ea?3:2,a.FLOAT,!1,0,0));0<=h.ff&&(a.enableVertexAttribArray(h.ff),a.bindBuffer(a.ARRAY_BUFFER,b.jj[b.ee]),a.vertexAttribPointer(h.ff,2,a.FLOAT,!1,0,0))};q.prototype.zu=function(){var a=this.Y;this.I.uniform4f(this.F.xg.qn,a[0],a[1],a[2],a[3])};q.prototype.Eu=function(){var a,b,h=this.F.xg,d=this.I;a=this.Y;h.ti&&this.F.Qf!==this.jd&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,
this.jd),this.F.Qf=this.jd,d.activeTexture(d.TEXTURE0));var f=a[0];h.sn&&f!==h.Cq&&(h.Cq=f,d.uniform1f(h.sn,f));f=a[1];h.rn&&f!==h.Bq&&(h.Bq=f,d.uniform1f(h.rn,f));f=a[2];b=a[3];!h.Wf||f===h.wq&&b===h.xq||(h.wq=f,h.xq=b,d.uniform2f(h.Wf,f,b));f=a[4];b=a[5];!h.Vf||f===h.uq&&b===h.vq||(h.uq=f,h.vq=b,d.uniform2f(h.Vf,f,b));f=a[6];h.si&&f!==h.zq&&(h.zq=f,d.uniform1f(h.si,f));f=a[7];h.ri&&f!==h.yq&&(h.yq=f,d.uniform1f(h.ri,f));f=a[8];b=a[9];!h.xi||f===h.Gq&&b===h.Hq||(h.Gq=f,h.Hq=b,d.uniform2f(h.xi,f,
b));f=a[10];b=a[11];!h.vi||f===h.Dq&&b===h.Eq||(h.Dq=f,h.Eq=b,d.uniform2f(h.vi,f,b));f=a[12];h.wi&&f!==h.Fq&&(h.Fq=f,d.uniform1f(h.wi,f));if(h.Z.length)for(a=0,b=h.Z.length;a<b;a++)f=this.Jr[a],f!==h.dn[a]&&(h.dn[a]=f,d.uniform1f(h.Z[a][1],f))};c.prototype.Fc=function(){this.ae===this.Oe.length&&this.Oe.push(new q(0,this));return this.Oe[this.ae++]};c.prototype.Ve=function(){if(0!==this.ae&&!this.I.isContextLost()){var a=this.I;0<this.Ln&&(a.bindBuffer(a.ARRAY_BUFFER,this.Kn),a.bufferSubData(a.ARRAY_BUFFER,
0,this.kr.subarray(0,this.Ln)),b&&0<=b.ad&&"<point>"===b.name&&a.vertexAttribPointer(b.ad,4,a.FLOAT,!1,0,0));if(0<this.Fe){var b=this.xg;a.bindBuffer(a.ARRAY_BUFFER,this.qj[this.ee]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Il.subarray(0,this.Fe));b&&0<=b.ad&&"<point>"!==b.name&&a.vertexAttribPointer(b.ad,this.Ea?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.jj[this.ee]);a.bufferSubData(a.ARRAY_BUFFER,0,this.ul.subarray(0,this.oh));b&&0<=b.ff&&"<point>"!==b.name&&a.vertexAttribPointer(b.ff,2,
a.FLOAT,!1,0,0)}for(var h,a=0,b=this.ae;a<b;a++)switch(h=this.Oe[a],h.type){case 1:h.wu();break;case 2:h.Fu();break;case 3:h.Cu();break;case 4:h.yu();break;case 5:h.Hu();break;case 6:h.xu();break;case 7:h.tu();break;case 8:h.vu();break;case 9:h.Du();break;case 10:h.Eu();break;case 11:h.Gu();break;case 12:h.zu();break;case 13:h.Au();break;case 14:h.Bu()}this.Ln=this.oh=this.Fe=this.ae=0;this.uk=this.Pb=!1;this.ee++;4<=this.ee&&(this.ee=0)}};c.prototype.gg=function(a){if(a!==this.mq&&!this.ai){var b=
this.Fc();b.type=3;this.mq=b.Zq=a;this.Pb=!1}};c.prototype.Gc=function(a){if(a!==this.bf){var b=this.Fc();b.type=2;this.bf=b.jd=a;this.Pb=!1}};c.prototype.lf=function(a,b){if((a!==this.nq||b!==this.lq)&&!this.ai){var h=this.Fc();h.type=4;h.Zb=a;h.Nd=b;this.nq=a;this.lq=b;this.Pb=!1}};c.prototype.yr=function(){this.lf(this.I.ONE,this.I.ONE_MINUS_SRC_ALPHA)};c.prototype.Ti=function(a,b,h,d,f,t,e,l){15992<=this.Fe&&this.Ve();var c=this.Fe,g=this.oh,m=this.Il,p=this.ul,n=this.im;if(this.Pb)this.Oe[this.ae-
1].Nd+=6;else{var k=this.Fc();k.type=1;k.Zb=this.Ea?c:c/2*3;k.Nd=6;this.Pb=!0}this.Ea?(m[c++]=a,m[c++]=b,m[c++]=n,m[c++]=h,m[c++]=d,m[c++]=n,m[c++]=f,m[c++]=t,m[c++]=n,m[c++]=e,m[c++]=l,m[c++]=n):(m[c++]=a,m[c++]=b,m[c++]=h,m[c++]=d,m[c++]=f,m[c++]=t,m[c++]=e,m[c++]=l);p[g++]=0;p[g++]=0;p[g++]=1;p[g++]=0;p[g++]=1;p[g++]=1;p[g++]=0;p[g++]=1;this.Fe=c;this.oh=g};c.prototype.Sd=function(a,b,c,d,f,t,e,l,r){15992<=this.Fe&&this.Ve();var g=this.Fe,m=this.oh,p=this.Il,n=this.ul,k=this.im;if(this.Pb)this.Oe[this.ae-
1].Nd+=6;else{var q=this.Fc();q.type=1;q.Zb=this.Ea?g:g/2*3;q.Nd=6;this.Pb=!0}var q=r.left,w=r.top,u=r.right;r=r.bottom;this.Ea?(p[g++]=a,p[g++]=b,p[g++]=k,p[g++]=c,p[g++]=d,p[g++]=k,p[g++]=f,p[g++]=t,p[g++]=k,p[g++]=e,p[g++]=l,p[g++]=k):(p[g++]=a,p[g++]=b,p[g++]=c,p[g++]=d,p[g++]=f,p[g++]=t,p[g++]=e,p[g++]=l);n[m++]=q;n[m++]=w;n[m++]=u;n[m++]=w;n[m++]=u;n[m++]=r;n[m++]=q;n[m++]=r;this.Fe=g;this.oh=m};c.prototype.pc=function(a){if(this.ni!==a){if(!this.Ua[a]){if(0===this.ni)return;a=0}var b=this.Fc();
b.type=9;this.ni=b.Zb=a;this.Pb=!1}};c.prototype.Qi=function(a){a=this.Ua[a];return!(!a.Wf&&!a.Vf)};c.prototype.Pn=function(a){a=this.Ua[a];return!!(a.Wf||a.Vf||a.tp)};c.prototype.On=function(a){return this.Ua[a].Ad};c.prototype.hx=function(a){a=this.Ua[a];return 0!==a.rm||0!==a.tm};c.prototype.Ov=function(a){return this.Ua[a].rm};c.prototype.Pv=function(a){return this.Ua[a].tm};c.prototype.Qv=function(a,b){return this.Ua[a].Z[b][2]};c.prototype.bl=function(a){return this.Ua[a].fp};c.prototype.kh=
function(a,b,c,d,f,t,e,l,r,g,m,p,n,k,q){var w=this.Ua[this.ni],u,G;if(w.gw||q.length){u=this.Fc();u.type=10;u.Y?kc(this.Qc,u.Y):u.Y=jc();G=u.Y;G[0]=b;G[1]=c;G[2]=d;G[3]=f;G[4]=t;G[5]=e;G[6]=l;G[7]=r;G[8]=g;G[9]=m;G[10]=p;G[11]=n;G[12]=k;w.ti?u.jd=a:u.jd=null;if(q.length)for(c=u.Jr,c.length=q.length,a=0,b=q.length;a<b;a++)c[a]=q[a];this.Pb=!1}};c.prototype.clear=function(a,b,c,d){var f=this.Fc();f.type=7;f.Zb=0;f.Y||(f.Y=jc());f.Y[0]=a;f.Y[1]=b;f.Y[2]=c;f.Y[3]=d;this.Pb=!1};c.prototype.clearRect=function(a,
b,c,d){if(!(0>c||0>d)){var f=this.Fc();f.type=7;f.Zb=1;f.Y||(f.Y=jc());f.Y[0]=a;f.Y[1]=b;f.Y[2]=c;f.Y[3]=d;this.Pb=!1}};c.prototype.Cr=function(a){if(this.Ea&&(a=!!a,this.ai!==a)){var b=this.Fc();b.type=14;b.Zb=a?1:0;this.Pb=!1;this.ai=a;this.dl=null;this.ai?this.pc(2):this.pc(0)}};c.prototype.Br=function(a){if(this.Ea){var b=this.Fc();b.type=13;b.Zb=a?1:0;this.Pb=!1}};c.prototype.Hp=function(){kc(this.gn,w);this.ed();this.Tc();var a=this.width/2,b=this.height/2;this.Ti(-a,b,a,b,a,-b,-a,-b);kc(w,
this.Qc);this.Tc()};c.prototype.Ar=function(a,b,c){this.pc(3);var d=this.Fc();d.type=12;d.Y||(d.Y=jc());d.Y[0]=a;d.Y[1]=b;d.Y[2]=c;d.Y[3]=1;this.Pb=!1};c.prototype.Ex=function(){this.pc(0)};c.prototype.ox=function(){this.pc(2)};c.prototype.gx=function(){this.Ve();this.I.flush()};var u=[],b={};c.prototype.ju=function(){A(u);b={}};c.prototype.Ek=function(a,c,h,d){c=!!c;h=!!h;var f=a.src+","+c+","+h+(c?",undefined":""),t=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(f))return t=b[f],t.Fj++,t;
this.Ve();var e=this.I,l=ia(a.width)&&ia(a.height),t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=e.RGBA,g=e.RGBA,m=e.UNSIGNED_BYTE;if(d&&!this.oe)switch(d){case 1:g=r=e.RGB;break;case 2:m=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:m=e.UNSIGNED_SHORT_5_5_5_1;break;case 4:g=r=e.RGB,m=e.UNSIGNED_SHORT_5_6_5}if(!l&&c){d=document.createElement("canvas");d.width=ja(a.width);d.height=ja(a.height);var p=d.getContext("2d");"undefined"!==typeof p.imageSmoothingEnabled?
p.imageSmoothingEnabled=h:(p.webkitImageSmoothingEnabled=h,p.mozImageSmoothingEnabled=h,p.msImageSmoothingEnabled=h);p.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);e.texImage2D(e.TEXTURE_2D,0,r,g,m,d)}else e.texImage2D(e.TEXTURE_2D,0,r,g,m,a);c?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));h?(e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,e.LINEAR),l&&this.yp?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,null);this.bf=null;t.uf=a.width;t.tf=a.height;t.Fj=1;t.lp=f;u.push(t);return b[f]=t};c.prototype.Kc=function(a,b,c,d){this.Ve();var f=this.I;
this.oe&&(d=!1);var t=f.createTexture();f.bindTexture(f.TEXTURE_2D,t);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,d?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,c?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,c?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.bf=null;t.uf=a;t.tf=b;u.push(t);
return t};c.prototype.Vx=function(a,b,c){this.Ve();var d=this.I;this.oe&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}d.bindTexture(d.TEXTURE_2D,null);this.bf=null};c.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Fj&&1<a.Fj?a.Fj--:(this.Ve(),a===this.bf&&(this.I.bindTexture(this.I.TEXTURE_2D,
null),this.bf=null),a===this.Qf&&(this.I.activeTexture(this.I.TEXTURE1),this.I.bindTexture(this.I.TEXTURE_2D,null),this.I.activeTexture(this.I.TEXTURE0),this.Qf=null),Da(u,a),"undefined"!==typeof a.lp&&delete b[a.lp],this.I.deleteTexture(a)))};c.prototype.fd=function(a){if(a!==this.dl){var b=this.Fc();b.type=6;this.dl=b.jd=a;this.Pb=!1}};pb=c})();
(function(){function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.xc=(this.$h=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Qb=!!a.dc;this.aq="undefined"!==typeof window.AppMobi||
this.Qb;this.Oc=!!window.c2cocoonjs;this.wd=!!window.c2ejecta;this.Oc&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.wd&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Fa=this.Qb||this.Oc||this.wd;this.ci=
/edge\//i.test(navigator.userAgent);this.oe=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.ci;this.dq=/tizen/i.test(navigator.userAgent);this.sk=/android/i.test(navigator.userAgent)&&!this.dq&&!this.oe&&!this.ci;this.jq=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.oe&&!this.ci;this.Aw=/ipad/i.test(navigator.userAgent);this.Pg=this.jq||this.Aw||this.wd;this.Zh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.oe&&!this.ci;this.Vm=/amazonwebappplatform/i.test(navigator.userAgent);this.sw=/firefox/i.test(navigator.userAgent);this.ww=/safari/i.test(navigator.userAgent)&&!this.Zh&&!this.oe&&!this.ci;this.xw=/windows/i.test(navigator.userAgent);this.Ze="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.hq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.zw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Jg=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.an=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.gq=!!window.cr_windows10;this.fq=this.hq||this.zw||this.an||this.gq;this.qw=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.tk=this.sk&&!this.Zh&&!this.$h&&!this.sw&&!this.Vm&&!this.Fa;this.devicePixelRatio=
1;this.pe=this.xc||this.$h||this.aq||this.Oc||this.sk||this.Pg||this.Jg||this.an||this.qw||this.dq||this.wd;this.pe||(this.pe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.gi=!!(this.Pg&&this.xc&&window.webkit);this.Om=null;this.iw="";this.gi&&(this.Om=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Ze||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Ze=!0);this.canvas=a;this.np=document.getElementById("c2canvasdiv");this.F=this.I=null;this.Jm="(unavailable)";this.Ea=!1;this.Af=0;this.Na=null;this.ym="";this.bk=!1;this.Wq=this.Xq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Qb&&(window.c2runtime=this);this.Ze&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=
function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.tk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.N=this.width;this.M=this.height;this.Mj=this.width;this.Ih=this.height;this.Tg=window.innerWidth;this.Sg=window.innerHeight;this.Bv=!1;this.ma=!0;this.fi=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.D=[];this.Ra=
[];this.kn={};this.Bc=[];this.qm={};this.ie=[];this.vh=[];this.Dl=[];this.Ql=[];this.$t=[];this.kq=this.Qr=null;this.wf={};this.Xm=this.Ye=!1;this.xd=0;this.Wm=this.Zm=!1;this.ud=[];this.bi=!1;this.qe=this.Sb=this.Ck=this.eo="";this.gj=this.Mr=!1;this.ak=[];this.zf=this.yf=0;this.Mq=30;this.gm=this.yi=0;this.lg=1;this.Ya=new eb;this.Ge=new eb;this.Pk=this.gk=this.Wj=this.De=this.Sf=this.xm=this.xk=0;this.be=null;this.Tj=[];this.pm=[];this.Vj=-1;this.tn=[[]];this.xo=this.Ik=0;this.Rn(null);this.Nh=
this.Rq=this.Ei=0;this.hj=[];this.uo=this.Un=-1;this.Nf=!0;this.Gk=0;this.di=!1;this.Hx=0;this.sg=null;this.Va=this.mk=!1;this.Vq=new ba;this.zn=new ba;this.An=new ba;this.Wn=[];this.Ed=new gb([]);this.qo=new gb([]);this.Me=[];this.lk={};this.Qe={};this.Le={};this.uh={};this.ip={};this.qq=this.Bk=this.$a=this.ib=this.pq=this.Ak=this.ua=null;this.rh=this.bn=!1;this.zm=[null,null];this.Df=0;this.vm="";this.ue={};this.ej=this.df=null;this.Or="";this.Ok=[];this.nx()}}function n(a,b){return 128>=b?a[3]:
256>=b?a[2]:512>=b?a[1]:a[0]}function k(){try{return!!window.indexedDB}catch(a){return!1}}function q(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function w(a,b,d,e){try{var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=q;m.onerror=e;m.onsuccess=function(m){m=m.target.result;m.onerror=e;m.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=d}}catch(f){e(f)}}function u(a,b,d){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=q;e.onerror=
d;e.onsuccess=function(e){e=e.target.result;e.onerror=d;var m=e.transaction(["saves"]).objectStore("saves").get(a);m.onsuccess=function(){m.result?b(m.result.data):b(null)}}}catch(m){d(m)}}function b(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var b,d={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].Xy||
"spriteCreatedDestroyCallback"!==b&&(d[b]=a[b]);return d}var v=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;c.prototype.nx=function(){var a=this;if(this.gi)this.Om?this.Om.startServer({port:0,localhost_only:!0},function(b){a.iw=b;a.Ep(function(b){a.Vg(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.Ep(function(b){a.Vg(JSON.parse(b))},
function(){alert("Error fetching data.js")});else{var b;this.Jg?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var d="data.js";if(this.hq||this.Jg||this.an||this.gq)d="data.json";b.open("GET",d,!0);var e=!1;if(!this.Fa&&"response"in b&&"responseType"in b)try{b.responseType="json",e="json"===b.responseType}catch(m){e=!1}if(!e&&"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(p){}this.Jg?b.onreadystatechange=
function(){4===b.readyState&&a.Vg(JSON.parse(b.responseText))}:(b.onload=function(){if(e)a.Vg(b.response);else if(a.wd){var d=b.responseText,d=d.substr(d.indexOf("{"));a.Vg(JSON.parse(d))}else a.Vg(JSON.parse(b.responseText))},b.onerror=function(a){ea("Error requesting "+d+":");ea(a)});b.send()}};c.prototype.lw=function(){var a=this,b,d,e,m,f,p,g,c,l;this.Mf=(!this.Fa||this.wd||this.xc)&&this.Sx&&!this.tk;0===this.Ob&&this.Pg&&(this.Mf=!1);this.devicePixelRatio=this.Mf?window.devicePixelRatio||window.webkitDevicePixelRatio||
window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Gb();d=!(!this.Bv&&(!this.Rl||this.Ze||this.fq||this.Jg||this.$h||this.xc||this.Vm));0<this.Ob&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Pu&&(this.Oc||this.wd||!this.Fa)&&(b={alpha:d,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.I=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(t){}if(this.I){if(b=this.I.getExtension("WEBGL_debug_renderer_info"))this.Jm=this.I.getParameter(b.UNMASKED_RENDERER_WEBGL)+
" ["+this.I.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Ea&&(this.Jm+=" [front-to-back enabled]");this.Fa||(this.Db=document.createElement("canvas"),jQuery(this.Db).appendTo(this.canvas.parentNode),this.Db.oncontextmenu=function(){return!1},this.Db.onselectstart=function(){return!1},this.Db.width=Math.round(this.Mj*this.devicePixelRatio),this.Db.height=Math.round(this.Ih*this.devicePixelRatio),jQuery(this.Db).css({width:this.Mj+"px",height:this.Ih+"px"}),this.mr(),this.Jn=this.Db.getContext("2d"));
this.F=new pb(this.I,this.pe,this.Ea);this.F.hg(this.canvas.width,this.canvas.height);this.F.yp=0!==this.Iu;this.Na=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Kw();da("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.F.Wp();a.F.hg(a.F.width,a.F.height,!0);a.ib=null;a.$a=null;a.zm[0]=null;a.zm[1]=null;a.Lw();a.ma=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},
!1);b=0;for(d=this.D.length;b<d;b++)for(f=this.D[b],e=0,m=f.U.length;e<m;e++)g=f.U[e],g.cb=this.F.Im(g.id),g.Ad=this.F.On(g.cb),this.rh=this.rh||this.F.Qi(g.cb);b=0;for(d=this.Bc.length;b<d;b++){c=this.Bc[b];e=0;for(m=c.U.length;e<m;e++)g=c.U[e],g.cb=this.F.Im(g.id),g.Ad=this.F.On(g.cb);c.Gd();e=0;for(m=c.W.length;e<m;e++){l=c.W[e];f=0;for(p=l.U.length;f<p;f++)g=l.U[f],g.cb=this.F.Im(g.id),g.Ad=this.F.On(g.cb),this.rh=this.rh||this.F.Qi(g.cb);l.Gd()}}}else{if(0<this.Ob&&this.Qb){this.canvas=null;
document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Na=AppMobi.canvas.getContext("2d");try{this.Na.samplingMode=this.Qa?"smooth":"sharp",this.Na.globalScale=1,this.Na.HTML5CompatibilityMode=!0,this.Na.imageSmoothingEnabled=this.Qa}catch(h){}0!==this.width&&0!==this.height&&(this.Na.width=this.width,this.Na.height=this.height)}this.Na||(this.Oc?(b={antialias:!!this.Qa,alpha:d},this.Na=this.canvas.getContext("2d",b)):(b={alpha:d},this.Na=this.canvas.getContext("2d",
b)),this.il(this.Na,this.Qa));this.Jn=this.Db=null}this.Yr=function(b){a.Ma(!1,b)};window==window.top||this.Fa||this.fq||this.Jg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Oc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.Ck="__c2_continuouspreview",
this.gj=!0),this.Xw&&!this.pe&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.dg()});this.Fa||(b=function(a){if(ob(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",
b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Ob&&this.Mf&&1<this.devicePixelRatio&&this.setSize(this.kb,this.jb,!0);this.cs();this.dw();this.go();this.V={}};c.prototype.setSize=function(a,b,d){var e=0,m=0,f=0,p=0,p=0;if(this.Tg!==a||this.Sg!==b||d){this.Tg=a;this.Sg=b;var g=this.Ob,c=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.di)&&!this.xc;if(c||0!==this.Ob||d)c&&0<this.Df&&(g=this.Df),d=this.devicePixelRatio,4<=g?(f=this.kb/this.jb,a/b>f?(f*=b,5===g?(p=f*d/this.kb,1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p)),f=this.kb*p/d,p=this.jb*p/d,e=(a-f)/2,m=(b-p)/2,a=f,b=p):(e=(a-f)/2,a=f)):(p=a/f,5===g?(p=p*d/this.jb,1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p)),f=this.kb*p/d,p=this.jb*p/d,e=(a-f)/2,m=(b-p)/2,a=f):m=(b-p)/2,b=p),c&&!this.Ze&&(m=e=0)):this.Ze&&this.di&&0===this.Ip&&(e=Math.floor((a-this.kb)/
2),m=Math.floor((b-this.jb)/2),a=this.kb,b=this.jb),2>g&&(this.Ch=d),this.Mj=Math.round(a),this.Ih=Math.round(b),this.width=Math.round(a*d),this.height=Math.round(b*d),this.ma=!0,this.us?(this.N=this.width,this.M=this.height,this.Lc=!0):this.width<this.kb&&this.height<this.jb||1===g?(this.N=this.width,this.M=this.height,this.Lc=!0):(this.N=this.kb,this.M=this.jb,this.Lc=!1,2===g?(f=this.kb/this.jb,g=this.Tg/this.Sg,g<f?this.N=this.M*g:g>f&&(this.M=this.N/g)):3===g&&(f=this.kb/this.jb,g=this.Tg/this.Sg,
g>f?this.N=this.M*g:g<f&&(this.M=this.N/g))),this.np&&!this.Fa&&(jQuery(this.np).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(m)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(b*d),this.wd?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(m)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Mf&&!this.Fa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Db&&(this.Db.width=Math.round(a*d),this.Db.height=Math.round(b*d),this.Db.style.width=this.Mj+"px",this.Db.style.height=this.Ih+"px"),this.F&&this.F.hg(Math.round(a*d),Math.round(b*d)),this.Qb&&this.Na&&(this.Na.width=Math.round(a),this.Na.height=Math.round(b)),this.Na&&this.il(this.Na,this.Qa),this.cs(),this.jq&&!this.xc&&
window.scrollTo(0,0)}};c.prototype.cs=function(){if(this.bu&&0!==this.Hn){var a="portrait";2===this.Hn&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",
b)}}};c.prototype.Kw=function(){this.F.ju();this.bn=!0;var a,b,d;a=0;for(b=this.D.length;a<b;a++)d=this.D[a],d.Qk&&d.Qk()};c.prototype.Lw=function(){this.bn=!1;var a,b,d;a=0;for(b=this.D.length;a<b;a++)d=this.D[a],d.Fn&&d.Fn()};c.prototype.mr=function(){if(!this.Fa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.di)&&!this.xc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Db).css(a)}};
var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(a){var b;if(a&&!this.fi)for(da("[Construct 2] Suspending"),this.fi=!0,-1!==this.Un&&h&&h(this.Un),-1!==this.uo&&clearTimeout(this.uo),a=0,b=this.hj.length;a<b;a++)this.hj[a](!0);else if(!a&&this.fi){da("[Construct 2] Resuming");this.fi=!1;this.xk=ab();this.Sf=ab();a=this.yi=this.gk=0;for(b=this.hj.length;a<
b;a++)this.hj[a](!1);this.Ma(!1)}};c.prototype.Zt=function(a){this.hj.push(a)};c.prototype.Je=function(a){return this.Ok[a]};c.prototype.Vg=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.Gp=a[1];this.Ob=a[12];this.Ip=a[12];this.kb=a[10];this.jb=a[11];this.gr=this.kb/2;this.hr=this.jb/2;this.Fa&&!this.wd&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Ip=
this.Ob=3);this.Eo=a[18];this.ef=a[19];if(0===this.ef){var b=new Image;b.crossOrigin="anonymous";this.Er(b,"loading-logo.png");this.df={Jk:b}}else if(4===this.ef){b=new Image;b.src="";var d=new Image;d.src="";var e=new Image;e.src="";var m=new Image;m.src="";var f=new Image;f.src="";var p=new Image;p.src="";var g=new Image;g.src="";var c=new Image;c.src="";var l=new Image;l.src="";var t=new Image;t.src="";var h=new Image;h.src="";var v=new Image;v.src="";this.df={Jk:[b,d,e,m],ax:[f,p,g,c],Wx:[l,t,
h,v]}}this.Ei=a[21];this.Ok=oc();this.Vd=new N(this);b=0;for(d=a[2].length;b<d;b++)g=a[2][b],e=this.Je(g[0]),qb(g,e.prototype),c=new e(this),c.pl=g[1],c.$e=g[2],c.Oq=g[9],c.S&&c.S(),this.plugins.push(c);this.Ok=oc();b=0;for(d=a[3].length;b<d;b++){g=a[3][b];f=this.Je(g[1]);c=null;e=0;for(m=this.plugins.length;e<m;e++)if(this.plugins[e]instanceof f){c=this.plugins[e];break}l=new c.na(c);l.name=g[0];l.O=g[2];l.Um=g[3].slice(0);l.Ux=g[3].length;l.cu=g[4];l.Dv=g[5];l.da=g[11];l.O?(l.Zg=[],l.je=this.Nh++,
l.Oa=null):(l.Zg=null,l.je=-1,l.Oa=[]);l.Zj=null;l.Cg=null;l.zp=null;l.yc=!1;l.tc=null;g[6]?(l.ro=g[6][0],l.so=g[6][1],l.to=g[6][2]):(l.ro=null,l.so=0,l.to=0);g[7]?l.sc=g[7]:l.sc=null;l.index=b;l.j=[];l.Qj=[];l.Ce=[new rb(l)];l.Jd=0;l.Wc=null;l.ou=0;l.nh=!0;l.El=sb;l.Op=tb;l.Mv=ub;l.ra=vb;l.Si=wb;l.Qn=xb;l.gh=yb;l.ik=zb;l.Bm=Ab;l.Em=Cb;l.Zd=Db;l.Fm=Eb;l.Jj=new hb(this.kb,this.jb);l.zj=!0;l.Aj=!1;l.V={};l.toString=Fb;l.Ra=[];e=0;for(m=g[8].length;e<m;e++){t=g[8][e];h=this.Je(t[1]);v=null;f=0;for(p=
this.Ra.length;f<p;f++)if(this.Ra[f]instanceof h){v=this.Ra[f];break}v||(v=new h(this),v.Nk=[],v.Zf=new ba,v.S&&v.S(),this.Ra.push(v),pc&&v instanceof pc&&(this.Qr=v),gc.Cw&&v instanceof gc.Cw&&(this.kq=v));-1===v.Nk.indexOf(l)&&v.Nk.push(l);f=new v.na(v,l);f.name=t[0];f.da=t[2];f.S();l.Ra.push(f)}l.global=g[9];l.Ym=g[10];l.U=[];e=0;for(m=g[12].length;e<m;e++)l.U.push({id:g[12][e][0],name:g[12][e][1],cb:-1,Ad:!1,xb:!0,index:e});l.qz=g[13];this.Eo&&!l.O&&!l.Ym&&c.$e||l.S();l.name&&(this.types[l.name]=
l);this.D.push(l);c.pl&&(e=new c.ca(l),e.uid=this.Ei++,e.qr=this.Rq++,e.Jf=0,e.Sh=Gb,e.toString=Hb,e.A=g[14],e.S(),l.j.push(e),this.ue[e.uid.toString()]=e)}b=0;for(d=a[4].length;b<d;b++)for(f=a[4][b],p=this.D[f[0]],e=1,m=f.length;e<m;e++)g=this.D[f[e]],g.Oa.push(p),p.Zg.push(g);b=0;for(d=a[28].length;b<d;b++){f=a[28][b];p=[];e=0;for(m=f.length;e<m;e++)p.push(this.D[f[e]]);e=0;for(m=p.length;e<m;e++)p[e].yc=!0,p[e].tc=p}if(0<this.Nh)for(b=0,d=this.D.length;b<d;b++)if(g=this.D[b],!g.O&&g.Oa.length){g.Zj=
Array(this.Nh);g.Cg=Array(this.Nh);g.zp=Array(this.Nh);l=[];e=v=h=t=0;for(m=g.Oa.length;e<m;e++)for(c=g.Oa[e],g.Zj[c.je]=t,t+=c.Ux,g.Cg[c.je]=h,h+=c.cu,g.zp[c.je]=v,v+=c.Dv,f=0,p=c.U.length;f<p;f++)l.push(xa({},c.U[f]));g.U=l.concat(g.U);e=0;for(m=g.U.length;e<m;e++)g.U[e].index=e}b=0;for(d=a[5].length;b<d;b++)g=a[5][b],e=new Ib(this,g),this.kn[e.name]=e,this.Bc.push(e);b=0;for(d=a[6].length;b<d;b++)g=a[6][b],e=new Jb(this,g),this.qm[e.name]=e,this.ie.push(e);b=0;for(d=this.ie.length;b<d;b++)this.ie[b].Wa();
b=0;for(d=this.ie.length;b<d;b++)this.ie[b].Bo();b=0;for(d=this.Dl.length;b<d;b++)this.Dl[b].Wa();A(this.Dl);this.au=a[7];this.vm=a[8];this.zd=a[9];this.Ch=1;this.Pu=a[13];this.Qa=a[14];this.Rl=a[15];this.Sx=a[17];this.Hn=a[20];this.bu=0<this.Hn;this.Xw=a[22];this.Lc=this.us=a[23];this.Iu=a[24];this.bx=a[25];this.Ea=a[27]&&!this.oe;this.ql=Date.now();A(this.Ok);this.lw()};var d=!1;c.prototype.ts=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){d=a.kp=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.wd?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(e){d=a.kp=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",e)}):(a.crossOrigin="anonymous",this.Er(a,b)));this.vh.push(a)};c.prototype.Av=function(a){var b,d;b=0;for(d=this.vh.length;b<d;b++)if(this.vh[b].ku===a)return this.vh[b];return null};var f=0,t=!1;c.prototype.dw=function(){this.sg&&(f=this.sg.Cx(this.au))};c.prototype.gp=function(){var a=
f,b=0,d=0,e=!0,m,g,d=0;for(m=this.vh.length;d<m;d++){g=this.vh[d];var p=g.rp;if(!p||0>=p)p=5E4;a+=p;g.src&&(g.complete||g.loaded)&&!g.kp?b+=p:e=!1}e&&this.bx&&this.sg&&(t||(this.sg.Ix(),t=!0),d=this.sg.Nv(),b+=d,d<f&&(e=!1));this.Bd=0==a?1:b/a;return e};var e=!1;c.prototype.go=function(){if(this.Na||this.F){var a=this.Na||this.Jn;this.Db&&this.mr();var b=window.innerWidth,f=window.innerHeight;this.Tg===b&&this.Sg===f||this.setSize(b,f);this.Bd=0;this.oq=-1;var m=this;if(this.gp()&&(4!==this.ef||e))this.ew();
else{f=Date.now()-this.ql;if(a){var g=this.width,p=this.height,b=this.devicePixelRatio;if(3>this.ef&&(this.Oc||500<=f&&this.oq!=this.Bd)){a.clearRect(0,0,g,p);var f=g/2,p=p/2,g=0===this.ef&&this.df.Jk.complete,l=40*b,c=0,t=80*b,h;if(g){var r=this.df.Jk,t=r.width*b;h=r.height*b;l=t/2;c=h/2;a.drawImage(r,qa(f-l),qa(p-c),t,h)}1>=this.ef?(f=qa(f-l)+.5,p=qa(p+(c+(g?12*b:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(f,p,Math.floor(t*this.Bd),6*b),a.strokeStyle="black",a.strokeRect(f,p,t,6*b),a.strokeStyle=
"white",a.strokeRect(f-1*b,p-1*b,t+2*b,8*b)):2===this.ef&&(a.font=this.wd?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.pz="middle",b=Math.round(100*this.Bd)+"%",g=a.measureText?a.measureText(b):null,a.fillText(b,f-(g?g.width:0)/2,p));this.oq=this.Bd}else if(4===this.ef){this.Nu(a);v?v(function(){m.go()}):setTimeout(function(){m.go()},16);return}}setTimeout(function(){m.go()},this.Oc?10:100)}}};var l=-1,r="undefined"===typeof cr_is_preview?200:0,g=!0,m=!1,p=0,Y=0,B="undefined"===typeof cr_is_preview?
3E3:0,W=null,P=null,U=0;c.prototype.Nu=function(a){if(!e){for(var b=Math.ceil(this.width),f=Math.ceil(this.height),c=this.df.Jk,t=this.df.ax,h=this.df.Wx,v=0;4>v;++v)if(!c[v].complete||!t[v].complete||!h[v].complete)return;0===U&&(l=Date.now());var v=Date.now(),q=!1,k=a,u,w;g||m?(a.clearRect(0,0,b,f),W&&W.width===b&&W.height===f||(W=document.createElement("canvas"),W.width=b,W.height=f,P=W.getContext("2d")),k=P,q=!0,g&&1===U&&(l=Date.now())):a.globalAlpha=1;k.fillStyle="#333333";k.fillRect(0,0,b,
f);256<this.Ih?(u=Ea(.22*f,105,.6*b),w=.25*u,k.drawImage(n(t,u),.5*b-u/2,.2*f-w/2,u,w),w=u=Math.min(.395*f,.95*b),k.drawImage(n(c,u),.5*b-u/2,.485*f-w/2,u,w),u=Ea(.22*f,105,.6*b),w=.25*u,k.drawImage(n(h,u),.5*b-u/2,.868*f-w/2,u,w),k.fillStyle="#3C3C3C",u=b,w=Math.max(.005*f,2),k.fillRect(0,.8*f-w/2,u,w),k.fillStyle=d?"red":"#E0FF65",u=b*this.Bd,k.fillRect(.5*b-u/2,.8*f-w/2,u,w)):(w=u=.55*f,k.drawImage(n(c,u),.5*b-u/2,.45*f-w/2,u,w),k.fillStyle="#3C3C3C",u=b,w=Math.max(.005*f,2),k.fillRect(0,.85*f-
w/2,u,w),k.fillStyle=d?"red":"#E0FF65",u=b*this.Bd,k.fillRect(.5*b-u/2,.85*f-w/2,u,w));q&&(g?a.globalAlpha=0===U?0:Math.min((v-l)/300,1):m&&(a.globalAlpha=Math.max(1-(v-Y)/300,0)),a.drawImage(W,0,0,b,f));g&&300<=v-l&&2<=U&&(g=!1,p=v);!g&&v-p>=B&&!m&&1<=this.Bd&&(m=!0,Y=v);if(m&&v-Y>=300+r||"undefined"!==typeof cr_is_preview&&1<=this.Bd&&500>Date.now()-l)e=!0,m=g=!1,this.df=P=W=null;++U}};c.prototype.ew=function(){this.Db&&(this.canvas.parentNode.removeChild(this.Db),this.Db=this.Jn=null);this.ql=
Date.now();this.Sf=ab();var a,b,d;if(this.Eo)for(a=0,b=this.D.length;a<b;a++)d=this.D[a],d.O||d.Ym||!d.Ka.$e||d.S();else this.Nf=!1;a=0;for(b=this.Bc.length;a<b;a++)this.Bc[a].lu();2<=this.Ob&&(a=this.kb/this.jb,b=this.width/this.height,this.Ch=2!==this.Ob&&b>a||2===this.Ob&&b<a?this.height/this.jb:this.width/this.kb);this.Gp?this.kn[this.Gp].oo():this.Bc[0].oo();this.Eo||(this.Gk=1,this.trigger(N.prototype.q.Po,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(b=this.D.length;a<b;a++)d=this.D[a],d.Jw&&d.Jw();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ma(!1);this.Qb&&AppMobi.webview.execute("onGameReady();")};c.prototype.Ma=function(a,b,d){if(this.ua){var e=ab();if(d||!this.fi||a){a||(v?this.Un=v(this.Yr):this.uo=setTimeout(this.Yr,this.pe?1:16));b=b||e;var f=this.Ob;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.xc)||this.di)&&0<this.Df&&(f=this.Df);if(0<f){var f=window.innerWidth,m=window.innerHeight;this.Tg===f&&this.Sg===m||this.setSize(f,m)}this.Fa||(d?(this.bk||(this.ym=jQuery(this.canvas).css("margin")||"0",this.bk=!0),this.Zh||this.Ze||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.bk?(this.Zh||this.Ze||jQuery(this.canvas).css("margin",this.ym),
this.ym="",this.bk=!1,0===this.Ob&&this.setSize(Math.round(this.Xq/this.devicePixelRatio),Math.round(this.Wq/this.devicePixelRatio),!0)):(this.Xq=this.width,this.Wq=this.height));this.Nf&&(d=this.gp(),this.Gk=this.Bd,d&&(this.Nf=!1,this.Bd=1,this.trigger(N.prototype.q.Po,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Ew(b);!this.ma&&!this.Oc||this.bn||this.gj||a||(this.ma=!1,this.F?this.uc():this.Kd(),this.ej&&(this.canvas&&this.canvas.toDataURL&&(this.Or=this.canvas.toDataURL(this.ej[0],
this.ej[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Or),this.trigger(N.prototype.q.Xs,null)),this.ej=null));this.bz||(this.De++,this.Wj++,this.gk++);this.yi+=ab()-e}}};c.prototype.Ew=function(a){var b,d,e,f,m,g,p,l;1E3<=a-this.Sf&&(this.Sf+=1E3,1E3<=a-this.Sf&&(this.Sf=a),this.xm=this.gk,this.gk=0,this.gm=this.yi,this.yi=0);b=0;0!==this.xk&&(b=a-this.xk,0>b&&(b=0),this.zf=b/=1E3,.5<this.zf?this.zf=0:this.zf>1/this.Mq&&(this.zf=1/this.Mq));this.xk=a;this.yf=this.zf*this.lg;this.Ya.add(this.yf);
this.Ge.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.di)&&!this.xc;2<=this.Ob||a&&0<this.Df?(b=this.kb/this.jb,d=this.width/this.height,e=this.Ob,a&&0<this.Df&&(e=this.Df),this.Ch=2!==e&&d>b||2===e&&d<b?this.height/this.jb:this.width/this.kb,this.ua&&(this.ua.fo(this.ua.scrollX),this.ua.ho(this.ua.scrollY))):this.Ch=this.Mf?this.devicePixelRatio:1;this.Gb();this.xd++;this.Vd.tx();this.xd--;this.Gb();this.xd++;d=this.Vq.kd();
a=0;for(b=d.length;a<b;a++)d[a].kz();a=0;for(b=this.D.length;a<b;a++)if(g=this.D[a],!g.O&&(g.Ra.length||g.Oa.length))for(d=0,e=g.j.length;d<e;d++)for(p=g.j[d],f=0,m=p.L.length;f<m;f++)p.L[f].Ma();a=0;for(b=this.D.length;a<b;a++)if(g=this.D[a],!g.O&&(g.Ra.length||g.Oa.length))for(d=0,e=g.j.length;d<e;d++)for(p=g.j[d],f=0,m=p.L.length;f<m;f++)l=p.L[f],l.nr&&l.nr();d=this.zn.kd();a=0;for(b=d.length;a<b;a++)d[a].Ma();this.xd--;this.fw();for(a=0;this.be&&10>a++;)this.xp(this.be);a=0;for(b=this.ie.length;a<
b;a++)this.ie[a].Nm=!1;this.ua.Bf&&this.ua.Bf.mb();A(this.Wn);this.xd++;a=0;for(b=this.D.length;a<b;a++)if(g=this.D[a],!g.O&&(g.Ra.length||g.Oa.length))for(d=0,e=g.j.length;d<e;d++)for(p=g.j[d],f=0,m=p.L.length;f<m;f++)l=p.L[f],l.kj&&l.kj();d=this.An.kd();a=0;for(b=d.length;a<b;a++)d[a].kj();this.xd--};c.prototype.dg=function(){var a,b,d,e,f,m,g,p,l;a=0;for(b=this.D.length;a<b;a++)if(g=this.D[a],!g.O)for(d=0,e=g.j.length;d<e;d++)if(p=g.j[d],p.dg&&p.dg(),p.L)for(f=0,m=p.L.length;f<m;f++)l=p.L[f],l.dg&&
l.dg()};c.prototype.xp=function(a){var b=this.ua;this.ua.Jx();var d,e,f;if(this.F)for(d=0,e=this.D.length;d<e;d++)f=this.D[d],f.O||!f.Ao||f.global&&0!==f.j.length||-1!==a.Xh.indexOf(f)||f.Ao();b==a&&A(this.Vd.qc);A(this.Wn);this.ur(!0);a.oo();this.ur(!1);this.ma=!0;this.Gb()};c.prototype.ur=function(a){var b,d,e,f,m,g,p,l,c;b=0;for(d=this.Ra.length;b<d;b++)e=this.Ra[b],a?e.Fi&&e.Fi():e.Hi&&e.Hi();b=0;for(d=this.D.length;b<d;b++)if(e=this.D[b],e.global||e.Ka.pl)for(f=0,m=e.j.length;f<m;f++)if(g=e.j[f],
a?g.Fi&&g.Fi():g.Hi&&g.Hi(),g.L)for(p=0,l=g.L.length;p<l;p++)c=g.L[p],a?c.Fi&&c.Fi():c.Hi&&c.Hi()};c.prototype.yl=function(a){this.zn.add(a)};c.prototype.Lx=function(a){this.An.add(a)};c.prototype.Fg=function(a){return a&&-1!==a.Di?this.zf*a.Di:this.yf};c.prototype.Kd=function(){this.ua.Kd(this.Na);this.Qb&&this.Na.present()};c.prototype.uc=function(){this.Ea&&(this.Af=1,this.ua.xf(this.F));this.ua.uc(this.F);this.F.gx()};c.prototype.Pl=function(a){a&&this.Tj.push(a)};c.prototype.tr=function(a){Da(this.Tj,
a)};c.prototype.Ff=function(a){a=a.toString();return this.ue.hasOwnProperty(a)?this.ue[a]:null};var G=[];c.prototype.Xd=function(a){var b,d;b=a.type.name;var e=null;if(this.wf.hasOwnProperty(b)){if(e=this.wf[b],e.contains(a))return}else e=G.length?G.pop():new ba,this.wf[b]=e;e.add(a);this.Ye=!0;if(a.yc)for(b=0,d=a.siblings.length;b<d;b++)this.Xd(a.siblings[b]);this.Xm&&e.sh.push(a);this.Wm||(this.xd++,this.trigger(Object.getPrototypeOf(a.type.Ka).q.Mo,a),this.xd--)};c.prototype.Gb=function(){if(this.Ye){var a,
b,d,e,f,m;this.Xm=!0;d=0;for(f=this.ud.length;d<f;++d)for(a=this.ud[d],b=a.type,b.j.push(a),e=0,m=b.Oa.length;e<m;++e)b.Oa[e].j.push(a),b.Oa[e].nh=!0;A(this.ud);this.Rs();$a(this.wf);this.Ye=this.Xm=!1}};c.prototype.Rs=function(){for(var a in this.wf)this.wf.hasOwnProperty(a)&&this.zs(this.wf[a])};c.prototype.zs=function(a){var b=a.kd(),d=b[0].type,e,f,m,g,p,l;bb(d.j,a);d.nh=!0;0===d.j.length&&(d.Aj=!1);e=0;for(f=d.Oa.length;e<f;++e)l=d.Oa[e],bb(l.j,a),l.nh=!0;e=0;for(f=this.Vd.qc.length;e<f;++e)if(p=
this.Vd.qc[e],p.Yb.hasOwnProperty(d.index)&&bb(p.Yb[d.index].me,a),!d.O)for(m=0,g=d.Oa.length;m<g;++m)l=d.Oa[m],p.Yb.hasOwnProperty(l.index)&&bb(p.Yb[l.index].me,a);if(p=b[0].n){if(p.Uc)for(m=p.j,e=0,f=m.length;e<f;++e)g=m[e],a.contains(g)&&(g.wa(),p.Eb.update(g,g.mc,null),g.mc.set(0,0,-1,-1));bb(p.j,a);p.Yi(0)}for(e=0;e<b.length;++e)this.ys(b[e],d);a.clear();G.push(a);this.ma=!0};c.prototype.ys=function(a,b){var d,e,f;d=0;for(e=this.Tj.length;d<e;++d)this.Tj[d](a);a.Re&&b.Jj.update(a,a.Re,null);
(d=a.n)&&d.ih(a,!0);if(a.L)for(d=0,e=a.L.length;d<e;++d)f=a.L[d],f.bg&&f.bg(),f.behavior.Zf.remove(a);this.Vq.remove(a);this.zn.remove(a);this.An.remove(a);a.bg&&a.bg();this.ue.hasOwnProperty(a.uid.toString())&&delete this.ue[a.uid.toString()];this.Pk--;100>b.Qj.length&&b.Qj.push(a)};c.prototype.sp=function(a,b,d,e){if(a.O){var f=qa(Math.random()*a.Zg.length);return this.sp(a.Zg[f],b,d,e)}return a.Wc?this.Se(a.Wc,b,!1,d,e,!1):null};var E=[];c.prototype.Se=function(a,b,d,e,f,m){var g,p,l,c;if(!a)return null;
var t=this.D[a[1]],h=t.Ka.$e;if(this.Nf&&h&&!t.Ym||h&&!this.F&&11===a[0][11])return null;var v=b;h||(b=null);var r;t.Qj.length?(r=t.Qj.pop(),r.lc=!0,t.Ka.ca.call(r,t)):(r=new t.Ka.ca(t),r.lc=!1);!d||m||this.ue.hasOwnProperty(a[2].toString())?r.uid=this.Ei++:r.uid=a[2];this.ue[r.uid.toString()]=r;r.qr=this.Rq++;r.Jf=t.j.length;g=0;for(p=this.ud.length;g<p;++g)this.ud[g].type===t&&r.Jf++;r.Sh=Gb;r.toString=Hb;l=a[3];if(r.lc)$a(r.V);else{r.V={};if("undefined"!==typeof cr_is_preview)for(r.Zp=[],r.Zp.length=
l.length,g=0,p=l.length;g<p;g++)r.Zp[g]=l[g][1];r.hb=[];r.hb.length=l.length}g=0;for(p=l.length;g<p;g++)r.hb[g]=l[g][0];if(h){var k=a[0];r.x=fa(e)?k[0]:e;r.y=fa(f)?k[1]:f;r.z=k[2];r.width=k[3];r.height=k[4];r.depth=k[5];r.k=k[6];r.opacity=k[7];r.fc=k[8];r.gc=k[9];r.Hb=k[10];g=k[11];!this.F&&t.U.length&&(r.Hb=g);r.Fh=jb(r.Hb);this.I&&kb(r,r.Hb,this.I);if(r.lc){g=0;for(p=k[12].length;g<p;g++)for(l=0,c=k[12][g].length;l<c;l++)r.Sa[g][l]=k[12][g][l];r.Ia.set(0,0,0,0);r.Re.set(0,0,-1,-1);r.mc.set(0,0,
-1,-1);r.Xb.Zi(r.Ia);A(r.Wl)}else{r.Sa=k[12].slice(0);g=0;for(p=r.Sa.length;g<p;g++)r.Sa[g]=k[12][g].slice(0);r.ka=[];r.Ke=[];r.Ke.length=t.U.length;r.Ia=new ua(0,0,0,0);r.Re=new ua(0,0,-1,-1);r.mc=new ua(0,0,-1,-1);r.Xb=new va;r.Wl=[];r.C=Kb;r.Wy=Lb;r.yb=Mb;r.wa=Nb;r.Rx=Ob;r.os=Pb;r.Zc=Qb}r.lj=!1;r.Ox=0;r.Nx=0;r.Mx=null;14===k.length&&(r.lj=!0,r.Ox=k[13][0],r.Nx=k[13][1],r.Mx=k[13][2]);g=0;for(p=t.U.length;g<p;g++)r.Ke[g]=!0;r.Ae=!0;r.Gd=Rb;r.Gd();r.qs=!!r.ka.length;r.Vl=!0;r.Zl=!0;t.zj=!0;r.visible=
!0;r.Di=-1;r.n=b;r.Hd=b.j.length;r.Af=0;"undefined"===typeof r.qa&&(r.qa=null);this.ma=r.de=!0}var n;A(E);g=0;for(p=t.Oa.length;g<p;g++)E.push.apply(E,t.Oa[g].Ra);E.push.apply(E,t.Ra);if(r.lc)for(g=0,p=E.length;g<p;g++){var q=E[g];n=r.L[g];n.lc=!0;q.behavior.ca.call(n,q,r);k=a[4][g];l=0;for(c=k.length;l<c;l++)n.A[l]=k[l];n.S();q.behavior.Zf.add(r)}else for(r.L=[],g=0,p=E.length;g<p;g++)q=E[g],n=new q.behavior.ca(q,r),n.lc=!1,n.A=a[4][g].slice(0),n.S(),r.L.push(n),q.behavior.Zf.add(r);k=a[5];if(r.lc)for(g=
0,p=k.length;g<p;g++)r.A[g]=k[g];else r.A=k.slice(0);this.ud.push(r);this.Ye=!0;b&&(b.Bh(r,!0),1!==b.jc||1!==b.kc)&&(t.Aj=!0);this.Pk++;if(t.yc){if(r.yc=!0,r.lc?A(r.siblings):r.siblings=[],!d&&!m){g=0;for(p=t.tc.length;g<p;g++)if(t.tc[g]!==t){if(!t.tc[g].Wc)return null;r.siblings.push(this.Se(t.tc[g].Wc,v,!1,h?r.x:e,h?r.y:f,!0))}g=0;for(p=r.siblings.length;g<p;g++)for(r.siblings[g].siblings.push(r),l=0;l<p;l++)g!==l&&r.siblings[g].siblings.push(r.siblings[l])}}else r.yc=!1,r.siblings=null;r.S();g=
0;for(p=r.L.length;g<p;g++)r.L[g].$w&&r.L[g].$w();return r};c.prototype.Qh=function(a){var b,d;b=0;for(d=this.ua.W.length;b<d;b++){var e=this.ua.W[b];if(mb(e.name,a))return e}return null};c.prototype.le=function(a){a=qa(a);0>a&&(a=0);a>=this.ua.W.length&&(a=this.ua.W.length-1);return this.ua.W[a]};c.prototype.em=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].ra().ya=!0};c.prototype.Si=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Si()};c.prototype.Qn=function(a){var b,d;b=0;for(d=a.length;b<
d;b++)a[b].Qn()};c.prototype.gh=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].gh()};c.prototype.ks=function(a){if(a.zj){var b,d,e=a.j;b=0;for(d=e.length;b<d;++b)e[b].os();e=this.ud;b=0;for(d=e.length;b<d;++b)e[b].type===a&&e[b].os();a.zj=!1}};c.prototype.Lp=function(a,b,d,e){var f,m,g=a?1!==a.jc||1!==a.kc:!1;if(b.O)for(a=0,f=b.Zg.length;a<f;++a)m=b.Zg[a],g||m.Aj?Ba(e,m.j):(this.ks(m),m.Jj.cl(d,e));else g||b.Aj?Ba(e,b.j):(this.ks(b),b.Jj.cl(d,e))};c.prototype.Rp=function(a,b,d,e){var f,m;f=0;
for(m=b.length;f<m;++f)this.Lp(a,b[f],d,e)};c.prototype.Rv=function(a,b,d){var e=this.Qr;e&&this.Rp(a,e.Nk,b,d)};c.prototype.Kv=function(a,b,d){var e=this.kq;e&&this.Rp(a,e.Nk,b,d)};c.prototype.ij=function(a,b,d){var e=a.ra(),f,m,g,p,l=this.Bb().ec.bd,c,t,r;if(e.ya)for(e.ya=!1,A(e.j),f=0,p=a.j.length;f<p;f++)g=a.j[f],g.wa(),c=g.n.Da(b,d,!0),t=g.n.Da(b,d,!1),g.yb(c,t)?e.j.push(g):l&&e.X.push(g);else{m=0;r=l?e.X:e.j;f=0;for(p=r.length;f<p;f++)g=r[f],g.wa(),c=g.n.Da(b,d,!0),t=g.n.Da(b,d,!1),g.yb(c,t)&&
(l?e.j.push(g):(e.j[m]=e.j[f],m++));r.length=m}a.Zd();return e.Mm()};c.prototype.Ic=function(a,b){if(!(a&&b&&a!==b&&a.de&&b.de))return!1;a.wa();b.wa();var d=a.n,e=b.n,f,m,g,p,l,c,t,r;if(d===e||d.jc===e.jc&&e.kc===e.kc&&d.scale===e.scale&&d.k===e.k&&d.Wb===e.Wb){if(!a.Ia.mw(b.Ia)||!a.Xb.$p(b.Xb)||a.lj&&b.lj)return!1;if(a.lj)return this.Ur(a,b);if(b.lj)return this.Ur(b,a);t=a.qa&&!a.qa.Kg();f=b.qa&&!b.qa.Kg();if(!t&&!f)return!0;t?(a.qa.ug(a.width,a.height,a.k),t=a.qa):(this.Ed.lh(a.Xb,a.x,a.y,a.width,
a.height),t=this.Ed);f?(b.qa.ug(b.width,b.height,b.k),r=b.qa):(this.Ed.lh(b.Xb,b.x,b.y,b.width,b.height),r=this.Ed);return t.Yh(r,b.x-a.x,b.y-a.y)}t=a.qa&&!a.qa.Kg();f=b.qa&&!b.qa.Kg();t?(a.qa.ug(a.width,a.height,a.k),this.Ed.Hr(a.qa)):this.Ed.lh(a.Xb,a.x,a.y,a.width,a.height);t=this.Ed;f?(b.qa.ug(b.width,b.height,b.k),this.qo.Hr(b.qa)):this.qo.lh(b.Xb,b.x,b.y,b.width,b.height);r=this.qo;f=0;for(m=t.Cd;f<m;f++)g=2*f,p=g+1,l=t.lb[g],c=t.lb[p],t.lb[g]=d.Pa(l+a.x,c+a.y,!0),t.lb[p]=d.Pa(l+a.x,c+a.y,!1);
t.wa();f=0;for(m=r.Cd;f<m;f++)g=2*f,p=g+1,l=r.lb[g],c=r.lb[p],r.lb[g]=e.Pa(l+b.x,c+b.y,!0),r.lb[p]=e.Pa(l+b.x,c+b.y,!1);r.wa();return t.Yh(r,0,0)};var K=new va;new ua(0,0,0,0);var X=[];c.prototype.Ur=function(a,b){var d,e,f,m,g=b.Ia,p=a.x,l=a.y;a.$y(g,X);var c=b.qa&&!b.qa.Kg();d=0;for(e=X.length;d<e;++d)if(f=X[d],m=f.nz,g.ow(m,p,l)&&(K.Zi(m),K.offset(p,l),K.$p(b.Xb)))if(c)if(b.qa.ug(b.width,b.height,b.k),f.Mn){if(f.Mn.Yh(b.qa,b.x-(p+m.left),b.y-(l+m.top)))return A(X),!0}else{if(this.Ed.lh(K,0,0,m.right-
m.left,m.bottom-m.top),this.Ed.Yh(b.qa,b.x,b.y))return A(X),!0}else if(f.Mn){if(this.Ed.lh(b.Xb,0,0,b.width,b.height),f.Mn.Yh(this.Ed,-(p+m.left),-(l+m.top)))return A(X),!0}else return A(X),!0;A(X);return!1};c.prototype.ds=function(a,b){if(!b)return!1;var d,e,f,m,g;d=0;for(e=a.Ra.length;d<e;d++)if(a.Ra[d].behavior instanceof b)return!0;if(!a.O)for(d=0,e=a.Oa.length;d<e;d++)for(g=a.Oa[d],f=0,m=g.Ra.length;f<m;f++)if(g.Ra[f].behavior instanceof b)return!0;return!1};c.prototype.yo=function(a){return this.ds(a,
gc.Ay)};c.prototype.zo=function(a){return this.ds(a,gc.By)};var O=[];c.prototype.Fb=function(a){var b,d,e;a.wa();this.Rv(a.n,a.Ia,O);b=0;for(d=O.length;b<d;++b)if(e=O[b],e.V.solidEnabled&&this.Ic(a,e))return A(O),e;A(O);return null};var R=[];c.prototype.of=function(a,b){var d=null;b&&(d=R,A(d));a.wa();this.Kv(a.n,a.Ia,O);var e,f,m;e=0;for(f=O.length;e<f;++e)if(m=O[e],m.V.jumpthruEnabled&&this.Ic(a,m))if(b)d.push(m);else return A(O),m;A(O);return d};c.prototype.dd=function(a,b,d,e,f,m){e=e||50;var g=
a.x,p=a.y,l,c=null,t=null;for(l=0;l<e;l++)if(a.x=g+b*l,a.y=p+d*l,a.C(),!this.Ic(a,c)&&((c=this.Fb(a))&&(t=c),!c&&(f&&(m?c=this.Ic(a,m)?m:null:c=this.of(a),c&&(t=c)),!c)))return t&&this.Sn(a,b,d,t),!0;a.x=g;a.y=p;a.C();return!1};c.prototype.Sn=function(a,b,d,e){var f=2,m,g=!1;m=!1;for(var p=a.x,l=a.y;16>=f;)m=1/f,f*=2,a.x+=b*m*(g?1:-1),a.y+=d*m*(g?1:-1),a.C(),this.Ic(a,e)?m=g=!0:(m=g=!1,p=a.x,l=a.y);m&&(a.x=p,a.y=l,a.C())};c.prototype.rr=function(a,b){var d=fa(b)?100:b,e=0,f=a.x,m=a.y,g=0,p=0,l=0,
c=this.Fb(a);if(!c)return!0;for(;e<=d;){switch(g){case 0:p=0;l=-1;e++;break;case 1:p=1;l=-1;break;case 2:p=1;l=0;break;case 3:l=p=1;break;case 4:p=0;l=1;break;case 5:p=-1;l=1;break;case 6:p=-1;l=0;break;case 7:l=p=-1}g=(g+1)%8;a.x=qa(f+p*e);a.y=qa(m+l*e);a.C();if(!this.Ic(a,c)&&(c=this.Fb(a),!c))return!0}a.x=f;a.y=m;a.C();return!1};c.prototype.hh=function(a,b){a.de&&b.de&&this.Wn.push([a,b])};c.prototype.gu=function(a,b,d){var e=a.x,f=a.y,m=la(10,Sa(b,d,e,f)),g=Na(b,d,e,f),p=this.Fb(a);if(!p)return Ja(g+
oa);var l=p,c,t,r,h,v=H(5);for(c=1;36>c;c++)if(t=g-c*v,a.x=b+Math.cos(t)*m,a.y=d+Math.sin(t)*m,a.C(),!this.Ic(a,l)&&(l=this.Fb(a),!l)){r=t;break}36===c&&(r=Ja(g+oa));l=p;for(c=1;36>c;c++)if(t=g+c*v,a.x=b+Math.cos(t)*m,a.y=d+Math.sin(t)*m,a.C(),!this.Ic(a,l)&&(l=this.Fb(a),!l)){h=t;break}36===c&&(h=Ja(g+oa));a.x=e;a.y=f;a.C();if(h===r)return h;a=Oa(h,r)/2;a=Qa(h,r)?Ja(r+a+oa):Ja(h+a);r=Math.cos(g);g=Math.sin(g);h=Math.cos(a);a=Math.sin(a);b=r*h+g*a;return Na(0,0,r-2*b*h,g-2*b*a)};var z=-1;c.prototype.trigger=
function(a,b,d){if(!this.ua)return!1;var e=this.ua.Bf;if(!e)return!1;var f=!1,m,g,p;z++;var l=e.km;g=0;for(p=l.length;g<p;++g)m=this.as(a,b,l[g],d),f=f||m;m=this.as(a,b,e,d);z--;return f||m};c.prototype.as=function(a,b,d,e){var f=!1,m,g,p,l;if(b)for(p=this.wo(a,b,b.type.name,d,e),f=f||p,l=b.type.Oa,m=0,g=l.length;m<g;++m)p=this.wo(a,b,l[m].name,d,e),f=f||p;else p=this.wo(a,b,"system",d,e),f=f||p;return f};c.prototype.wo=function(a,b,d,e,f){var m,g=!1,p=!1,p="undefined"!==typeof f,l=(p?e.Bp:e.bs)[d];
if(!l)return g;var c=null;e=0;for(m=l.length;e<m;++e)if(l[e].method==a){c=l[e].Lh;break}if(!c)return g;var t;p?t=c[f]:t=c;if(!t)return null;e=0;for(m=t.length;e<m;e++)a=t[e][0],f=t[e][1],p=this.yv(b,d,a,f),g=g||p;return g};c.prototype.yv=function(a,b,d,e){var f,m,g=!1;this.xo++;var p=this.Bb().ec;p&&this.Si(p.nf);var l=1<this.xo;this.Si(d.nf);l&&this.ix();var c=this.Rn(d);c.ec=d;a&&(f=this.types[b].ra(),f.ya=!1,A(f.j),f.j[0]=a,this.types[b].Zd());a=!0;if(d.parent){b=c.Tr;for(f=d.parent;f;)b.push(f),
f=f.parent;b.reverse();f=0;for(m=b.length;f<m;f++)if(!b[f].vx()){a=!1;break}}a&&(this.Wj++,d.bd?d.ux(e):d.mb(),g=g||c.Rf);this.lr();l&&this.Zw();this.gh(d.nf);p&&this.gh(p.nf);this.Ye&&0===this.xd&&0===z&&!this.Zm&&this.Gb();this.xo--;return g};c.prototype.Cm=function(){var a=this.Bb();return a.ec.Mb[a.cc]};c.prototype.rw=function(){return 0===this.Bb().cc};c.prototype.ix=function(){this.Ik++;this.Ik>=this.tn.length&&this.tn.push([])};c.prototype.Zw=function(){this.Ik--};c.prototype.Mp=function(){return this.tn[this.Ik]};
c.prototype.Rn=function(a){this.Vj++;this.Vj>=this.pm.length&&this.pm.push(new Sb);var b=this.Bb();b.reset(a);return b};c.prototype.lr=function(){this.Vj--};c.prototype.Bb=function(){return this.pm[this.Vj]};c.prototype.Np=function(a,b){for(var d,e,f,m,g,p;b;){d=0;for(e=b.hd.length;d<e;d++)if(p=b.hd[d],p instanceof Tb&&mb(a,p.name))return p;b=b.parent}d=0;for(e=this.ie.length;d<e;d++)for(g=this.ie[d],f=0,m=g.We.length;f<m;f++)if(p=g.We[f],p instanceof Tb&&mb(a,p.name))return p;return null};c.prototype.Pp=
function(a){var b,d;b=0;for(d=this.Bc.length;b<d;b++)if(this.Bc[b].da===a)return this.Bc[b];return null};c.prototype.kk=function(a){var b,d;b=0;for(d=this.D.length;b<d;b++)if(this.D[b].da===a)return this.D[b];return null};c.prototype.Hv=function(a){var b,d;b=0;for(d=this.Me.length;b<d;b++)if(this.Me[b].da===a)return this.Me[b];return null};c.prototype.ru=function(a,b){this.ej=[a,b];this.ma=!0};c.prototype.fw=function(){var a=this,d=this.eo,e=this.qe,f=this.Ck,m=!1;this.Mr&&(m=!0,d="__c2_continuouspreview",
this.Mr=!1);if(d.length){this.Gb();e=this.zx();if(k()&&!this.Oc)w(d,e,function(){da("Saved state to IndexedDB storage ("+e.length+" bytes)");a.qe=e;a.trigger(N.prototype.q.Ml,null);a.qe="";m&&b()},function(f){try{localStorage.setItem("__c2save_"+d,e),da("Saved state to WebStorage ("+e.length+" bytes)"),a.qe=e,a.trigger(N.prototype.q.Ml,null),a.qe="",m&&b()}catch(g){da("Failed to save game state: "+f+"; "+g),a.trigger(N.prototype.q.Uo,null)}});else try{localStorage.setItem("__c2save_"+d,e),da("Saved state to WebStorage ("+
e.length+" bytes)"),a.qe=e,this.trigger(N.prototype.q.Ml,null),a.qe="",m&&b()}catch(g){da("Error saving to WebStorage: "+g),a.trigger(N.prototype.q.Uo,null)}this.Sb=this.Ck=this.eo=""}if(f.length){if(k()&&!this.Oc)u(f,function(b){b?(a.Sb=b,da("Loaded state from IndexedDB storage ("+a.Sb.length+" bytes)")):(a.Sb=localStorage.getItem("__c2save_"+f)||"",da("Loaded state from WebStorage ("+a.Sb.length+" bytes)"));a.gj=!1;a.Sb.length||a.trigger(N.prototype.q.Ll,null)},function(){a.Sb=localStorage.getItem("__c2save_"+
f)||"";da("Loaded state from WebStorage ("+a.Sb.length+" bytes)");a.gj=!1;a.Sb.length||a.trigger(N.prototype.q.Ll,null)});else{try{this.Sb=localStorage.getItem("__c2save_"+f)||"",da("Loaded state from WebStorage ("+this.Sb.length+" bytes)")}catch(p){this.Sb=""}this.gj=!1;a.Sb.length||a.trigger(N.prototype.q.Ll,null)}this.eo=this.Ck=""}this.Sb.length&&(this.Gb(),this.Dw(this.Sb),this.qe=this.Sb,this.trigger(N.prototype.q.kt,null),this.Sb=this.qe="")};c.prototype.zx=function(){var b,d,e,f,m,g,p,l={c2save:!0,
version:1,rt:{time:this.Ya.P,walltime:this.Ge.P,timescale:this.lg,tickcount:this.De,execcount:this.Wj,next_uid:this.Ei,running_layout:this.ua.da,start_time_offset:Date.now()-this.ql},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(d=this.D.length;b<d;b++)if(m=this.D[b],!m.O&&!this.yo(m)){g={instances:[]};Za(m.V)&&(g.ex=a(m.V));e=0;for(f=m.j.length;e<f;e++)g.instances.push(this.co(m.j[e]));l.types[m.da.toString()]=g}b=0;for(d=this.Bc.length;b<d;b++)e=this.Bc[b],l.layouts[e.da.toString()]=
e.wb();f=l.events.groups;b=0;for(d=this.Me.length;b<d;b++)e=this.Me[b],f[e.da.toString()]=this.lk[e.Uh].Th;d=l.events.cnds;for(p in this.Qe)this.Qe.hasOwnProperty(p)&&(b=this.Qe[p],Za(b.V)&&(d[p]={ex:a(b.V)}));d=l.events.acts;for(p in this.Le)this.Le.hasOwnProperty(p)&&(b=this.Le[p],Za(b.V)&&(d[p]={ex:a(b.V)}));d=l.events.vars;for(p in this.uh)this.uh.hasOwnProperty(p)&&(b=this.uh[p],b.vk||b.parent&&!b.ji||(d[p]=b.data));l.system=this.Vd.wb();return JSON.stringify(l)};c.prototype.sr=function(){var a,
b,d,e,f,m;this.ue={};a=0;for(b=this.D.length;a<b;a++)if(d=this.D[a],!d.O)for(e=0,f=d.j.length;e<f;e++)m=d.j[e],this.ue[m.uid.toString()]=m};c.prototype.Dw=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.bi=!0;var b=a.rt;this.Ya.reset();this.Ya.P=b.time;this.Ge.reset();this.Ge.P=b.walltime||0;this.lg=b.timescale;this.De=b.tickcount;this.Wj=b.execcount;this.ql=Date.now()-b.start_time_offset;var d=b.running_layout;if(d!==this.ua.da)if(d=this.Pp(d))this.xp(d);else return;var e,f,m,g,p,l,
c;l=a.types;for(f in l)if(l.hasOwnProperty(f)&&(g=this.kk(parseInt(f,10)))&&!g.O&&!this.yo(g)){l[f].ex?g.V=l[f].ex:$a(g.V);p=g.j;m=l[f].instances;d=0;for(e=ma(p.length,m.length);d<e;d++)this.Dk(p[d],m[d]);d=m.length;for(e=p.length;d<e;d++)this.Xd(p[d]);d=p.length;for(e=m.length;d<e;d++){p=null;if(g.Ka.$e&&(p=this.ua.jk(m[d].w.l),!p))continue;p=this.Se(g.Wc,p,!1,0,0,!0);this.Dk(p,m[d])}g.nh=!0}this.Gb();this.sr();e=a.layouts;for(f in e)e.hasOwnProperty(f)&&(d=this.Pp(parseInt(f,10)))&&d.Rb(e[f]);e=
a.events.groups;for(f in e)e.hasOwnProperty(f)&&(d=this.Hv(parseInt(f,10)))&&this.lk[d.Uh]&&this.lk[d.Uh].Dr(e[f]);d=a.events.cnds;for(f in this.Qe)this.Qe.hasOwnProperty(f)&&(d.hasOwnProperty(f)?this.Qe[f].V=d[f].ex:this.Qe[f].V={});d=a.events.acts;for(f in this.Le)this.Le.hasOwnProperty(f)&&(d.hasOwnProperty(f)?this.Le[f].V=d[f].ex:this.Le[f].V={});d=a.events.vars;for(f in d)d.hasOwnProperty(f)&&this.uh.hasOwnProperty(f)&&(this.uh[f].data=d[f]);this.Ei=b.next_uid;this.bi=!1;d=0;for(e=this.ak.length;d<
e;++d)p=this.ak[d],this.trigger(Object.getPrototypeOf(p.type.Ka).q.tj,p);A(this.ak);this.Vd.Rb(a.system);d=0;for(e=this.D.length;d<e;d++)if(g=this.D[d],!g.O&&!this.yo(g))for(f=0,a=g.j.length;f<a;f++){p=g.j[f];if(g.yc)for(l=p.Sh(),A(p.siblings),b=0,m=g.tc.length;b<m;b++)c=g.tc[b],g!==c&&p.siblings.push(c.j[l]);p.od&&p.od();if(p.L)for(b=0,m=p.L.length;b<m;b++)l=p.L[b],l.od&&l.od()}this.ma=!0}};c.prototype.co=function(b,d){var e,f,m,g,p;g=b.type;m=g.Ka;var l={};d?l.c2=!0:l.uid=b.uid;Za(b.V)&&(l.ex=a(b.V));
if(b.hb&&b.hb.length)for(l.ivs={},e=0,f=b.hb.length;e<f;e++)l.ivs[b.type.Um[e].toString()]=b.hb[e];if(m.$e){m={x:b.x,y:b.y,w:b.width,h:b.height,l:b.n.da,zi:b.Zc()};0!==b.k&&(m.a=b.k);1!==b.opacity&&(m.o=b.opacity);.5!==b.fc&&(m.hX=b.fc);.5!==b.gc&&(m.hY=b.gc);0!==b.Hb&&(m.bm=b.Hb);b.visible||(m.v=b.visible);b.de||(m.ce=b.de);-1!==b.Di&&(m.mts=b.Di);if(g.U.length)for(m.fx=[],e=0,f=g.U.length;e<f;e++)p=g.U[e],m.fx.push({name:p.name,active:b.Ke[p.index],params:b.Sa[p.index]});l.w=m}if(b.L&&b.L.length)for(l.behs=
{},e=0,f=b.L.length;e<f;e++)g=b.L[e],g.wb&&(l.behs[g.type.da.toString()]=g.wb());b.wb&&(l.data=b.wb());return l};c.prototype.Jv=function(a,b){var d,e;d=0;for(e=a.Um.length;d<e;d++)if(a.Um[d]===b)return d;return-1};c.prototype.Gv=function(a,b){var d,e;d=0;for(e=a.L.length;d<e;d++)if(a.L[d].type.da===b)return d;return-1};c.prototype.Dk=function(a,b,d){var e,f,m,g,p;p=a.type;g=p.Ka;if(d){if(!b.c2)return}else a.uid=b.uid;b.ex?a.V=b.ex:$a(a.V);if(f=b.ivs)for(e in f)f.hasOwnProperty(e)&&(m=this.Jv(p,parseInt(e,
10)),0>m||m>=a.hb.length||(a.hb[m]=f[e]));if(g.$e){m=b.w;a.n.da!==m.l&&(f=a.n,a.n=this.ua.jk(m.l),a.n?(f.ih(a,!0),a.n.Bh(a,!0),a.C(),a.n.Yi(0)):(a.n=f,d||this.Xd(a)));a.x=m.x;a.y=m.y;a.width=m.w;a.height=m.h;a.Hd=m.zi;a.k=m.hasOwnProperty("a")?m.a:0;a.opacity=m.hasOwnProperty("o")?m.o:1;a.fc=m.hasOwnProperty("hX")?m.hX:.5;a.gc=m.hasOwnProperty("hY")?m.hY:.5;a.visible=m.hasOwnProperty("v")?m.v:!0;a.de=m.hasOwnProperty("ce")?m.ce:!0;a.Di=m.hasOwnProperty("mts")?m.mts:-1;a.Hb=m.hasOwnProperty("bm")?
m.bm:0;a.Fh=jb(a.Hb);this.I&&kb(a,a.Hb,this.I);a.C();if(m.hasOwnProperty("fx"))for(d=0,f=m.fx.length;d<f;d++)g=p.Em(m.fx[d].name),0>g||(a.Ke[g]=m.fx[d].active,a.Sa[g]=m.fx[d].params);a.Gd()}if(p=b.behs)for(e in p)p.hasOwnProperty(e)&&(d=this.Gv(a,parseInt(e,10)),0>d||a.L[d].Rb(p[e]));b.data&&a.Rb(b.data)};c.prototype.Cp=function(a,b,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,d)},d)};c.prototype.Ep=function(a,b){this.Cp("data.js",function(d){var e=
new FileReader;e.onload=function(b){a(b.target.result)};e.onerror=b;e.readAsText(d)},b)};var L=[],I=0;c.prototype.vn=function(){if(L.length&&!(8<=I)){I++;var a=L.shift();this.uu(a.filename,a.Kx,a.Su)}};c.prototype.Dp=function(a,b,d){var e=this;L.push({filename:a,Kx:function(a){I--;e.vn();b(a)},Su:function(a){I--;e.vn();d(a)}});this.vn()};c.prototype.uu=function(a,b,d){this.Cp(a,function(a){var d=new FileReader;d.onload=function(a){b(a.target.result)};d.readAsArrayBuffer(a)},d)};c.prototype.zv=function(a,
b,d){this.Dp(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},d)};c.prototype.pw=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};c.prototype.Er=function(a,b){this.gi&&!this.pw(b)?this.zv(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};c.prototype.il=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=
b)};Ub=function(a){return new c(document.getElementById(a))};Vb=function(a,b){return new c({dc:!0,width:a,height:b})};window.cr_createRuntime=Ub;window.cr_createDCRuntime=Vb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Dh=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});
window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(c,n){var k=window.cr_getC2Runtime();k&&k.ru(c,n)};
window.cr_sizeCanvas=function(c,n){if(0!==c&&0!==n){var k=window.cr_getC2Runtime();k&&k.setSize(c,n)}};window.cr_setSuspended=function(c){var n=window.cr_getC2Runtime();n&&n.setSuspended(c)};
(function(){function c(a,b){this.b=a;this.Bf=null;this.scrollX=this.b.kb/2;this.scrollY=this.b.jb/2;this.scale=1;this.k=0;this.Dg=!0;this.name=b[0];this.Vw=b[1];this.Uw=b[2];this.width=b[1];this.height=b[2];this.es=b[3];this.Kr=b[4];this.da=b[5];var c=b[6],e,l;this.W=[];this.Xh=[];e=0;for(l=c.length;e<l;e++){var r=new Wb(this,c[e]);r.Tq=e;this.W.push(r)}c=b[7];this.Lf=[];e=0;for(l=c.length;e<l;e++){var r=c[e],g=this.b.D[r[1]];g.Wc||(g.Wc=r);this.Lf.push(r);-1===this.Xh.indexOf(g)&&this.Xh.push(g)}this.U=
[];this.ka=[];this.Ae=!0;this.Sa=[];e=0;for(l=b[8].length;e<l;e++)this.U.push({id:b[8][e][0],name:b[8][e][1],cb:-1,Ad:!1,xb:!0,index:e}),this.Sa.push(b[8][e][2].slice(0));this.Gd();this.kf=new ua(0,0,1,1);this.Vn=new ua(0,0,1,1);this.jf={}}function n(a,b){return a.Hd-b.Hd}function k(a,b){this.Za=a;this.b=a.b;this.j=[];this.scale=1;this.k=0;this.he=!1;this.Ee=new ua(0,0,0,0);this.Zr=new va;this.Ba=this.Aa=this.Ca=this.za=0;this.ng=!1;this.Ie=-1;this.fm=0;this.name=b[0];this.index=b[1];this.da=b[2];
this.visible=b[3];this.sd=b[4];this.Fd=b[5];this.jc=b[6];this.kc=b[7];this.opacity=b[8];this.fk=b[9];this.Uc=b[10];this.Wb=b[11];this.Hb=b[12];this.Ou=b[13];this.Fh="source-over";this.Nb=this.Tb=0;this.Eb=null;this.re=q();this.Dd=!0;this.Ug=new ua(0,0,-1,-1);this.zb=new ua(0,0,-1,-1);this.Uc&&(this.Eb=new ib(this.b.kb,this.b.jb));this.Td=!1;var c=b[14],e,l;this.Rr=[];this.Nc=[];this.Hh=[];e=0;for(l=c.length;e<l;e++){var r=c[e],g=this.b.D[r[1]];g.Wc||(g.Wc=r,g.ou=this.index);this.Nc.push(r);-1===this.Za.Xh.indexOf(g)&&
this.Za.Xh.push(g)}Aa(this.Rr,this.Nc);this.U=[];this.ka=[];this.Ae=!0;this.Sa=[];e=0;for(l=b[15].length;e<l;e++)this.U.push({id:b[15][e][0],name:b[15][e][1],cb:-1,Ad:!1,xb:!0,index:e}),this.Sa.push(b[15][e][2].slice(0));this.Gd();this.kf=new ua(0,0,1,1);this.Vn=new ua(0,0,1,1)}function q(){return a.length?a.pop():[]}function w(b){A(b);a.push(b)}c.prototype.yx=function(a){var b=a.type.da.toString();this.jf.hasOwnProperty(b)||(this.jf[b]=[]);this.jf[b].push(this.b.co(a))};c.prototype.Sp=function(){var a=
this.W[0];return!a.Fd&&1===a.opacity&&!a.fk&&a.visible};c.prototype.Gd=function(){A(this.ka);this.Ae=!0;var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.xb&&(this.ka.push(c),c.Ad||(this.Ae=!1))};c.prototype.Dm=function(a){var b,c,e;b=0;for(c=this.U.length;b<c;b++)if(e=this.U[b],e.name===a)return e;return null};var u=[],b=!0;c.prototype.oo=function(){this.Kr&&(this.Bf=this.b.qm[this.Kr],this.Bf.Bo());this.b.ua=this;this.width=this.Vw;this.height=this.Uw;this.scrollX=this.b.kb/2;this.scrollY=
this.b.jb/2;var a,f,c,e,l,r,g;a=0;for(c=this.b.D.length;a<c;a++)if(f=this.b.D[a],!f.O)for(l=f.j,f=0,e=l.length;f<e;f++)if(r=l[f],r.n){var m=r.n.Tq;m>=this.W.length&&(m=this.W.length-1);r.n=this.W[m];-1===r.n.j.indexOf(r)&&r.n.j.push(r);r.n.ng=!0}if(!b)for(a=0,c=this.W.length;a<c;++a)this.W[a].j.sort(n);A(u);this.eu();a=0;for(c=this.W.length;a<c;a++)r=this.W[a],r.mu(),r.Gl();l=!1;if(!this.Dg){for(g in this.jf)if(this.jf.hasOwnProperty(g)&&(f=this.b.kk(parseInt(g,10)))&&!f.O&&this.b.zo(f)){e=this.jf[g];
a=0;for(c=e.length;a<c;a++){r=null;if(f.Ka.$e&&(r=this.jk(e[a].w.l),!r))continue;r=this.b.Se(f.Wc,r,!1,0,0,!0);this.b.Dk(r,e[a]);l=!0;u.push(r)}A(e)}a=0;for(c=this.W.length;a<c;a++)this.W[a].j.sort(n),this.W[a].ng=!0}l&&(this.b.Gb(),this.b.sr());for(a=0;a<u.length;a++)if(r=u[a],r.type.yc)for(c=r.Sh(),f=0,e=r.type.tc.length;f<e;f++)g=r.type.tc[f],r.type!==g&&(g.j.length>c?r.siblings.push(g.j[c]):g.Wc&&(l=this.b.Se(g.Wc,r.n,!0,r.x,r.y,!0),this.b.Gb(),g.El(),r.siblings.push(l),u.push(l)));a=0;for(c=
this.Lf.length;a<c;a++)this.b.Se(this.Lf[a],null,!0);this.b.be=null;this.b.Gb();if(this.b.Na&&!this.b.Fa)for(a=0,c=this.b.D.length;a<c;a++)g=this.b.D[a],!g.O&&g.j.length&&g.Nn&&g.Nn(this.b.Na);if(this.b.bi)Aa(this.b.ak,u);else for(a=0,c=u.length;a<c;a++)r=u[a],this.b.trigger(Object.getPrototypeOf(r.type.Ka).q.tj,r);A(u);this.b.bi||this.b.trigger(N.prototype.q.Oo,null);this.Dg=!1};c.prototype.lu=function(){var a,b,c,e,l;b=a=0;for(c=this.Lf.length;a<c;a++)e=this.Lf[a],l=this.b.D[e[1]],l.global?l.yc||
this.b.Se(e,null,!0):(this.Lf[b]=e,b++);za(this.Lf,b)};c.prototype.Jx=function(){this.b.bi||this.b.trigger(N.prototype.q.jt,null);this.b.Wm=!0;A(this.b.Vd.qc);var a,f,c,e,l,r;if(!this.Dg)for(a=0,f=this.W.length;a<f;a++)for(this.W[a].Do(),l=this.W[a].j,c=0,e=l.length;c<e;c++)r=l[c],r.type.global||this.b.zo(r.type)&&this.yx(r);a=0;for(f=this.W.length;a<f;a++){l=this.W[a].j;c=0;for(e=l.length;c<e;c++)r=l[c],r.type.global||this.b.Xd(r);this.b.Gb();A(l);this.W[a].ng=!0}a=0;for(f=this.b.D.length;a<f;a++)if(l=
this.b.D[a],!(l.global||l.Ka.$e||l.Ka.pl||l.O)){c=0;for(e=l.j.length;c<e;c++)this.b.Xd(l.j[c]);this.b.Gb()}b=!1;this.b.Wm=!1};new ua(0,0,0,0);c.prototype.Kd=function(a){var b,c=a,e=!1,l=!this.b.Lc;l&&(this.b.Bk||(this.b.Bk=document.createElement("canvas"),b=this.b.Bk,b.width=this.b.N,b.height=this.b.M,this.b.qq=b.getContext("2d"),e=!0),b=this.b.Bk,c=this.b.qq,b.width!==this.b.N&&(b.width=this.b.N,e=!0),b.height!==this.b.M&&(b.height=this.b.M,e=!0),e&&this.b.il(c,this.b.Qa));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.b.Rl&&!this.Sp()&&c.clearRect(0,0,this.b.N,this.b.M);var r,g,e=0;for(r=this.W.length;e<r;e++)g=this.W[e],g.visible&&0<g.opacity&&11!==g.Hb&&(g.j.length||!g.Fd)?g.Kd(c):g.Gl();l&&a.drawImage(b,0,0,this.b.width,this.b.height)};c.prototype.xf=function(a){a.Cr(!0);this.b.$a||(this.b.$a=a.Kc(this.b.N,this.b.M,this.b.Qa));if(this.b.$a.uf!==this.b.N||this.b.$a.tf!==this.b.M)a.deleteTexture(this.b.$a),this.b.$a=a.Kc(this.b.N,this.b.M,this.b.Qa);a.fd(this.b.$a);this.b.Lc||a.hg(this.b.N,
this.b.M);var b,c;for(b=this.W.length-1;0<=b;--b)c=this.W[b],c.visible&&1===c.opacity&&c.Ae&&0===c.Hb&&(c.j.length||!c.Fd)?c.xf(a):c.Gl();a.Cr(!1)};c.prototype.uc=function(a){var b=0<this.ka.length||this.b.rh||!this.b.Lc||this.b.Ea;if(b){this.b.$a||(this.b.$a=a.Kc(this.b.N,this.b.M,this.b.Qa));if(this.b.$a.uf!==this.b.N||this.b.$a.tf!==this.b.M)a.deleteTexture(this.b.$a),this.b.$a=a.Kc(this.b.N,this.b.M,this.b.Qa);a.fd(this.b.$a);this.b.Lc||a.hg(this.b.N,this.b.M)}else this.b.$a&&(a.fd(null),a.deleteTexture(this.b.$a),
this.b.$a=null);this.b.Rl&&!this.Sp()&&a.clear(0,0,0,0);var c,e,l;c=0;for(e=this.W.length;c<e;c++)l=this.W[c],l.visible&&0<l.opacity&&(l.j.length||!l.Fd)?l.uc(a):l.Gl();b&&(0===this.ka.length||1===this.ka.length&&this.b.Lc?(1===this.ka.length?(b=this.ka[0].index,a.pc(this.ka[0].cb),a.kh(null,1/this.b.N,1/this.b.M,0,0,1,1,this.scale,this.k,0,0,this.b.N/2,this.b.M/2,this.b.Ya.P,this.Sa[b]),a.bl(this.ka[0].cb)&&(this.b.ma=!0)):a.pc(0),this.b.Lc||a.hg(this.b.width,this.b.height),a.fd(null),a.Br(!1),a.gg(1),
a.Gc(this.b.$a),a.yr(),a.ed(),a.Tc(),b=this.b.width/2,c=this.b.height/2,a.Ti(-b,c,b,c,b,-c,-b,-c),a.Gc(null),a.Br(!0)):this.Xn(a,null,null,null))};c.prototype.Rh=function(){return 0<this.ka.length||this.b.rh||!this.b.Lc||this.b.Ea?this.b.$a:null};c.prototype.Qp=function(){var a=this.W[0].wc(),b,c,e;b=1;for(c=this.W.length;b<c;b++)e=this.W[b],(0!==e.jc||0!==e.kc)&&e.wc()<a&&(a=e.wc());return a};c.prototype.fo=function(a){if(!this.es){var b=1/this.Qp()*this.b.N/2;a>this.width-b&&(a=this.width-b);a<
b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.ma=!0)};c.prototype.ho=function(a){if(!this.es){var b=1/this.Qp()*this.b.M/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.ma=!0)};c.prototype.eu=function(){this.fo(this.scrollX);this.ho(this.scrollY)};c.prototype.Xn=function(a,b,c,e){var l=c?c.ka:b?b.ka:this.ka,r=1,g=0,m=0,p=0,h=this.b.N,v=this.b.M;c?(r=c.n.wc(),g=c.n.fb(),m=c.n.za,p=c.n.Aa,h=c.n.Ca,v=c.n.Ba):b&&(r=b.wc(),g=b.fb(),m=b.za,p=b.Aa,h=b.Ca,v=b.Ba);
var k=this.b.zm,n,q,u,w,K=0,X=1,O,R,z=this.b.N,L=this.b.M,I=z/2,y=L/2,x=b?b.kf:this.kf,C=b?b.Vn:this.Vn,J=0,M=0,F=0,D=0,S=z,sa=z,Q=L,wa=L,na=u=0;w=c?c.n.fb():0;if(c){n=0;for(q=l.length;n<q;n++)u+=a.Ov(l[n].cb),na+=a.Pv(l[n].cb);D=c.Ia;J=b.Pa(D.left,D.top,!0,!0);F=b.Pa(D.left,D.top,!1,!0);S=b.Pa(D.right,D.bottom,!0,!0);Q=b.Pa(D.right,D.bottom,!1,!0);0!==w&&(n=b.Pa(D.right,D.top,!0,!0),q=b.Pa(D.right,D.top,!1,!0),M=b.Pa(D.left,D.bottom,!0,!0),D=b.Pa(D.left,D.bottom,!1,!0),w=Math.min(J,S,n,M),S=Math.max(J,
S,n,M),J=w,w=Math.min(F,Q,q,D),Q=Math.max(F,Q,q,D),F=w);J-=u;F-=na;S+=u;Q+=na;C.left=J/z;C.top=1-F/L;C.right=S/z;C.bottom=1-Q/L;M=J=qa(J);D=F=qa(F);sa=S=ra(S);wa=Q=ra(Q);M-=u;D-=na;sa+=u;wa+=na;0>J&&(J=0);0>F&&(F=0);S>z&&(S=z);Q>L&&(Q=L);0>M&&(M=0);0>D&&(D=0);sa>z&&(sa=z);wa>L&&(wa=L);x.left=J/z;x.top=1-F/L;x.right=S/z;x.bottom=1-Q/L}else x.left=C.left=0,x.top=C.top=0,x.right=C.right=1,x.bottom=C.bottom=1;na=c&&(a.Qi(l[0].cb)||0!==u||0!==na||1!==c.opacity||c.type.Ka.Oq)||b&&!c&&1!==b.opacity;a.yr();
if(na){k[K]||(k[K]=a.Kc(z,L,this.b.Qa));if(k[K].uf!==z||k[K].tf!==L)a.deleteTexture(k[K]),k[K]=a.Kc(z,L,this.b.Qa);a.pc(0);a.fd(k[K]);R=wa-D;a.clearRect(M,L-D-R,sa-M,R);c?c.uc(a):(a.Gc(this.b.ib),a.gg(b.opacity),a.ed(),a.translate(-I,-y),a.Tc(),a.Sd(J,Q,S,Q,S,F,J,F,x));C.left=C.top=0;C.right=C.bottom=1;c&&(w=x.top,x.top=x.bottom,x.bottom=w);K=1;X=0}a.gg(1);u=l.length-1;var Ha=a.Pn(l[u].cb)||!b&&!c&&!this.b.Lc;n=w=0;for(q=l.length;n<q;n++){k[K]||(k[K]=a.Kc(z,L,this.b.Qa));if(k[K].uf!==z||k[K].tf!==
L)a.deleteTexture(k[K]),k[K]=a.Kc(z,L,this.b.Qa);a.pc(l[n].cb);w=l[n].index;a.bl(l[n].cb)&&(this.b.ma=!0);0!=n||na?(a.kh(e,1/z,1/L,C.left,C.top,C.right,C.bottom,r,g,m,p,(m+h)/2,(p+v)/2,this.b.Ya.P,c?c.Sa[w]:b?b.Sa[w]:this.Sa[w]),a.Gc(null),n!==u||Ha?(a.fd(k[K]),R=wa-D,O=L-D-R,a.clearRect(M,O,sa-M,R)):(c?a.lf(c.Tb,c.Nb):b&&a.lf(b.Tb,b.Nb),a.fd(e)),a.Gc(k[X]),a.ed(),a.translate(-I,-y),a.Tc(),a.Sd(J,Q,S,Q,S,F,J,F,x),n!==u||Ha||a.Gc(null)):(a.fd(k[K]),R=wa-D,O=L-D-R,a.clearRect(M,O,sa-M,R),c?(c.pb&&c.pb.ba?
(O=c.pb.ba,X=1/O.width,O=1/O.height):(X=1/c.width,O=1/c.height),a.kh(e,X,O,C.left,C.top,C.right,C.bottom,r,g,m,p,(m+h)/2,(p+v)/2,this.b.Ya.P,c.Sa[w]),c.uc(a)):(a.kh(e,1/z,1/L,0,0,1,1,r,g,m,p,(m+h)/2,(p+v)/2,this.b.Ya.P,b?b.Sa[w]:this.Sa[w]),a.Gc(b?this.b.ib:this.b.$a),a.ed(),a.translate(-I,-y),a.Tc(),a.Sd(J,Q,S,Q,S,F,J,F,x)),C.left=C.top=0,C.right=C.bottom=1,c&&!Ha&&(w=Q,Q=F,F=w));K=0===K?1:0;X=0===K?1:0}Ha&&(a.pc(0),c?a.lf(c.Tb,c.Nb):b?a.lf(b.Tb,b.Nb):this.b.Lc||(a.hg(this.b.width,this.b.height),
I=this.b.width/2,y=this.b.height/2,F=J=0,S=this.b.width,Q=this.b.height),a.fd(e),a.Gc(k[X]),a.ed(),a.translate(-I,-y),a.Tc(),c&&1===l.length&&!na?a.Sd(J,F,S,F,S,Q,J,Q,x):a.Sd(J,Q,S,Q,S,F,J,F,x),a.Gc(null))};c.prototype.jk=function(a){var b,c;b=0;for(c=this.W.length;b<c;b++)if(this.W[b].da===a)return this.W[b];return null};c.prototype.wb=function(){var a,b,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Dg,persist:this.jf,fx:[],layers:{}};a=0;for(b=this.U.length;a<
b;a++)c=this.U[a],e.fx.push({name:c.name,active:c.xb,params:this.Sa[c.index]});a=0;for(b=this.W.length;a<b;a++)c=this.W[a],e.layers[c.da.toString()]=c.wb();return e};c.prototype.Rb=function(a){var b,c,e,l;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.jf=a.persist;"undefined"!==typeof a.fv&&(this.Dg=a.fv);var r=a.fx;b=0;for(c=r.length;b<c;b++)if(e=this.Dm(r[b].name))e.xb=r[b].active,this.Sa[e.index]=r[b].params;this.Gd();b=a.layers;for(l in b)b.hasOwnProperty(l)&&
(a=this.jk(parseInt(l,10)))&&a.Rb(b[l])};Ib=c;k.prototype.Gd=function(){A(this.ka);this.Ae=!0;var a,b,c;a=0;for(b=this.U.length;a<b;a++)c=this.U[a],c.xb&&(this.ka.push(c),c.Ad||(this.Ae=!1))};k.prototype.Dm=function(a){var b,c,e;b=0;for(c=this.U.length;b<c;b++)if(e=this.U[b],e.name===a)return e;return null};k.prototype.mu=function(){var a,b,c,e,l,r;b=a=0;for(c=this.Nc.length;a<c;a++){e=this.Nc[a];l=this.b.D[e[1]];r=this.b.zo(l);l=!0;if(!r||this.Za.Dg){e=this.b.Se(e,this,!0);if(!e)continue;u.push(e);
e.type.global&&(l=!1,this.Hh.push(e.uid))}l&&(this.Nc[b]=this.Nc[a],b++)}this.Nc.length=b;this.b.Gb();!this.b.F&&this.U.length&&(this.Hb=this.Ou);this.Fh=jb(this.Hb);this.b.I&&kb(this,this.Hb,this.b.I);this.Dd=!0};k.prototype.ih=function(a,b){var c=Ca(this.j,a);0>c||(b&&this.Uc&&a.mc&&a.mc.right>=a.mc.left&&(a.wa(),this.Eb.update(a,a.mc,null),a.mc.set(0,0,-1,-1)),c===this.j.length-1?this.j.pop():(ya(this.j,c),this.Yi(c)),this.Dd=!0)};k.prototype.Bh=function(a,b){a.Hd=this.j.length;this.j.push(a);
b&&this.Uc&&a.mc&&a.C();this.Dd=!0};k.prototype.cx=function(a){this.j.unshift(a);this.Yi(0)};k.prototype.Iw=function(a,b,c){var e=a.Zc();b=b.Zc();ya(this.j,e);e<b&&b--;c&&b++;b===this.j.length?this.j.push(a):this.j.splice(b,0,a);this.Yi(e<b?e:b)};k.prototype.Yi=function(a){-1===this.Ie?this.Ie=a:a<this.Ie&&(this.Ie=a);this.Dd=this.ng=!0};k.prototype.Do=function(){if(this.ng){-1===this.Ie&&(this.Ie=0);var a,b,c;if(this.Uc)for(a=this.Ie,b=this.j.length;a<b;++a)c=this.j[a],c.Hd=a,this.Eb.Fw(c.mc);else for(a=
this.Ie,b=this.j.length;a<b;++a)this.j[a].Hd=a;this.ng=!1;this.Ie=-1}};k.prototype.wc=function(a){return this.Lv()*(this.b.Lc||a?this.b.Ch:1)};k.prototype.Lv=function(){return(this.scale*this.Za.scale-1)*this.Wb+1};k.prototype.fb=function(){return this.he?0:Ja(this.Za.k+this.k)};var a=[],v=[],h=[];k.prototype.Hm=function(){this.Do();this.Eb.cl(this.za,this.Aa,this.Ca,this.Ba,h);if(!h.length)return q();if(1===h.length){var a=q();Aa(a,h[0]);A(h);return a}for(var b=!0;1<h.length;){for(var a=h,c=void 0,
e=void 0,l=void 0,r=void 0,g=void 0,c=0,e=a.length;c<e-1;c+=2){var l=a[c],r=a[c+1],g=q(),m=l,p=r,k=g,n=0,u=0,P=0,U=m.length,G=p.length,E=void 0,K=void 0;for(k.length=U+G;n<U&&u<G;++P)E=m[n],K=p[u],E.Hd<K.Hd?(k[P]=E,++n):(k[P]=K,++u);for(;n<U;++n,++P)k[P]=m[n];for(;u<G;++u,++P)k[P]=p[u];b||(w(l),w(r));v.push(g)}1===e%2&&(b?(l=q(),Aa(l,a[e-1]),v.push(l)):v.push(a[e-1]));Aa(a,v);A(v);b=!1}a=h[0];A(h);return a};k.prototype.Kd=function(a){this.Td=this.fk||1!==this.opacity||0!==this.Hb;var b=this.b.canvas,
c=a,e=!1;this.Td&&(this.b.Ak||(this.b.Ak=document.createElement("canvas"),b=this.b.Ak,b.width=this.b.N,b.height=this.b.M,this.b.pq=b.getContext("2d"),e=!0),b=this.b.Ak,c=this.b.pq,b.width!==this.b.N&&(b.width=this.b.N,e=!0),b.height!==this.b.M&&(b.height=this.b.M,e=!0),e&&this.b.il(c,this.b.Qa),this.Fd&&c.clearRect(0,0,this.b.N,this.b.M));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Fd||(c.fillStyle="rgb("+this.sd[0]+","+this.sd[1]+","+this.sd[2]+")",c.fillRect(0,0,this.b.N,this.b.M));
c.save();this.he=!0;var e=this.Da(0,0,!0,!0),l=this.Da(0,0,!1,!0);this.he=!1;this.b.zd&&(e=Math.round(e),l=Math.round(l));this.el(e,l,c);var r=this.wc();c.scale(r,r);c.translate(-e,-l);this.Uc?(this.zb.left=this.Eb.$b(this.za),this.zb.top=this.Eb.ac(this.Aa),this.zb.right=this.Eb.$b(this.Ca),this.zb.bottom=this.Eb.ac(this.Ba),this.Dd||!this.zb.Kh(this.Ug)?(w(this.re),e=this.Hm(),this.Dd=!1,this.Ug.vg(this.zb)):e=this.re):e=this.j;for(var g,m=null,l=0,r=e.length;l<r;++l)g=e[l],g!==m&&(this.Ju(g,c),
m=g);this.Uc&&(this.re=e);c.restore();this.Td&&(a.globalCompositeOperation=this.Fh,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};k.prototype.Ju=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wa();var c=a.Ia;c.right<this.za||c.bottom<this.Aa||c.left>this.Ca||c.top>this.Ba||(b.globalCompositeOperation=a.Fh,a.Kd(b))}};k.prototype.Gl=function(){this.he=!0;var a=this.Da(0,0,!0,!0),b=this.Da(0,0,!1,!0);this.he=!1;this.b.zd&&(a=Math.round(a),b=Math.round(b));this.el(a,b,null)};k.prototype.el=
function(a,b,c){var e=this.wc();this.za=a;this.Aa=b;this.Ca=a+1/e*this.b.N;this.Ba=b+1/e*this.b.M;this.za>this.Ca&&(a=this.za,this.za=this.Ca,this.Ca=a);this.Aa>this.Ba&&(a=this.Aa,this.Aa=this.Ba,this.Ba=a);a=this.fb();0!==a&&(c&&(c.translate(this.b.N/2,this.b.M/2),c.rotate(-a),c.translate(this.b.N/-2,this.b.M/-2)),this.Ee.set(this.za,this.Aa,this.Ca,this.Ba),this.Ee.offset((this.za+this.Ca)/-2,(this.Aa+this.Ba)/-2),this.Zr.Ir(this.Ee,a),this.Zr.jp(this.Ee),this.Ee.offset((this.za+this.Ca)/2,(this.Aa+
this.Ba)/2),this.za=this.Ee.left,this.Aa=this.Ee.top,this.Ca=this.Ee.right,this.Ba=this.Ee.bottom)};k.prototype.xf=function(a){if(this.Td=this.fk){this.b.ib||(this.b.ib=a.Kc(this.b.N,this.b.M,this.b.Qa));if(this.b.ib.uf!==this.b.N||this.b.ib.tf!==this.b.M)a.deleteTexture(this.b.ib),this.b.ib=a.Kc(this.b.N,this.b.M,this.b.Qa);a.fd(this.b.ib)}this.he=!0;var b=this.Da(0,0,!0,!0),c=this.Da(0,0,!1,!0);this.he=!1;this.b.zd&&(b=Math.round(b),c=Math.round(c));this.el(b,c,null);b=this.wc();a.ed();a.scale(b,
b);a.fl(-this.fb());a.translate((this.za+this.Ca)/-2,(this.Aa+this.Ba)/-2);a.Tc();this.Uc?(this.zb.left=this.Eb.$b(this.za),this.zb.top=this.Eb.ac(this.Aa),this.zb.right=this.Eb.$b(this.Ca),this.zb.bottom=this.Eb.ac(this.Ba),this.Dd||!this.zb.Kh(this.Ug)?(w(this.re),b=this.Hm(),this.Dd=!1,this.Ug.vg(this.zb)):b=this.re):b=this.j;for(var e,l=null,c=b.length-1;0<=c;--c)e=b[c],e!==l&&(this.Lu(b[c],a),l=e);this.Uc&&(this.re=b);this.Fd||(this.fm=this.b.Af++,a.jl(this.fm),a.Ar(1,1,1),a.Hp(),a.ox())};k.prototype.uc=
function(a){var b=0,c=0;if(this.Td=this.fk||1!==this.opacity||0<this.ka.length||0!==this.Hb){this.b.ib||(this.b.ib=a.Kc(this.b.N,this.b.M,this.b.Qa));if(this.b.ib.uf!==this.b.N||this.b.ib.tf!==this.b.M)a.deleteTexture(this.b.ib),this.b.ib=a.Kc(this.b.N,this.b.M,this.b.Qa);a.fd(this.b.ib);this.Fd&&a.clear(0,0,0,0)}this.Fd||(this.b.Ea?(a.jl(this.fm),a.Ar(this.sd[0]/255,this.sd[1]/255,this.sd[2]/255),a.Hp(),a.Ex()):a.clear(this.sd[0]/255,this.sd[1]/255,this.sd[2]/255,1));this.he=!0;var e=this.Da(0,0,
!0,!0),b=this.Da(0,0,!1,!0);this.he=!1;this.b.zd&&(e=Math.round(e),b=Math.round(b));this.el(e,b,null);e=this.wc();a.ed();a.scale(e,e);a.fl(-this.fb());a.translate((this.za+this.Ca)/-2,(this.Aa+this.Ba)/-2);a.Tc();this.Uc?(this.zb.left=this.Eb.$b(this.za),this.zb.top=this.Eb.ac(this.Aa),this.zb.right=this.Eb.$b(this.Ca),this.zb.bottom=this.Eb.ac(this.Ba),this.Dd||!this.zb.Kh(this.Ug)?(w(this.re),b=this.Hm(),this.Dd=!1,this.Ug.vg(this.zb)):b=this.re):b=this.j;var l,r,g=null,c=0;for(l=b.length;c<l;++c)r=
b[c],r!==g&&(this.Ku(b[c],a),g=r);this.Uc&&(this.re=b);this.Td&&(b=this.ka.length?this.ka[0].cb:0,c=this.ka.length?this.ka[0].index:0,0===this.ka.length||1===this.ka.length&&!a.Pn(b)&&1===this.opacity?(1===this.ka.length?(a.pc(b),a.kh(this.Za.Rh(),1/this.b.N,1/this.b.M,0,0,1,1,e,this.fb(),this.za,this.Aa,(this.za+this.Ca)/2,(this.Aa+this.Ba)/2,this.b.Ya.P,this.Sa[c]),a.bl(b)&&(this.b.ma=!0)):a.pc(0),a.fd(this.Za.Rh()),a.gg(this.opacity),a.Gc(this.b.ib),a.lf(this.Tb,this.Nb),a.ed(),a.Tc(),e=this.b.N/
2,b=this.b.M/2,a.Ti(-e,b,e,b,e,-b,-e,-b),a.Gc(null)):this.Za.Xn(a,this,null,this.Za.Rh()))};k.prototype.Ku=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wa();var c=a.Ia;c.right<this.za||c.bottom<this.Aa||c.left>this.Ca||c.top>this.Ba||(b.jl(a.Af),a.qs?this.Mu(a,b):(b.pc(0),b.lf(a.Tb,a.Nb),a.uc(b)))}};k.prototype.Lu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wa();var c=a.Ia;c.right<this.za||c.bottom<this.Aa||c.left>this.Ca||c.top>this.Ba||(a.Af=this.b.Af++,0===a.Hb&&1===a.opacity&&
a.Ae&&a.xf&&(b.jl(a.Af),a.xf(b)))}};k.prototype.Mu=function(a,b){var c=a.ka[0].cb,e=a.ka[0].index,l=this.wc();if(1!==a.ka.length||b.Pn(c)||b.hx(c)||(a.k||a.n.fb())&&b.Qi(c)||1!==a.opacity||a.type.Ka.Oq)this.Za.Xn(b,this,a,this.Td?this.b.ib:this.Za.Rh()),b.ed(),b.scale(l,l),b.fl(-this.fb()),b.translate((this.za+this.Ca)/-2,(this.Aa+this.Ba)/-2),b.Tc();else{b.pc(c);b.lf(a.Tb,a.Nb);b.bl(c)&&(this.b.ma=!0);var r=0,g=0,m=0,p=0;b.Qi(c)&&(p=a.Ia,r=this.Pa(p.left,p.top,!0,!0),g=this.Pa(p.left,p.top,!1,!0),
m=this.Pa(p.right,p.bottom,!0,!0),p=this.Pa(p.right,p.bottom,!1,!0),r=r/windowWidth,g=1-g/windowHeight,m=m/windowWidth,p=1-p/windowHeight);var h;a.pb&&a.pb.ba?(h=a.pb.ba,c=1/h.width,h=1/h.height):(c=1/a.width,h=1/a.height);b.kh(this.Td?this.b.ib:this.Za.Rh(),c,h,r,g,m,p,l,this.fb(),this.za,this.Aa,(this.za+this.Ca)/2,(this.Aa+this.Ba)/2,this.b.Ya.P,a.Sa[e]);a.uc(b)}};k.prototype.Da=function(a,b,c,e){var l=this.b.devicePixelRatio;this.b.Mf&&(a*=l,b*=l);var l=this.b.gr,r=this.b.hr,l=(this.Za.scrollX-
l)*this.jc+l,r=(this.Za.scrollY-r)*this.kc+r,g=l,m=r,p=1/this.wc(!e);e?(g-=this.b.N*p/2,m-=this.b.M*p/2):(g-=this.b.width*p/2,m-=this.b.height*p/2);g+=a*p;m+=b*p;b=this.fb();0!==b&&(g-=l,m-=r,a=Math.cos(b),b=Math.sin(b),e=g*a-m*b,m=m*a+g*b,g=e+l,m+=r);return c?g:m};k.prototype.Pa=function(a,b,c,e){var l=this.b.gr,r=this.b.hr,g=(this.Za.scrollX-l)*this.jc+l,m=(this.Za.scrollY-r)*this.kc+r,r=g,l=m,p=this.fb();if(0!==p){a-=g;b-=m;var h=Math.cos(-p),p=Math.sin(-p),v=a*h-b*p;b=b*h+a*p;a=v+g;b+=m}g=1/this.wc(!e);
e?(r-=this.b.N*g/2,l-=this.b.M*g/2):(r-=this.b.width*g/2,l-=this.b.height*g/2);r=(a-r)/g;l=(b-l)/g;a=this.b.devicePixelRatio;this.b.Mf&&!e&&(r/=a,l/=a);return c?r:l};k.prototype.wb=function(){var a,b,c,e={s:this.scale,a:this.k,vl:this.za,vt:this.Aa,vr:this.Ca,vb:this.Ba,v:this.visible,bc:this.sd,t:this.Fd,px:this.jc,py:this.kc,o:this.opacity,zr:this.Wb,fx:[],cg:this.Hh,instances:[]};a=0;for(b=this.U.length;a<b;a++)c=this.U[a],e.fx.push({name:c.name,active:c.xb,params:this.Sa[c.index]});return e};
k.prototype.Rb=function(a){var b,c,e;this.scale=a.s;this.k=a.a;this.za=a.vl;this.Aa=a.vt;this.Ca=a.vr;this.Ba=a.vb;this.visible=a.v;this.sd=a.bc;this.Fd=a.t;this.jc=a.px;this.kc=a.py;this.opacity=a.o;this.Wb=a.zr;this.Hh=a.cg||[];Aa(this.Nc,this.Rr);var l=new ba;b=0;for(e=this.Hh.length;b<e;++b)l.add(this.Hh[b]);c=b=0;for(e=this.Nc.length;b<e;++b)l.contains(this.Nc[b][2])||(this.Nc[c]=this.Nc[b],++c);za(this.Nc,c);c=a.fx;b=0;for(e=c.length;b<e;b++)if(a=this.Dm(c[b].name))a.xb=c[b].active,this.Sa[a.index]=
c[b].params;this.Gd();this.j.sort(n);this.ng=!0};Wb=k})();
(function(){function c(a,b){var e,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(e=0;e<d;e++)if(a[e]!==b[e])return!1;return!0}}function n(a,b){return a.index-b.index}function k(a){var b,e,d,g;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(n);a.length>=l.length&&(l.length=a.length+1);l[a.length]||(l[a.length]=[]);g=l[a.length];b=0;for(e=g.length;b<e;b++)if(d=g[b],c(a,d))return d;g.push(a);return a}
function q(a,b){this.b=a;this.bs={};this.Bp={};this.Nm=!1;this.Vp=new ba;this.km=[];this.Sl=[];this.name=b[0];var e=b[1];this.We=[];var d,c;d=0;for(c=e.length;d<c;d++)this.Xp(e[d],null,this.We)}function w(a){this.type=a;this.j=[];this.X=[];this.ya=!0}function u(a,b,e){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.nf=[];this.Tp=this.zl=this.vo=this.qk=this.group=this.Pr=!1;this.Mb=[];this.nd=[];this.hd=[];this.Uh="";this.Th=this.qk=this.group=!1;this.Kj=null;e[1]&&(this.Uh=e[1][1].toLowerCase(),
this.group=!0,this.qk=!!e[1][0],this.Kj=[],this.Th=this.qk,this.b.Me.push(this),this.b.lk[this.Uh]=this);this.bd=e[2];this.da=e[4];this.group||(this.b.ip[this.da.toString()]=this);var d=e[5];a=0;for(b=d.length;a<b;a++){var c=new Xb(this,d[a]);c.index=a;this.Mb.push(c);this.dp(c.type)}d=e[6];a=0;for(b=d.length;a<b;a++)c=new Yb(this,d[a]),c.index=a,this.nd.push(c);if(8===e.length)for(e=e[7],a=0,b=e.length;a<b;a++)this.sheet.Xp(e[a],this,this.hd);this.wk=!1;this.Mb.length&&(this.wk=null==this.Mb[0].type&&
this.Mb[0].Ab==N.prototype.q.Fs)}function b(a,b){var e,d,c;if(a&&(-1===b.indexOf(a)&&b.push(a),a.yc))for(e=0,d=a.tc.length;e<d;e++)c=a.tc[e],a!==c&&-1===b.indexOf(c)&&b.push(c)}function a(a,b){this.Jc=a;this.sheet=a.sheet;this.b=a.b;this.Z=[];this.Ta=[];this.V={};this.index=-1;this.zh=!1;this.Ab=this.b.Je(b[1]);this.trigger=0<b[3];this.Ap=2===b[3];this.Od=b[4];this.rk=b[5];this.Bw=b[6];this.da=b[7];this.b.Qe[this.da.toString()]=this;-1===b[0]?(this.type=null,this.mb=this.bo,this.sf=null,this.td=-1):
(this.type=this.b.D[b[0]],this.mb=this.Bw?this.wx:this.ao,b[2]?(this.sf=this.type.ik(b[2]),this.td=this.type.Bm(b[2])):(this.sf=null,this.td=-1),this.Jc.parent&&this.Jc.parent.kl());this.Ap&&(this.mb=this.xx);if(10===b.length){var e,d,c=b[9];e=0;for(d=c.length;e<d;e++){var g=new Zb(this,c[e]);this.Z.push(g)}this.Ta.length=c.length}}function v(a,b){this.Jc=a;this.sheet=a.sheet;this.b=a.b;this.Z=[];this.Ta=[];this.V={};this.index=-1;this.zh=!1;this.Ab=this.b.Je(b[1]);-1===b[0]?(this.type=null,this.mb=
this.bo,this.sf=null,this.td=-1):(this.type=this.b.D[b[0]],this.mb=this.ao,b[2]?(this.sf=this.type.ik(b[2]),this.td=this.type.Bm(b[2])):(this.sf=null,this.td=-1));this.da=b[3];this.b.Le[this.da.toString()]=this;if(6===b.length){var e,d,c=b[5];e=0;for(d=c.length;e<d;e++){var g=new Zb(this,c[e]);this.Z.push(g)}this.Ta.length=c.length}}function h(){g++;r.length===g&&r.push(new $b);return r[g]}function d(a,b){this.cd=a;this.Jc=a.Jc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Ld=null;this.Be=0;this.get=
null;this.qp=0;this.Za=null;this.key=0;this.object=null;this.index=0;this.nj=this.jg=this.nj=this.jg=this.Fp=this.Cf=this.oj=null;this.ld=!1;var e,d,c;switch(b[0]){case 0:case 7:this.Ld=new ac(this,b[1]);this.Be=0;this.get=this.Vv;break;case 1:this.Ld=new ac(this,b[1]);this.Be=0;this.get=this.Wv;break;case 5:this.Ld=new ac(this,b[1]);this.Be=0;this.get=this.$v;break;case 3:case 8:this.qp=b[1];this.get=this.Tv;break;case 6:this.Za=this.b.kn[b[1]];this.get=this.aw;break;case 9:this.key=b[1];this.get=
this.Zv;break;case 4:this.object=this.b.D[b[1]];this.get=this.bw;this.Jc.dp(this.object);this.cd instanceof Yb?this.Jc.kl():this.Jc.parent&&this.Jc.parent.kl();break;case 10:this.index=b[1];a.type&&a.type.O?(this.get=this.Xv,this.ld=!0):this.get=this.Yv;break;case 11:this.oj=b[1];this.Cf=null;this.get=this.Uv;break;case 2:case 12:this.Fp=b[1];this.get=this.Sv;break;case 13:for(this.get=this.cw,this.jg=[],this.nj=[],e=1,d=b.length;e<d;e++)c=new Zb(this.cd,b[e]),this.jg.push(c),this.nj.push(0)}}function f(a,
b,e){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.name=e[1];this.pj=e[2];this.pk=e[3];this.ji=!!e[4];this.vk=!!e[5];this.da=e[6];this.b.uh[this.da.toString()]=this;this.data=this.pk;this.parent?(this.Xf=this.ji||this.vk?-1:this.b.Hx++,this.b.$t.push(this)):(this.Xf=-1,this.b.Ql.push(this))}function t(a,b,e){this.sheet=a;this.parent=b;this.b=a.b;this.La=[];this.Wh=null;this.jw=e[1];this.xb=!0}function e(){this.Tr=[];this.reset(null)}var l=[];q.prototype.toString=function(){return this.name};
q.prototype.Xp=function(a,b,e){switch(a[0]){case 0:a=new bc(this,b,a);if(a.bd)for(e.push(a),e=0,b=a.Mb.length;e<b;e++)a.Mb[e].trigger&&this.Yp(a,e);else a.iq()?this.Yp(a,0):e.push(a);break;case 1:a=new Tb(this,b,a);e.push(a);break;case 2:a=new cc(this,b,a),e.push(a)}};q.prototype.Wa=function(){var a,b;a=0;for(b=this.We.length;a<b;a++)this.We[a].Wa(a<b-1&&this.We[a+1].wk)};q.prototype.Bo=function(){A(this.km);A(this.Sl);this.cp(this);A(this.Sl)};q.prototype.cp=function(a){var b,e,d,c,g=a.km,f=a.Sl,
l=this.Vp.kd();b=0;for(e=l.length;b<e;++b)d=l[b],c=d.Wh,!d.xb||a===c||-1<f.indexOf(c)||(f.push(c),c.cp(a),g.push(c))};q.prototype.mb=function(a){this.b.oz||(this.Nm=!0,a||(this.b.Zm=!0));var b,e;b=0;for(e=this.We.length;b<e;b++){var d=this.We[b];d.mb();this.b.em(d.La);this.b.Ye&&this.b.Gb()}a||(this.b.Zm=!1)};q.prototype.Yp=function(a,b){a.bd||this.b.Dl.push(a);var e,d,c=a.Mb[b],g;c.type?g=c.type.name:g="system";var f=(e=c.Ap)?this.Bp:this.bs;f[g]||(f[g]=[]);g=f[g];f=c.Ab;if(e){if(c.Z.length&&(c=
c.Z[0],1===c.type&&2===c.Ld.type)){c=c.Ld.value.toLowerCase();e=0;for(d=g.length;e<d;e++)if(g[e].method==f){e=g[e].Lh;e[c]?e[c].push([a,b]):e[c]=[[a,b]];return}e={};e[c]=[[a,b]];g.push({method:f,Lh:e})}}else{e=0;for(d=g.length;e<d;e++)if(g[e].method==f){g[e].Lh.push([a,b]);return}T&&f===T.prototype.q.rg?g.unshift({method:f,Lh:[[a,b]]}):g.push({method:f,Lh:[[a,b]]})}};Jb=q;w.prototype.Mm=function(){return this.ya?this.type.j.length:this.j.length};w.prototype.Yc=function(){return this.ya?this.type.j:
this.j};w.prototype.Oi=function(a){a&&(a.b.Bb().ec.bd?(this.ya&&(A(this.j),Aa(this.X,a.type.j),this.ya=!1),a=this.X.indexOf(a),-1!==a&&(this.j.push(this.X[a]),this.X.splice(a,1))):(this.ya=!1,A(this.j),this.j[0]=a))};rb=w;window._c2hh_="ECD1B2C2F8BC1072F97E6ED38E9416B740C4DBDE";u.prototype.Wa=function(a){var b,e=this.parent;if(this.group)for(this.zl=!0;e;){if(!e.group){this.zl=!1;break}e=e.parent}this.vo=!this.iq()&&(!this.parent||this.parent.group&&this.parent.zl);this.Tp=!!a;this.nf=this.La.slice(0);
for(e=this.parent;e;){a=0;for(b=e.La.length;a<b;a++)this.Yt(e.La[a]);e=e.parent}this.La=k(this.La);this.nf=k(this.nf);a=0;for(b=this.Mb.length;a<b;a++)this.Mb[a].Wa();a=0;for(b=this.nd.length;a<b;a++)this.nd[a].Wa();a=0;for(b=this.hd.length;a<b;a++)this.hd[a].Wa(a<b-1&&this.hd[a+1].wk)};u.prototype.Dr=function(a){if(this.Th!==!!a){this.Th=!!a;var b;a=0;for(b=this.Kj.length;a<b;++a)this.Kj[a].hs();0<b&&this.b.ua.Bf&&this.b.ua.Bf.Bo()}};u.prototype.dp=function(a){b(a,this.La)};u.prototype.Yt=function(a){b(a,
this.nf)};u.prototype.kl=function(){this.Pr=!0;this.parent&&this.parent.kl()};u.prototype.iq=function(){return this.Mb.length?this.Mb[0].trigger:!1};u.prototype.mb=function(){var a,b,e=!1,d=this.b,c=this.b.Bb();c.ec=this;var g=this.Mb;this.wk||(c.nm=!1);if(this.bd){0===g.length&&(e=!0);c.cc=0;for(a=g.length;c.cc<a;c.cc++)b=g[c.cc],b.trigger||(b=b.mb())&&(e=!0);(c.Rf=e)&&this.$n()}else{c.cc=0;for(a=g.length;c.cc<a;c.cc++)if(b=g[c.cc].mb(),!b){c.Rf=!1;this.vo&&d.Ye&&d.Gb();return}c.Rf=!0;this.$n()}this.Qu(c)};
u.prototype.Qu=function(a){a.Rf&&this.Tp&&(a.nm=!0);this.vo&&this.b.Ye&&this.b.Gb()};u.prototype.ux=function(a){this.b.Bb().ec=this;this.Mb[a].mb()&&(this.$n(),this.b.Bb().Rf=!0)};u.prototype.$n=function(){var a=this.b.Bb(),b;a.rc=0;for(b=this.nd.length;a.rc<b;a.rc++)if(this.nd[a.rc].mb())return;this.xr()};u.prototype.rx=function(){var a=this.b.Bb(),b;for(b=this.nd.length;a.rc<b;a.rc++)if(this.nd[a.rc].mb())return;this.xr()};u.prototype.xr=function(){if(this.hd.length){var a,b,e,d,c=this.hd.length-
1;this.b.Rn(this);if(this.Pr)for(a=0,b=this.hd.length;a<b;a++)e=this.hd[a],(d=!this.zl||!this.group&&a<c)&&this.b.Qn(e.La),e.mb(),d?this.b.gh(e.La):this.b.em(e.La);else for(a=0,b=this.hd.length;a<b;a++)this.hd[a].mb();this.b.lr()}};u.prototype.vx=function(){var a=this.b.Bb();a.ec=this;var b=!1,e;a.cc=0;for(e=this.Mb.length;a.cc<e;a.cc++)if(this.Mb[a.cc].mb())b=!0;else if(!this.bd)return!1;return this.bd?b:!0};u.prototype.uw=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Mb[b].type===
a.type)return!1;return!0};bc=u;a.prototype.Wa=function(){var a,b,e;a=0;for(b=this.Z.length;a<b;a++)e=this.Z[a],e.Wa(),e.ld&&(this.zh=!0)};a.prototype.xx=function(){return!0};a.prototype.bo=function(){var a,b;a=0;for(b=this.Z.length;a<b;a++)this.Ta[a]=this.Z[a].get();return Ya(this.Ab.apply(this.b.Vd,this.Ta),this.rk)};a.prototype.wx=function(){var a,b;a=0;for(b=this.Z.length;a<b;a++)this.Ta[a]=this.Z[a].get();a=this.Ab.apply(this.sf?this.sf:this.type,this.Ta);this.type.Zd();return a};a.prototype.ao=
function(){var a,b,e,d,c,g,f,l,r=this.type,h=r.ra(),v=this.Jc.bd&&!this.trigger;b=0;var k=r.yc,n=r.O,q=r.je,t=this.td,u=-1<t,w=this.zh,x=this.Z,C=this.Ta,J=this.rk,M=this.Ab,F;if(w)for(b=0,c=x.length;b<c;++b)g=x[b],g.ld||(C[b]=g.get(0));else for(b=0,c=x.length;b<c;++b)C[b]=x[b].get(0);if(h.ya){A(h.j);A(h.X);F=r.j;a=0;for(d=F.length;a<d;++a){l=F[a];if(w)for(b=0,c=x.length;b<c;++b)g=x[b],g.ld&&(C[b]=g.get(a));u?(b=0,n&&(b=l.type.Cg[q]),b=M.apply(l.L[t+b],C)):b=M.apply(l,C);(f=Ya(b,J))?h.j.push(l):v&&
h.X.push(l)}r.finish&&r.finish(!0);h.ya=!1;r.Zd();return h.Mm()}e=0;F=(f=v&&!this.Jc.uw(this))?h.X:h.j;var D=!1;a=0;for(d=F.length;a<d;++a){l=F[a];if(w)for(b=0,c=x.length;b<c;++b)g=x[b],g.ld&&(C[b]=g.get(a));u?(b=0,n&&(b=l.type.Cg[q]),b=M.apply(l.L[t+b],C)):b=M.apply(l,C);if(Ya(b,J))if(D=!0,f){if(h.j.push(l),k)for(b=0,c=l.siblings.length;b<c;b++)g=l.siblings[b],g.type.ra().j.push(g)}else{F[e]=l;if(k)for(b=0,c=l.siblings.length;b<c;b++)g=l.siblings[b],g.type.ra().j[e]=g;e++}else if(f){F[e]=l;if(k)for(b=
0,c=l.siblings.length;b<c;b++)g=l.siblings[b],g.type.ra().X[e]=g;e++}else if(v&&(h.X.push(l),k))for(b=0,c=l.siblings.length;b<c;b++)g=l.siblings[b],g.type.ra().X.push(g)}za(F,e);if(k)for(n=r.tc,a=0,d=n.length;a<d;a++)l=n[a].ra(),f?za(l.X,e):za(l.j,e);e=D;if(f&&!D)for(a=0,d=h.j.length;a<d;a++){l=h.j[a];if(w)for(b=0,c=x.length;b<c;b++)g=x[b],g.ld&&(C[b]=g.get(a));b=u?M.apply(l.L[t],C):M.apply(l,C);if(Ya(b,J)){D=!0;break}}r.finish&&r.finish(e||v);return v?D:h.Mm()};Xb=a;v.prototype.Wa=function(){var a,
b,e;a=0;for(b=this.Z.length;a<b;a++)e=this.Z[a],e.Wa(),e.ld&&(this.zh=!0)};v.prototype.bo=function(){var a=this.b,b,e,d=this.Z,c=this.Ta;b=0;for(e=d.length;b<e;++b)c[b]=d[b].get();return this.Ab.apply(a.Vd,c)};v.prototype.ao=function(){var a=this.type,b=this.td,e=a.je,d=this.zh,c=this.Z,g=this.Ta,l=this.Ab,f=a.ra().Yc(),a=a.O,h=-1<b,r,v,k,n,q,t;if(d)for(v=0,n=c.length;v<n;++v)q=c[v],q.ld||(g[v]=q.get(0));else for(v=0,n=c.length;v<n;++v)g[v]=c[v].get(0);r=0;for(k=f.length;r<k;++r){t=f[r];if(d)for(v=
0,n=c.length;v<n;++v)q=c[v],q.ld&&(g[v]=q.get(r));h?(v=0,a&&(v=t.type.Cg[e]),l.apply(t.L[b+v],g)):l.apply(t,g)}return!1};Yb=v;var r=[],g=-1;d.prototype.Wa=function(){var a,b;if(11===this.type)this.Cf=this.b.Np(this.oj,this.Jc.parent);else if(13===this.type)for(a=0,b=this.jg.length;a<b;a++)this.jg[a].Wa();this.Ld&&this.Ld.Wa()};d.prototype.Hw=function(a){this.ld||!a||a.Ka.pl||(this.ld=!0)};d.prototype.Gr=function(){this.ld=!0};d.prototype.Vv=function(a){this.Be=a||0;a=h();this.Ld.get(a);g--;return a.data};
d.prototype.Wv=function(a){this.Be=a||0;a=h();this.Ld.get(a);g--;return ha(a.data)?a.data:""};d.prototype.bw=function(){return this.object};d.prototype.Tv=function(){return this.qp};d.prototype.$v=function(a){this.Be=a||0;a=h();this.Ld.get(a);g--;return a.sb()?this.b.le(a.data):this.b.Qh(a.data)};d.prototype.aw=function(){return this.Za};d.prototype.Zv=function(){return this.key};d.prototype.Yv=function(){return this.index};d.prototype.Xv=function(a){a=a||0;var b=this.cd.type,e=null,e=b.ra(),d=e.Yc();
if(d.length)e=d[a%d.length].type;else if(e.X.length)e=e.X[a%e.X.length].type;else if(b.j.length)e=b.j[a%b.j.length].type;else return 0;return this.index+e.Zj[b.je]};d.prototype.Uv=function(){return this.Cf};d.prototype.Sv=function(){return this.Fp};d.prototype.cw=function(){var a,b;a=0;for(b=this.jg.length;a<b;a++)this.nj[a]=this.jg[a].get();return this.nj};Zb=d;f.prototype.Wa=function(){this.La=k(this.La)};f.prototype.ze=function(a){var b=this.b.Mp();this.parent&&!this.ji&&b?(this.Xf>=b.length&&
(b.length=this.Xf+1),b[this.Xf]=a):this.data=a};f.prototype.Gf=function(){var a=this.b.Mp();return!this.parent||this.ji||!a||this.vk?this.data:this.Xf>=a.length||"undefined"===typeof a[this.Xf]?this.pk:a[this.Xf]};f.prototype.mb=function(){!this.parent||this.ji||this.vk||this.ze(this.pk)};Tb=f;t.prototype.toString=function(){return"include:"+this.Wh.toString()};t.prototype.Wa=function(){this.Wh=this.b.qm[this.jw];this.sheet.Vp.add(this);this.La=k(this.La);for(var a=this.parent;a;)a.group&&a.Kj.push(this),
a=a.parent;this.hs()};t.prototype.mb=function(){this.parent&&this.b.Si(this.b.D);this.Wh.Nm||this.Wh.mb(!0);this.parent&&this.b.gh(this.b.D)};t.prototype.hs=function(){for(var a=this.parent;a;){if(a.group&&!a.Th){this.xb=!1;return}a=a.parent}this.xb=!0};cc=t;e.prototype.reset=function(a){this.ec=a;this.rc=this.cc=0;A(this.Tr);this.nm=this.Rf=!1};Sb=e})();
(function(){function c(b,a){this.cd=b;this.b=b.b;this.type=a[0];this.get=[this.kv,this.dv,this.uv,this.xv,this.Tu,this.vv,this.pv,this.av,this.ov,this.tv,this.Uu,this.sv,this.bv,this.qv,this.lv,this.nv,this.gv,this.hv,this.$u,this.wv,this.rv,this.jv,this.Zu,this.cv][this.type];var c=null;this.te=this.Z=this.Ta=this.Ab=this.xl=this.second=this.first=this.value=null;this.td=-1;this.vd=null;this.rs=-1;this.Cf=this.oj=null;this.jh=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new ac(b,a[1]);break;case 18:this.first=new ac(b,a[1]);this.second=new ac(b,a[2]);this.xl=new ac(b,a[3]);break;case 19:this.Ab=this.b.Je(a[1]);this.Ab!==N.prototype.xa.random&&this.Ab!==N.prototype.xa.pp||this.cd.Gr();this.Ta=[];this.Z=[];3===a.length?(c=a[2],this.Ta.length=c.length+1):this.Ta.length=1;break;case 20:this.te=this.b.D[a[1]];this.td=-1;this.Ab=this.b.Je(a[2]);this.jh=a[3];fc.Function&&this.Ab===fc.Function.prototype.xa.ey&&this.cd.Gr();a[4]?this.vd=new ac(b,a[4]):this.vd=null;this.Ta=
[];this.Z=[];6===a.length?(c=a[5],this.Ta.length=c.length+1):this.Ta.length=1;break;case 21:this.te=this.b.D[a[1]];this.jh=a[2];a[3]?this.vd=new ac(b,a[3]):this.vd=null;this.rs=a[4];break;case 22:this.te=this.b.D[a[1]];this.te.ik(a[2]);this.td=this.te.Bm(a[2]);this.Ab=this.b.Je(a[3]);this.jh=a[4];a[5]?this.vd=new ac(b,a[5]):this.vd=null;this.Ta=[];this.Z=[];7===a.length?(c=a[6],this.Ta.length=c.length+1):this.Ta.length=1;break;case 23:this.oj=a[1],this.Cf=null}this.cd.Hw(this.te);4<=this.type&&17>=
this.type&&(this.first=new ac(b,a[1]),this.second=new ac(b,a[2]));if(c){var h,d;h=0;for(d=c.length;h<d;h++)this.Z.push(new ac(b,c[h]))}}function n(){++u;w.length===u&&w.push(new $b);return w[u]}function k(b,a,c){var h,d;h=0;for(d=b.length;h<d;++h)b[h].get(c),a[h+1]=c.data}function q(b,a){this.type=b||dc.qg;this.data=a||0;this.ag=null;this.type==dc.qg&&(this.data=Math.floor(this.data))}c.prototype.Wa=function(){23===this.type&&(this.Cf=this.cd.b.Np(this.oj,this.cd.Jc.parent));this.first&&this.first.Wa();
this.second&&this.second.Wa();this.xl&&this.xl.Wa();this.vd&&this.vd.Wa();if(this.Z){var b,a;b=0;for(a=this.Z.length;b<a;b++)this.Z[b].Wa()}};var w=[],u=-1;c.prototype.wv=function(b){var a=this.Z,c=this.Ta;c[0]=b;b=n();k(a,c,b);--u;this.Ab.apply(this.b.Vd,c)};c.prototype.rv=function(b){var a=this.te,c=this.Ta,h=this.Z,d=this.vd,f=this.Ab,q=this.cd.Be,e=a.ra(),l=e.Yc();if(!l.length)if(e.X.length)l=e.X;else{this.jh?b.Hc(""):b.Ga(0);return}c[0]=b;b.ag=a;b=n();k(h,c,b);d&&(d.get(b),b.sb()&&(q=b.data,
l=a.j));--u;a=l.length;if(q>=a||q<=-a)q%=a;0>q&&(q+=a);f.apply(l[q],c)};c.prototype.Zu=function(b){var a=this.te,c=this.Ta,h=this.Z,d=this.vd,f=this.td,q=this.Ab,e=this.cd.Be,l=a.ra(),r=l.Yc();if(!r.length)if(l.X.length)r=l.X;else{this.jh?b.Hc(""):b.Ga(0);return}c[0]=b;b.ag=a;b=n();k(h,c,b);d&&(d.get(b),b.sb()&&(e=b.data,r=a.j));--u;h=r.length;if(e>=h||e<=-h)e%=h;0>e&&(e+=h);e=r[e];r=0;a.O&&(r=e.type.Cg[a.je]);q.apply(e.L[f+r],c)};c.prototype.jv=function(b){var a=this.vd,c=this.te,h=this.rs,d=this.cd.Be,
f=c.ra(),k=f.Yc();if(!k.length)if(f.X.length)k=f.X;else{this.jh?b.Hc(""):b.Ga(0);return}if(a){f=n();a.get(f);if(f.sb()){d=f.data;k=c.j;0!==k.length&&(d%=k.length,0>d&&(d+=k.length));d=c.Fm(d);c=d.hb[h];ha(c)?b.Hc(c):b.G(c);--u;return}--u}a=k.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=k[d];k=0;c.O&&(k=d.type.Zj[c.je]);c=d.hb[h+k];ha(c)?b.Hc(c):b.G(c)};c.prototype.kv=function(b){b.type=dc.qg;b.data=this.value};c.prototype.dv=function(b){b.type=dc.pg;b.data=this.value};c.prototype.uv=function(b){b.type=
dc.String;b.data=this.value};c.prototype.xv=function(b){this.first.get(b);b.sb()&&(b.data=-b.data)};c.prototype.Tu=function(b){this.first.get(b);var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data+=a.data,a.Lg()&&b.Xg());--u};c.prototype.vv=function(b){this.first.get(b);var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data-=a.data,a.Lg()&&b.Xg());--u};c.prototype.pv=function(b){this.first.get(b);var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data*=a.data,a.Lg()&&b.Xg());--u};c.prototype.av=function(b){this.first.get(b);
var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data/=a.data,b.Xg());--u};c.prototype.ov=function(b){this.first.get(b);var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data%=a.data,a.Lg()&&b.Xg());--u};c.prototype.tv=function(b){this.first.get(b);var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data=Math.pow(b.data,a.data),a.Lg()&&b.Xg());--u};c.prototype.Uu=function(b){this.first.get(b);var a=n();this.second.get(a);a.Og()||b.Og()?this.Wu(b,a):this.Vu(b,a);--u};c.prototype.Wu=function(b,a){b.Og()&&
a.Og()?this.Yu(b,a):this.Xu(b,a)};c.prototype.Yu=function(b,a){b.data+=a.data};c.prototype.Xu=function(b,a){b.Og()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.Hc(b.data.toString()+a.data)};c.prototype.Vu=function(b,a){b.Ga(b.data&&a.data?1:0)};c.prototype.sv=function(b){this.first.get(b);var a=n();this.second.get(a);b.sb()&&a.sb()&&(b.data||a.data?b.Ga(1):b.Ga(0));--u};c.prototype.$u=function(b){this.first.get(b);b.data?this.second.get(b):this.xl.get(b)};c.prototype.bv=function(b){this.first.get(b);
var a=n();this.second.get(a);b.Ga(b.data===a.data?1:0);--u};c.prototype.qv=function(b){this.first.get(b);var a=n();this.second.get(a);b.Ga(b.data!==a.data?1:0);--u};c.prototype.lv=function(b){this.first.get(b);var a=n();this.second.get(a);b.Ga(b.data<a.data?1:0);--u};c.prototype.nv=function(b){this.first.get(b);var a=n();this.second.get(a);b.Ga(b.data<=a.data?1:0);--u};c.prototype.gv=function(b){this.first.get(b);var a=n();this.second.get(a);b.Ga(b.data>a.data?1:0);--u};c.prototype.hv=function(b){this.first.get(b);
var a=n();this.second.get(a);b.Ga(b.data>=a.data?1:0);--u};c.prototype.cv=function(b){var a=this.Cf.Gf();ga(a)?b.G(a):b.Hc(a)};ac=c;q.prototype.Lg=function(){return this.type===dc.pg};q.prototype.sb=function(){return this.type===dc.qg||this.type===dc.pg};q.prototype.Og=function(){return this.type===dc.String};q.prototype.Xg=function(){this.Lg()||(this.Og()&&(this.data=parseFloat(this.data)),this.type=dc.pg)};q.prototype.Ga=function(b){this.type=dc.qg;this.data=Math.floor(b)};q.prototype.G=function(b){this.type=
dc.pg;this.data=b};q.prototype.Hc=function(b){this.type=dc.String;this.data=b};q.prototype.Fx=function(b){ga(b)?(this.type=dc.pg,this.data=b):ha(b)?(this.type=dc.String,this.data=b.toString()):(this.type=dc.qg,this.data=0)};$b=q;dc={qg:0,pg:1,String:2}})();function N(c){this.b=c;this.qc=[]}
N.prototype.wb=function(){var c={},n,k,q,w,u,b,a,v;c.waits=[];var h=c.waits,d;n=0;for(k=this.qc.length;n<k;n++){b=this.qc[n];d={t:b.time,st:b.Nr,s:b.no,ev:b.zg.da,sm:[],sols:{}};b.zg.nd[b.rc]&&(d.act=b.zg.nd[b.rc].da);q=0;for(w=b.La.length;q<w;q++)d.sm.push(b.La[q].da);for(u in b.Yb)if(b.Yb.hasOwnProperty(u)){a=this.b.D[parseInt(u,10)];v={sa:b.Yb[u].gl,insts:[]};q=0;for(w=b.Yb[u].me.length;q<w;q++)v.insts.push(b.Yb[u].me[q].uid);d.sols[a.da.toString()]=v}h.push(d)}return c};
N.prototype.Rb=function(c){c=c.waits;var n,k,q,w,u,b,a,v,h,d,f;A(this.qc);n=0;for(k=c.length;n<k;n++)if(b=c[n],v=this.b.ip[b.ev.toString()]){h=-1;q=0;for(w=v.nd.length;q<w;q++)if(v.nd[q].da===b.act){h=q;break}if(-1!==h){a={Yb:{},La:[],lm:!1};a.time=b.t;a.Nr=b.st||"";a.no=!!b.s;a.zg=v;a.rc=h;q=0;for(w=b.sm.length;q<w;q++)(v=this.b.kk(b.sm[q]))&&a.La.push(v);for(u in b.sols)if(b.sols.hasOwnProperty(u)&&(v=this.b.kk(parseInt(u,10)))){h=b.sols[u];d={gl:h.sa,me:[]};q=0;for(w=h.insts.length;q<w;q++)(f=
this.b.Ff(h.insts[q]))&&d.me.push(f);a.Yb[v.index.toString()]=d}this.qc.push(a)}}};
(function(){function c(){}function n(){}function k(){}var q=N.prototype;c.prototype.Oo=function(){return!0};c.prototype.jt=function(){return!0};c.prototype.Gs=function(b){var a=this.b.Cm(),c=a.V.Every_lastTime||0,h=this.b.Ya.P;"undefined"===typeof a.V.Every_seconds&&(a.V.Every_seconds=b);var d=a.V.Every_seconds;if(h>=c+d)return a.V.Every_lastTime=c+d,h>=a.V.Every_lastTime+.04&&(a.V.Every_lastTime=h),a.V.Every_seconds=b,!0;h<c-.1&&(a.V.Every_lastTime=h);return!1};c.prototype.Cs=function(b,a,c){return ec(b.Gf(),
a,c)};c.prototype.Fs=function(){var b=this.b.Bb();return b.nm?!1:!b.Rf};c.prototype.Po=function(){return!0};c.prototype.Xs=function(){return!0};c.prototype.Ml=function(){return!0};c.prototype.Uo=function(){return!0};c.prototype.kt=function(){return!0};c.prototype.Ll=function(){return!0};c.prototype.ws=function(b,a,c){return Oa(H(b),H(c))<=H(a)};c.prototype.Ns=function(b,a){return Qa(H(b),H(a))};c.prototype.Ls=function(b,a,c){b=Ma(b);a=Ma(a);c=Ma(c);return Qa(c,a)?Qa(b,a)&&!Qa(b,c):!(!Qa(b,a)&&Qa(b,
c))};q.q=new c;n.prototype.Hs=function(b){this.b.Nf||this.b.be||(this.b.be=b)};n.prototype.Us=function(b){if(!this.b.Nf&&!this.b.be){var a=this.b.Bc.indexOf(this.b.ua);if(!b||0!==a)if(b||a!==this.b.Bc.length-1)this.b.be=this.b.Bc[a+(b?-1:1)]}};n.prototype.Ds=function(b,a,c,h){if(a&&b&&(a=this.b.sp(b,a,c,h))){this.b.xd++;var d;this.b.trigger(Object.getPrototypeOf(b.Ka).q.tj,a);if(a.yc)for(c=0,h=a.siblings.length;c<h;c++)d=a.siblings[c],this.b.trigger(Object.getPrototypeOf(d.type.Ka).q.tj,d);this.b.xd--;
b=b.ra();b.ya=!1;A(b.j);b.j[0]=a;if(a.yc)for(c=0,h=a.siblings.length;c<h;c++)d=a.siblings[c],b=d.type.ra(),b.ya=!1,A(b.j),b.j[0]=d}};n.prototype.It=function(b,a){0===b.pj?ga(a)?b.ze(a):b.ze(parseFloat(a)):1===b.pj&&b.ze(a.toString())};n.prototype.vs=function(b,a){0===b.pj?ga(a)?b.ze(b.Gf()+a):b.ze(b.Gf()+parseFloat(a)):1===b.pj&&b.ze(b.Gf()+a.toString())};n.prototype.Nt=function(b,a){0===b.pj&&(ga(a)?b.ze(b.Gf()-a):b.ze(b.Gf()-parseFloat(a)))};var w=[],u=[];n.prototype.Rt=function(b){if(!(0>b)){var a,
c,h,d=this.b.Bb(),f;w.length?f=w.pop():f={Yb:{},La:[]};f.lm=!1;f.time=this.b.Ya.P+b;f.Nr="";f.no=!1;f.zg=d.ec;f.rc=d.rc+1;b=0;for(a=this.b.D.length;b<a;b++)h=this.b.D[b],c=h.ra(),c.ya&&-1===d.ec.La.indexOf(h)||(f.La.push(h),h=void 0,u.length?h=u.pop():h={me:[]},h.gl=!1,h.gl=c.ya,Aa(h.me,c.j),f.Yb[b.toString()]=h);this.qc.push(f);return!0}};n.prototype.ut=function(){var b,a,c;b=0;for(a=this.b.Ql.length;b<a;b++)c=this.b.Ql[b],c.data=c.pk};n.prototype.xt=function(){if(!this.b.Nf&&!this.b.be&&this.b.ua){this.b.be=
this.b.ua;var b,a,c;b=0;for(a=this.b.Me.length;b<a;b++)c=this.b.Me[b],c.Dr(c.qk)}};q.K=new n;k.prototype["int"]=function(b,a){ha(a)?(b.Ga(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.Ga(a)};k.prototype["float"]=function(b,a){ha(a)?(b.G(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.G(a)};k.prototype.random=function(b,a,c){void 0===c?b.G(Math.random()*a):b.G(Math.random()*(c-a)+a)};k.prototype.sqrt=function(b,a){b.G(Math.sqrt(a))};k.prototype.abs=function(b,a){b.G(Math.abs(a))};k.prototype.round=function(b,
a){b.Ga(Math.round(a))};k.prototype.floor=function(b,a){b.Ga(Math.floor(a))};k.prototype.ceil=function(b,a){b.Ga(Math.ceil(a))};k.prototype.sin=function(b,a){b.G(Math.sin(H(a)))};k.prototype.cos=function(b,a){b.G(Math.cos(H(a)))};k.prototype.tan=function(b,a){b.G(Math.tan(H(a)))};k.prototype.asin=function(b,a){b.G(Fa(Math.asin(a)))};k.prototype.acos=function(b,a){b.G(Fa(Math.acos(a)))};k.prototype.atan=function(b,a){b.G(Fa(Math.atan(a)))};k.prototype.exp=function(b,a){b.G(Math.exp(a))};k.prototype.log10=
function(b,a){b.G(Math.log(a)/Math.LN10)};k.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,h,d;c=2;for(h=arguments.length;c<h;c++)d=arguments[c],"number"===typeof d&&a<d&&(a=d);b.G(a)};k.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,h,d;c=2;for(h=arguments.length;c<h;c++)d=arguments[c],"number"===typeof d&&a>d&&(a=d);b.G(a)};k.prototype.yf=function(b){b.G(this.b.yf)};k.prototype.lg=function(b){b.G(this.b.lg)};k.prototype.time=function(b){b.G(this.b.Ya.P)};
k.prototype.De=function(b){b.Ga(this.b.De)};k.prototype.Pk=function(b){b.Ga(this.b.Pk)};k.prototype.xm=function(b){b.Ga(this.b.xm)};k.prototype.qu=function(b,a,c,h,d){b.G(Sa(a,c,h,d))};k.prototype.k=function(b,a,c,h,d){b.G(Fa(Na(a,c,h,d)))};k.prototype.iu=function(b,a,c,h){a<c?b.G(c):a>h?b.G(h):b.G(a)};k.prototype.left=function(b,a,c){b.Hc(ha(a)?a.substr(0,c):"")};k.prototype.right=function(b,a,c){b.Hc(ha(a)?a.substr(a.length-c):"")};k.prototype.replace=function(b,a,c,h){ha(a)&&ha(c)&&ha(h)?b.Hc(a.replace(new RegExp(fb(c),
"gi"),h)):b.Hc(ha(a)?a:"")};k.prototype.trim=function(b,a){b.Hc(ha(a)?a.trim():"")};k.prototype.pp=function(b){var a=qa(Math.random()*(arguments.length-1));b.Fx(arguments[a+1])};k.prototype.gm=function(b){b.G(this.b.gm/1E3)};k.prototype.Gk=function(b){b.G(this.b.Gk)};q.xa=new k;q.tx=function(){var b,a,c,h,d,f,k=this.b.Bb();b=0;for(c=this.qc.length;b<c;b++){h=this.qc[b];if(-1===h.time){if(!h.no)continue}else if(h.time>this.b.Ya.P)continue;k.ec=h.zg;k.rc=h.rc;k.cc=0;for(a in h.Yb)h.Yb.hasOwnProperty(a)&&
(d=this.b.D[parseInt(a,10)].ra(),f=h.Yb[a],d.ya=f.gl,Aa(d.j,f.me),d=f,A(d.me),u.push(d));h.zg.rx();this.b.em(h.La);h.lm=!0}a=b=0;for(c=this.qc.length;b<c;b++)h=this.qc[b],this.qc[a]=h,h.lm?($a(h.Yb),A(h.La),w.push(h)):a++;za(this.qc,a)}})();
(function(){qb=function(c,k){var q=c[1],w=c[3],u=c[4],b=c[5],a=c[6],v=c[7],h=c[8];k.q||(k.q={});k.K||(k.K={});k.xa||(k.xa={});var d=k.q,f=k.K,t=k.xa;w&&(d.iy=function(a,b){return ec(this.x,a,b)},d.jy=function(a,b){return ec(this.y,a,b)},d.qy=function(){var a=this.n;this.wa();var b=this.Ia;return!(b.right<a.za||b.bottom<a.Aa||b.left>a.Ca||b.top>a.Ba)},d.ry=function(){this.wa();var a=this.Ia,b=this.b.ua;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.Cy=function(a,b,c){var d=this.ra(),
f=d.Yc();if(!f.length)return!1;var p=f[0],h=p,k=Sa(p.x,p.y,b,c),n,q,v;n=1;for(q=f.length;n<q;n++)if(p=f[n],v=Sa(p.x,p.y,b,c),0===a&&v<k||1===a&&v>k)k=v,h=p;d.Oi(h);return!0},f.Qy=function(a){this.x!==a&&(this.x=a,this.C())},f.Ry=function(a){this.y!==a&&(this.y=a,this.C())},f.Et=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.C()},f.Ft=function(a,b){var c=a.Mv(this);if(c){var d;c.Ph?(d=c.Ph(b,!0),c=c.Ph(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.C()}},f.xy=
function(a){0!==a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.C())},f.wy=function(a,b){0!==b&&(this.x+=Math.cos(H(a))*b,this.y+=Math.sin(H(a))*b,this.C())},t.vj=function(a){a.G(this.x)},t.wj=function(a){a.G(this.y)},t.yf=function(a){a.G(this.b.Fg(this))});u&&(d.hy=function(a,b){return ec(this.width,a,b)},d.fy=function(a,b){return ec(this.height,a,b)},f.Xo=function(a){this.width!==a&&(this.width=a,this.C())},f.My=function(a){this.height!==a&&(this.height=a,this.C())},f.Oy=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.C()},t.Ty=function(a){a.G(this.width)},t.my=function(a){a.G(this.height)},t.ay=function(a){this.wa();a.G(this.Ia.left)},t.cy=function(a){this.wa();a.G(this.Ia.top)},t.by=function(a){this.wa();a.G(this.Ia.right)},t.$x=function(a){this.wa();a.G(this.Ia.bottom)});b&&(d.ws=function(a,b){return Oa(this.k,H(b))<=H(a)},d.Ns=function(a){return Qa(this.k,H(a))},d.Ls=function(a,b){var c=Ma(a),d=Ma(b),f=Ja(this.k);return Qa(d,c)?Qa(f,c)&&
!Qa(f,d):!(!Qa(f,c)&&Qa(f,d))},f.zt=function(a){a=H(Ga(a));isNaN(a)||this.k===a||(this.k=a,this.C())},f.Gy=function(a){0===a||isNaN(a)||(this.k+=H(a),this.k=Ja(this.k),this.C())},f.Hy=function(a){0===a||isNaN(a)||(this.k-=H(a),this.k=Ja(this.k),this.C())},f.Iy=function(a,b){var c=Pa(this.k,H(b),H(a));isNaN(c)||this.k===c||(this.k=c,this.C())},f.Jy=function(a,b,c){a=Pa(this.k,Math.atan2(c-this.y,b-this.x),H(a));isNaN(a)||this.k===a||(this.k=a,this.C())},f.Py=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.k===c||(this.k=c,this.C())},t.Zx=function(a){a.G(Ka(this.k))});q||(d.Bs=function(a,b,c){return ec(this.hb[a],b,c)},d.Ms=function(a){return this.hb[a]},d.Dy=function(a,b){var c=this.ra(),d=c.Yc();if(!d.length)return!1;var f=d[0],p=f,h=f.hb[b],k,n,q;k=1;for(n=d.length;k<n;k++)if(f=d[k],q=f.hb[b],0===a&&q<h||1===a&&q>h)h=q,p=f;c.Oi(p);return!0},d.qt=function(a){var b,c,d,f,p;if(this.b.Cm().rk){p=this.ra();if(p.ya)for(p.ya=!1,A(p.j),A(p.X),d=this.j,b=0,c=d.length;b<c;b++)f=d[b],
f.uid===a?p.X.push(f):p.j.push(f);else{d=b=0;for(c=p.j.length;b<c;b++)f=p.j[b],p.j[d]=f,f.uid===a?p.X.push(f):d++;za(p.j,d)}this.Zd();return!!p.j.length}f=this.b.Ff(a);if(!f)return!1;p=this.ra();if(!p.ya&&-1===p.j.indexOf(f))return!1;if(this.O)for(a=f.type.Oa,b=0,c=a.length;b<c;b++){if(a[b]===this)return p.Oi(f),this.Zd(),!0}else if(f.type===this)return p.Oi(f),this.Zd(),!0;return!1},d.tj=function(){return!0},d.Mo=function(){return!0},f.Ct=function(a,b){var c=this.hb;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):
ha(c[a])&&(c[a]=ha(b)?b:b.toString())},f.Yx=function(a,b){var c=this.hb;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):ha(c[a])&&(c[a]=ha(b)?c[a]+b:c[a]+b.toString())},f.Mt=function(a,b){var c=this.hb;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},f.Bt=function(a,b){this.hb[a]=b?1:0},f.Sy=function(a){this.hb[a]=1-this.hb[a]},f.Es=function(){this.b.Xd(this)},f.Ss||(f.Ss=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Dk(this,b,!0);this.od&&this.od();if(this.L)for(a=0,b=this.L.length;a<
b;++a)c=this.L[a],c.od&&c.od()}),t.ky=function(a){var b=a.ag.j.length,c,d,f;c=0;for(d=this.b.ud.length;c<d;c++)f=this.b.ud[c],a.ag.O?0<=f.type.Oa.indexOf(a.ag)&&b++:f.type===a.ag&&b++;a.Ga(b)},t.Fy=function(a){a.Ga(a.ag.ra().Yc().length)},t.Pt=function(a){a.Ga(this.uid)},t.ny=function(a){a.Ga(this.Sh())},t.xs||(t.xs=function(a){a.Hc(JSON.stringify(this.b.co(this,!0)))}));a&&(d.ty=function(){return this.visible},f.Jt=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ma=!0)},d.gy=function(a,
b){return ec(lb(100*this.opacity),a,b)},f.Ny=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ma=!0)},t.Opacity=function(a){a.G(lb(100*this.opacity))});v&&(d.oy=function(a){return a?this.n===a:!1},d.Ey=function(a){var b=this.ra(),c=b.Yc();if(!c.length)return!1;var d=c[0],f=d,p,h;p=1;for(h=c.length;p<h;p++)if(d=c[p],0===a){if(d.n.index>f.n.index||d.n.index===f.n.index&&d.Zc()>f.Zc())f=d}else if(d.n.index<f.n.index||d.n.index===f.n.index&&d.Zc()<f.Zc())f=d;b.Oi(f);return!0},
f.Ts=function(){var a=this.n,b=a.j;b.length&&b[b.length-1]===this||(a.ih(this,!1),a.Bh(this,!1),this.b.ma=!0)},f.yy=function(){var a=this.n,b=a.j;b.length&&b[0]===this||(a.ih(this,!1),a.cx(this),this.b.ma=!0)},f.zy=function(a){a&&a!=this.n&&(this.n.ih(this,!0),this.n=a,a.Bh(this,!0),this.b.ma=!0)},f.Vy=function(a,b){var c=0===a;if(b){var d=b.Op(this);d&&d.uid!==this.uid&&(this.n.index!==d.n.index&&(this.n.ih(this,!0),this.n=d.n,d.n.Bh(this,!0)),this.n.Iw(this,d,c),this.b.ma=!0)}},t.vy=function(a){a.Ga(this.n.Tq)},
t.uy=function(a){a.Hc(this.n.name)},t.Uy=function(a){a.Ga(this.Zc())});h&&(f.Ky=function(a,b){if(this.b.F){var c=this.type.Em(b);if(!(0>c)){var d=1===a;this.Ke[c]!==d&&(this.Ke[c]=d,this.Gd(),this.b.ma=!0)}}},f.Ly=function(a,b,c){if(this.b.F){var d=this.type.Em(a);0>d||(a=this.type.U[d],d=this.Sa[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.F.Qv(a.cb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.xb&&(this.b.ma=!0))))}})};Kb=function(){this.Zl=this.Vl=!0;this.type.zj=!0;this.b.ma=!0;var c,k,q=this.Wl;c=0;for(k=
q.length;c<k;++c)q[c](this);this.n.Uc&&this.wa()};Lb=function(c){c&&this.Wl.push(c)};Nb=function(){if(this.Vl){var c=this.Ia,k=this.Xb;c.set(this.x,this.y,this.x+this.width,this.y+this.height);c.offset(-this.fc*this.width,-this.gc*this.height);this.k?(c.offset(-this.x,-this.y),k.Ir(c,this.k),k.offset(this.x,this.y),k.jp(c)):k.Zi(c);c.normalize();this.Vl=!1;this.Rx()}};var c=new ua(0,0,0,0);Ob=function(){if(this.n.Uc){var n=this.n.Eb,k=this.Ia;c.set(n.$b(k.left),n.ac(k.top),n.$b(k.right),n.ac(k.bottom));
this.mc.Kh(c)||(this.mc.right<this.mc.left?n.update(this,null,c):n.update(this,this.mc,c),this.mc.vg(c),this.n.Dd=!0)}};Pb=function(){if(this.Zl&&this.de){this.wa();var n=this.type.Jj,k=this.Ia;c.set(n.$b(k.left),n.ac(k.top),n.$b(k.right),n.ac(k.bottom));this.Re.Kh(c)||(this.Re.right<this.Re.left?n.update(this,null,c):n.update(this,this.Re,c),this.Re.vg(c),this.Zl=!1)}};Mb=function(c,k){return this.Ia.yb(c,k)&&this.Xb.yb(c,k)?this.qa&&!this.qa.Kg()?(this.qa.ug(this.width,this.height,this.k),this.qa.yb(c-
this.x,k-this.y)):!0:!1};Gb=function(){this.type.El();return this.Jf};Qb=function(){this.n.Do();return this.Hd};Rb=function(){A(this.ka);var c,k,q,w=!0;c=0;for(k=this.Ke.length;c<k;c++)this.Ke[c]&&(q=this.type.U[c],this.ka.push(q),q.Ad||(w=!1));this.qs=!!this.ka.length;this.Ae=w};Hb=function(){return"Inst"+this.qr};tb=function(c){if(c&&c.yc&&c.type!=this){var k,q,w;k=0;for(q=c.siblings.length;k<q;k++)if(w=c.siblings[k],w.type==this)return w}c=this.ra().Yc();return c.length?c[0]:null};ub=function(c){var k=
this.ra().Yc();return k.length?k[c.Sh()%k.length]:null};sb=function(){if(this.nh&&!this.O){var c,k;c=0;for(k=this.j.length;c<k;c++)this.j[c].Jf=c;var q=c,w=this.b.ud;c=0;for(k=w.length;c<k;++c)w[c].type===this&&(w[c].Jf=q++);this.nh=!1}};Eb=function(c){if(c<this.j.length)return this.j[c];c-=this.j.length;var k=this.b.ud,q,w;q=0;for(w=k.length;q<w;++q)if(k[q].type===this){if(0===c)return k[q];--c}return null};vb=function(){return this.Ce[this.Jd]};wb=function(){this.Jd++;this.Jd===this.Ce.length?this.Ce.push(new rb(this)):
(this.Ce[this.Jd].ya=!0,A(this.Ce[this.Jd].X))};xb=function(){this.Jd++;this.Jd===this.Ce.length&&this.Ce.push(new rb(this));var c=this.Ce[this.Jd],k=this.Ce[this.Jd-1];k.ya?(c.ya=!0,A(c.X)):(c.ya=!1,Aa(c.j,k.j),Aa(c.X,k.X))};yb=function(){this.Jd--};zb=function(c){var k,q,w,u,b,a=0;if(!this.O)for(k=0,q=this.Oa.length;k<q;k++)for(b=this.Oa[k],w=0,u=b.Ra.length;w<u;w++){if(c===b.Ra[w].name)return this.V.lastBehIndex=a,b.Ra[w];a++}k=0;for(q=this.Ra.length;k<q;k++){if(c===this.Ra[k].name)return this.V.lastBehIndex=
a,this.Ra[k];a++}return null};Ab=function(c){return this.ik(c)?this.V.lastBehIndex:-1};Cb=function(c){var k,q;k=0;for(q=this.U.length;k<q;k++)if(this.U[k].name===c)return k;return-1};Db=function(){if(this.yc&&!this.O){var c,k,q,w,u,b,a;this.El();b=this.ra();var v=b.ya,h=(c=this.b.Bb())&&c.ec&&c.ec.bd;c=0;for(k=this.tc.length;c<k;c++)if(u=this.tc[c],u!==this&&(u.El(),a=u.ra(),a.ya=v,!v)){A(a.j);q=0;for(w=b.j.length;q<w;++q)a.j[q]=u.Fm(b.j[q].Jf);if(h)for(A(a.X),q=0,w=b.X.length;q<w;++q)a.X[q]=u.Fm(b.X[q].Jf)}}};
Fb=function(){return"Type"+this.da};ec=function(c,k,q){if("undefined"===typeof c||"undefined"===typeof q)return!1;switch(k){case 0:return c===q;case 1:return c!==q;case 2:return c<q;case 3:return c<=q;case 4:return c>q;case 5:return c>=q;default:return!1}}})();var nc={};function qc(c){this.b=c}
(function(){function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function n(a){a=a.toLowerCase();return Z.hasOwnProperty(a)&&Z[a].length?Z[a][0].Mc():z.destination}function k(){return z.createGain?z.createGain():z.createGainNode()}function q(a){return z.createDelay?z.createDelay(a):z.createDelayNode(a)}function w(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function u(a,b,c,e){a.start?a.start(e||0,b):a.noteGrainOn(e||0,b,c-b)}function b(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function a(a,b,c,e,d,g){this.type="filter";this.yd=[a,b,c,e,d,g];this.fa=k();this.T=k();this.T.gain.value=g;this.R=k();this.R.gain.value=1-g;this.Xa=z.createBiquadFilter();this.Xa.type="number"===typeof this.Xa.type?a:Cc[a];this.Xa.frequency.value=b;this.Xa.detune&&(this.Xa.detune.value=c);this.Xa.Q.value=e;this.Xa.gain.value=d;this.fa.connect(this.Xa);this.fa.connect(this.R);this.Xa.connect(this.T)}function v(a,b,c){this.type="delay";this.yd=[a,b,c];this.fa=k();this.T=k();this.T.gain.value=c;this.R=
k();this.R.gain.value=1-c;this.Ai=k();this.Xc=q(a);this.Xc.delayTime.value=a;this.Rj=k();this.Rj.gain.value=b;this.fa.connect(this.Ai);this.fa.connect(this.R);this.Ai.connect(this.T);this.Ai.connect(this.Xc);this.Xc.connect(this.Rj);this.Rj.connect(this.Ai)}function h(a,b,c,e){this.type="convolve";this.yd=[b,c,e];this.fa=k();this.T=k();this.T.gain.value=c;this.R=k();this.R.gain.value=1-c;this.vf=z.createConvolver();a&&(this.vf.normalize=b,this.vf.buffer=a);this.fa.connect(this.vf);this.fa.connect(this.R);
this.vf.connect(this.T)}function d(a,b,c,e,d){this.type="flanger";this.yd=[a,b,c,e,d];this.fa=k();this.R=k();this.R.gain.value=1-d/2;this.T=k();this.T.gain.value=d/2;this.$j=k();this.$j.gain.value=e;this.Xc=q(a+b);this.Xc.delayTime.value=a;this.ub=z.createOscillator();this.ub.frequency.value=c;this.Ec=k();this.Ec.gain.value=b;this.fa.connect(this.Xc);this.fa.connect(this.R);this.Xc.connect(this.T);this.Xc.connect(this.$j);this.$j.connect(this.Xc);this.ub.connect(this.Ec);this.Ec.connect(this.Xc.delayTime);
w(this.ub)}function f(a,b,c,e,d,g){this.type="phaser";this.yd=[a,b,c,e,d,g];this.fa=k();this.R=k();this.R.gain.value=1-g/2;this.T=k();this.T.gain.value=g/2;this.Xa=z.createBiquadFilter();this.Xa.type="number"===typeof this.Xa.type?7:"allpass";this.Xa.frequency.value=a;this.Xa.detune&&(this.Xa.detune.value=b);this.Xa.Q.value=c;this.ub=z.createOscillator();this.ub.frequency.value=d;this.Ec=k();this.Ec.gain.value=e;this.fa.connect(this.Xa);this.fa.connect(this.R);this.Xa.connect(this.T);this.ub.connect(this.Ec);
this.Ec.connect(this.Xa.frequency);w(this.ub)}function t(a){this.type="gain";this.yd=[a];this.ja=k();this.ja.gain.value=a}function e(a,b){this.type="tremolo";this.yd=[a,b];this.ja=k();this.ja.gain.value=1-b/2;this.ub=z.createOscillator();this.ub.frequency.value=a;this.Ec=k();this.Ec.gain.value=b/2;this.ub.connect(this.Ec);this.Ec.connect(this.ja.gain);w(this.ub)}function l(a,b){this.type="ringmod";this.yd=[a,b];this.fa=k();this.T=k();this.T.gain.value=b;this.R=k();this.R.gain.value=1-b;this.Wi=k();
this.Wi.gain.value=0;this.ub=z.createOscillator();this.ub.frequency.value=a;this.ub.connect(this.Wi.gain);w(this.ub);this.fa.connect(this.Wi);this.fa.connect(this.R);this.Wi.connect(this.T)}function r(a,b,c,e,d){this.type="distortion";this.yd=[a,b,c,e,d];this.fa=k();this.al=k();this.$k=k();this.Ax(c,Math.pow(10,e/20));this.T=k();this.T.gain.value=d;this.R=k();this.R.gain.value=1-d;this.Jl=z.createWaveShaper();this.Pj=new Float32Array(65536);this.Ev(a,b);this.Jl.Pj=this.Pj;this.fa.connect(this.al);
this.fa.connect(this.R);this.al.connect(this.Jl);this.Jl.connect(this.$k);this.$k.connect(this.T)}function g(a,b,c,e,d){this.type="compressor";this.yd=[a,b,c,e,d];this.ja=z.createDynamicsCompressor();try{this.ja.threshold.value=a,this.ja.knee.value=b,this.ja.ratio.value=c,this.ja.attack.value=e,this.ja.release.value=d}catch(g){}}function m(a,b){this.type="analyser";this.yd=[a,b];this.ja=z.createAnalyser();this.ja.fftSize=a;this.ja.smoothingTimeConstant=b;this.Cv=new Float32Array(this.ja.frequencyBinCount);
this.Lr=new Uint8Array(a);this.Ni=0}function p(){this.ta=null;this.Fk=0}function Y(a,b){this.src=a;this.aa=R;this.$c=b;this.yj=!1;var c=this;this.wn=this.In=null;this.fh=[];this.hl=0;this.Go=this.Yj=this.Sr=this.Wk=!1;1===R&&b&&!Va&&(this.aa=0,this.In=k());this.$d=this.la=null;var e;switch(this.aa){case 0:this.la=new Audio;this.la.crossOrigin="anonymous";this.la.addEventListener("canplaythrough",function(){c.Go=!0});1===R&&z.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Sr=!0,
this.la.addEventListener("canplay",function(){c.wn||(c.wn=z.createMediaElementSource(c.la),c.wn.connect(c.In))}));this.la.autoplay=!1;this.la.jz="auto";this.la.src=a;break;case 1:E.gi?E.Dp(a,function(a){c.$d=a;c.vp()},function(){c.Yj=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.$d=e.response;c.vp()},e.onerror=function(){c.Yj=!0},e.send());break;case 2:this.la=!0;break;case 3:this.la=!0}}function B(a,b){var c=this;this.tag=b;this.oc=this.Md=!0;this.src=
a.src;this.buffer=a;this.aa=R;this.$c=a.$c;this.playbackRate=1;this.Hg=!0;this.zc=this.Rc=!1;this.nc=0;this.hi=this.Mg=this.Od=!1;this.volume=1;this.Gn=function(a){if(!c.zc&&!c.Rc){var b=this;b||(b=a.target);b===c.xj&&(c.Hg=!0,c.oc=!0,X=c.tag,E.trigger(qc.prototype.q.uj,K))}};this.xj=null;this.Ig=1===C&&!this.$c||2===C;this.$g=1;this.startTime=this.Ig?E.Ya.P:E.Ge.P;this.ab=this.eb=null;this.Qd=!1;this.Cb=null;this.dr=this.cr=this.br=this.$q=this.fr=this.er=0;this.u=null;var e=!1;1!==this.aa||0!==
this.buffer.aa||this.buffer.Sr||(this.aa=0);switch(this.aa){case 0:this.$c?(this.u=a.la,e=!a.yj,a.yj=!0):(this.u=new Audio,this.u.crossOrigin="anonymous",this.u.autoplay=!1,this.u.src=a.la.src,e=!0);e&&this.u.addEventListener("ended",function(){X=c.tag;c.oc=!0;E.trigger(qc.prototype.q.uj,K)});break;case 1:this.eb=k();this.eb.connect(n(b));1===this.buffer.aa?a.la&&(this.u=z.createBufferSource(),this.u.buffer=a.la,this.u.connect(this.eb)):(this.u=this.buffer.la,this.buffer.In.connect(this.eb),this.buffer.yj||
(this.buffer.yj=!0,this.buffer.la.addEventListener("ended",function(){X=c.tag;c.oc=!0;E.trigger(qc.prototype.q.uj,K)})));break;case 2:this.u=new window.Media(O+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Hg=!0,c.oc=!0,X=c.tag,E.trigger(qc.prototype.q.uj,K))});break;case 3:this.u=!0}}function W(a,b){Z.hasOwnProperty(a)?Z[a].push(b):Z[a]=[b];var c,e,d,g,f=z.destination;if(Z.hasOwnProperty(a)&&(d=Z[a],d.length))for(f=d[0].Mc(),c=0,e=d.length;c<e;c++)g=d[c],c+1===e?g.Vc(z.destination):
g.Vc(d[c+1].Mc());A(La);if(a.length)for(c=0,e=I.length;c<e;c++)d=I[c],mb(a,d.tag)&&La.push(d);else y&&!y.If()&&(A(La),La[0]=y);c=0;for(e=La.length;c<e;c++)La[c].jx(f);Ia&&Bb===a&&(Ia.disconnect(),Ia.connect(f))}function P(){}function U(){}var G=qc.prototype;G.na=function(a){this.Ka=a;this.b=a.b};G.na.prototype.S=function(){};var E=null,K=null,X="",O="",R=0,z=null,L=[],I=[],y=null,x=!1,C=0,J=!1,M=1,F=0,D=0,S=!1,sa=1,Q=1,wa=10,na=1E4,Ha=1,Ia=null,Bb="",Ta=!1,Ua=[],Va=!1,Z={},Cc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
a.prototype.Vc=function(a){this.T.disconnect();this.T.connect(a);this.R.disconnect();this.R.connect(a)};a.prototype.remove=function(){this.fa.disconnect();this.Xa.disconnect();this.T.disconnect();this.R.disconnect()};a.prototype.Mc=function(){return this.fa};v.prototype.Vc=function(a){this.T.disconnect();this.T.connect(a);this.R.disconnect();this.R.connect(a)};v.prototype.remove=function(){this.fa.disconnect();this.Ai.disconnect();this.Xc.disconnect();this.Rj.disconnect();this.T.disconnect();this.R.disconnect()};
v.prototype.Mc=function(){return this.fa};h.prototype.Vc=function(a){this.T.disconnect();this.T.connect(a);this.R.disconnect();this.R.connect(a)};h.prototype.remove=function(){this.fa.disconnect();this.vf.disconnect();this.T.disconnect();this.R.disconnect()};h.prototype.Mc=function(){return this.fa};d.prototype.Vc=function(a){this.R.disconnect();this.R.connect(a);this.T.disconnect();this.T.connect(a)};d.prototype.remove=function(){this.fa.disconnect();this.Xc.disconnect();this.ub.disconnect();this.Ec.disconnect();
this.R.disconnect();this.T.disconnect();this.$j.disconnect()};d.prototype.Mc=function(){return this.fa};f.prototype.Vc=function(a){this.R.disconnect();this.R.connect(a);this.T.disconnect();this.T.connect(a)};f.prototype.remove=function(){this.fa.disconnect();this.Xa.disconnect();this.ub.disconnect();this.Ec.disconnect();this.R.disconnect();this.T.disconnect()};f.prototype.Mc=function(){return this.fa};t.prototype.Vc=function(a){this.ja.disconnect();this.ja.connect(a)};t.prototype.remove=function(){this.ja.disconnect()};
t.prototype.Mc=function(){return this.ja};e.prototype.Vc=function(a){this.ja.disconnect();this.ja.connect(a)};e.prototype.remove=function(){this.ub.disconnect();this.Ec.disconnect();this.ja.disconnect()};e.prototype.Mc=function(){return this.ja};l.prototype.Vc=function(a){this.T.disconnect();this.T.connect(a);this.R.disconnect();this.R.connect(a)};l.prototype.remove=function(){this.ub.disconnect();this.Wi.disconnect();this.fa.disconnect();this.T.disconnect();this.R.disconnect()};l.prototype.Mc=function(){return this.fa};
r.prototype.Ax=function(a,b){.01>a&&(a=.01);this.al.gain.value=a;this.$k.gain.value=Math.pow(1/a,.6)*b};r.prototype.shape=function(a,b,c){var e=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*c};r.prototype.Ev=function(a,b){for(var c=Math.pow(10,a/20),e=Math.pow(10,b/20),d=0,g=0;32768>g;++g)d=g/32768,d=this.shape(d,c,e),this.Pj[32768+g]=d,this.Pj[32768-g-1]=-d};r.prototype.Vc=function(a){this.T.disconnect();this.T.connect(a);this.R.disconnect();this.R.connect(a)};
r.prototype.remove=function(){this.fa.disconnect();this.al.disconnect();this.Jl.disconnect();this.$k.disconnect();this.T.disconnect();this.R.disconnect()};r.prototype.Mc=function(){return this.fa};g.prototype.Vc=function(a){this.ja.disconnect();this.ja.connect(a)};g.prototype.remove=function(){this.ja.disconnect()};g.prototype.Mc=function(){return this.ja};m.prototype.Ma=function(){this.ja.getFloatFrequencyData(this.Cv);this.ja.getByteTimeDomainData(this.Lr);for(var a=this.ja.fftSize,b=0,e=this.Ni=
0,d=0;b<a;b++)d=(this.Lr[b]-128)/128,0>d&&(d=-d),this.Ni<d&&(this.Ni=d),e+=d*d;this.Ni=c(this.Ni);c(Math.sqrt(e/a))};m.prototype.Vc=function(a){this.ja.disconnect();this.ja.connect(a)};m.prototype.remove=function(){this.ja.disconnect()};m.prototype.Mc=function(){return this.ja};p.prototype.Xi=function(a){this.ta=a};p.prototype.ok=function(){return!!this.ta};p.prototype.Ma=function(){};var nb=!1;Y.prototype.kx=function(){var a,b,c,e;c=a=0;for(b=I.length;a<b;++a)e=I[a],I[c]=e,e.buffer===this?e.stop():
++c;I.length=c;this.$d=this.la=null};Y.prototype.vp=function(){if(!this.la&&this.$d){var a=this;if(z.decodeAudioData)z.decodeAudioData(this.$d,function(b){a.la=b;a.$d=null;var c,e,d;if(fa(a.Yk)||J)fa(a.Lj)||(c=a.Lj.vf,c.normalize=a.Sq,c.buffer=b);else if(a.fh.length){c=0;for(e=a.fh.length;c<e;c++){b=a.fh[c];d=new B(a,b.Xr);d.ko(!0);if("undefined"!==typeof b.Uq&&(b.ta=E.Ff(b.Uq),!b.ta))continue;if(b.ta){var g=Ra(b.ta.x,b.ta.y,-b.ta.n.fb(),F,D,!0),f=Ra(b.ta.x,b.ta.y,-b.ta.n.fb(),F,D,!1);d.jo(g,f,Fa(b.ta.k-
b.ta.n.fb()),b.Pm,b.yn,b.Bn);d.Xi(b.ta)}else d.jo(b.x,b.y,b.Ut,b.Pm,b.yn,b.Bn);d.play(a.un,a.Fo,a.hl);a.Wk&&d.pause();I.push(d)}A(a.fh)}else d=new B(a,a.Yk||""),d.play(a.un,a.Fo,a.hl),a.Wk&&d.pause(),I.push(d)},function(){a.Yj=!0});else if(this.la=z.createBuffer(this.$d,!1),this.$d=null,fa(this.Yk)||J)fa(this.Lj)||(b=this.Lj.vf,b.normalize=this.Sq,b.buffer=this.la);else{var b=new B(this,this.Yk);b.play(this.un,this.Fo,this.hl);this.Wk&&b.pause();I.push(b)}}};Y.prototype.bq=function(){switch(this.aa){case 0:var a=
4<=this.la.readyState;a&&(this.Go=!0);return a||this.Go;case 1:return!!this.$d||!!this.la;case 2:return!0;case 3:return!0}return!1};Y.prototype.vw=function(){switch(this.aa){case 0:return this.bq();case 1:return!!this.la;case 2:return!0;case 3:return!0}return!1};Y.prototype.hw=function(){switch(this.aa){case 0:return!!this.la.error;case 1:return this.Yj}return!1};B.prototype.If=function(){switch(this.aa){case 0:return this.u.ended;case 1:return 1===this.buffer.aa?!this.Md&&!this.oc&&this.u.loop||
this.zc?!1:this.Hg:this.u.ended;case 2:return this.Hg;case 3:!0}return!0};B.prototype.hu=function(){return this.Md||this.oc?!0:this.If()};B.prototype.ko=function(a){1===R&&(!this.Qd&&a?this.eb&&(this.ab||(this.ab=z.createPanner(),this.ab.panningModel="number"===typeof this.ab.panningModel?sa:["equalpower","HRTF","soundfield"][sa],this.ab.distanceModel="number"===typeof this.ab.distanceModel?Q:["linear","inverse","exponential"][Q],this.ab.refDistance=wa,this.ab.maxDistance=na,this.ab.rolloffFactor=
Ha),this.eb.disconnect(),this.eb.connect(this.ab),this.ab.connect(n(this.tag)),this.Qd=!0):this.Qd&&!a&&this.eb&&(this.ab.disconnect(),this.eb.disconnect(),this.eb.connect(n(this.tag)),this.Qd=!1))};B.prototype.jo=function(a,b,c,e,d,g){this.Qd&&1===R&&(this.ab.setPosition(a,b,0),this.ab.setOrientation(Math.cos(H(c)),Math.sin(H(c)),0),this.ab.coneInnerAngle=e,this.ab.coneOuterAngle=d,this.ab.coneOuterGain=g,this.er=a,this.fr=b,this.$q=c,this.br=e,this.cr=d,this.dr=g)};B.prototype.Xi=function(a){this.Qd&&
1===R&&(this.Cb||(this.Cb=new p),this.Cb.Xi(a))};B.prototype.Ma=function(a){if(this.Qd&&1===R&&this.Cb&&this.Cb.ok()&&this.ei()){this.Cb.Ma(a);a=this.Cb.ta;var b=Ra(a.x,a.y,-a.n.fb(),F,D,!0),c=Ra(a.x,a.y,-a.n.fb(),F,D,!1);this.ab.setPosition(b,c,0);b=0;"undefined"!==typeof this.Cb.ta.k&&(b=a.k-a.n.fb(),this.ab.setOrientation(Math.cos(b),Math.sin(b),0))}};B.prototype.play=function(a,b,c,e){var d=this.u;this.Od=a;this.volume=b;c=c||0;e=e||0;switch(this.aa){case 0:1!==d.playbackRate&&(d.playbackRate=
1);d.volume!==b*M&&(d.volume=b*M);d.loop!==a&&(d.loop=a);d.muted&&(d.muted=!1);if(d.currentTime!==c)try{d.currentTime=c}catch(g){}if(this.$c&&Ta&&!E.Va)Ua.push(this);else try{this.u.play()}catch(f){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",f)}break;case 1:this.muted=!1;this.$g=1;if(1===this.buffer.aa)this.eb.gain.value=b*M,this.Md||(this.u=z.createBufferSource(),this.u.buffer=this.buffer.la,this.u.connect(this.eb)),this.u.onended=this.Gn,
this.xj=this.u,this.u.loop=a,this.Hg=!1,0===c?w(this.u,e):u(this.u,c,this.Ef(),e);else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);d.volume=b*M;if(d.currentTime!==c)try{d.currentTime=c}catch(l){}this.$c&&Ta&&!E.Va?Ua.push(this):d.play()}break;case 2:(!this.Md&&this.oc||0!==c)&&d.seekTo(c);d.play();this.Hg=!1;break;case 3:E.Qb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Ig?E.Ya.P:E.Ge.P)-c;this.zc=this.oc=this.Md=
!1};B.prototype.stop=function(){switch(this.aa){case 0:this.u.paused||this.u.pause();break;case 1:1===this.buffer.aa?b(this.u):this.u.paused||this.u.pause();break;case 2:this.u.stop();break;case 3:E.Qb&&AppMobi.context.stopSound(this.src)}this.oc=!0;this.zc=!1};B.prototype.pause=function(){if(!(this.Md||this.oc||this.If()||this.zc)){switch(this.aa){case 0:this.u.paused||this.u.pause();break;case 1:1===this.buffer.aa?(this.nc=this.Gm(!0),this.Od&&(this.nc=this.nc%this.Ef()),this.zc=!0,b(this.u)):this.u.paused||
this.u.pause();break;case 2:this.u.pause();break;case 3:E.Qb&&AppMobi.context.stopSound(this.src)}this.zc=!0}};B.prototype.qx=function(){if(!(this.Md||this.oc||this.If())&&this.zc){switch(this.aa){case 0:this.u.play();break;case 1:1===this.buffer.aa?(this.u=z.createBufferSource(),this.u.buffer=this.buffer.la,this.u.connect(this.eb),this.u.onended=this.Gn,this.xj=this.u,this.u.loop=this.Od,this.eb.gain.value=M*this.volume*this.$g,this.Fl(),this.startTime=(this.Ig?E.Ya.P:E.Ge.P)-this.nc/(this.playbackRate||
.001),u(this.u,this.nc,this.Ef())):this.u.play();break;case 2:this.u.play();break;case 3:E.Qb&&AppMobi.context.resumeSound(this.src)}this.zc=!1}};B.prototype.seek=function(a){if(!(this.Md||this.oc||this.If()))switch(this.aa){case 0:try{this.u.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.aa)this.zc?this.nc=a:(this.pause(),this.nc=a,this.qx());else try{this.u.currentTime=a}catch(c){}break;case 3:E.Qb&&AppMobi.context.seekSound(this.src,a)}};B.prototype.jx=function(a){1===this.aa&&(this.Qd?
(this.ab.disconnect(),this.ab.connect(a)):(this.eb.disconnect(),this.eb.connect(a)))};B.prototype.Ef=function(){var a=0;switch(this.aa){case 0:"undefined"!==typeof this.u.duration&&(a=this.u.duration);break;case 1:a=this.buffer.la.duration;break;case 2:a=this.u.getDuration();break;case 3:E.Qb&&(a=AppMobi.context.getDurationSound(this.src))}return a};B.prototype.Gm=function(a){var b=this.Ef(),c=0;switch(this.aa){case 0:"undefined"!==typeof this.u.currentTime&&(c=this.u.currentTime);break;case 1:if(1===
this.buffer.aa){if(this.zc)return this.nc;c=(this.Ig?E.Ya.P:E.Ge.P)-this.startTime}else"undefined"!==typeof this.u.currentTime&&(c=this.u.currentTime);break;case 3:E.Qb&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Od&&c>b&&(c=b);return c};B.prototype.ei=function(){return!this.zc&&!this.Md&&!this.oc&&!this.If()};B.prototype.Gx=function(){return!this.Md&&!this.oc&&!this.If()};B.prototype.Px=function(){var a=this.volume*M;isFinite(a)||(a=0);switch(this.aa){case 0:"undefined"!==
typeof this.u.volume&&this.u.volume!==a&&(this.u.volume=a);break;case 1:1===this.buffer.aa?this.eb.gain.value=a*this.$g:"undefined"!==typeof this.u.volume&&this.u.volume!==a&&(this.u.volume=a)}};B.prototype.Uj=function(a){switch(this.aa){case 0:this.u.muted!==!!a&&(this.u.muted=!!a);break;case 1:1===this.buffer.aa?(this.$g=a?0:1,this.eb.gain.value=M*this.volume*this.$g):this.u.muted!==!!a&&(this.u.muted=!!a)}};B.prototype.Bx=function(){this.Mg=!0;this.Uj(this.Mg||this.hi)};B.prototype.Fr=function(a){this.hi=
!!a;this.Uj(this.Mg||this.hi)};B.prototype.Fl=function(){var a=this.playbackRate;this.Ig&&(a*=E.lg);switch(this.aa){case 0:this.u.playbackRate!==a&&(this.u.playbackRate=a);break;case 1:1===this.buffer.aa?this.u.playbackRate.value!==a&&(this.u.playbackRate.value=a):this.u.playbackRate!==a&&(this.u.playbackRate=a)}};B.prototype.Dx=function(a){switch(this.aa){case 0:a?this.ei()?(this.Rc=!0,this.u.pause()):this.Rc=!1:this.Rc&&(this.u.play(),this.Rc=!1);break;case 1:a?this.ei()?(this.Rc=!0,1===this.buffer.aa?
(this.nc=this.Gm(!0),this.Od&&(this.nc=this.nc%this.Ef()),b(this.u)):this.u.pause()):this.Rc=!1:this.Rc&&(1===this.buffer.aa?(this.u=z.createBufferSource(),this.u.buffer=this.buffer.la,this.u.connect(this.eb),this.u.onended=this.Gn,this.xj=this.u,this.u.loop=this.Od,this.eb.gain.value=M*this.volume*this.$g,this.Fl(),this.startTime=(this.Ig?E.Ya.P:E.Ge.P)-this.nc/(this.playbackRate||.001),u(this.u,this.nc,this.Ef())):this.u.play(),this.Rc=!1);break;case 2:a?this.ei()?(this.u.pause(),this.Rc=!0):this.Rc=
!1:this.Rc&&(this.Rc=!1,this.u.play())}};G.ca=function(a){function b(){if(!S&&z.createBuffer){var a=z.createBuffer(1,220,22050),c=z.createBufferSource();c.buffer=a;c.connect(z.destination);w(c)}}this.type=a;E=this.b=a.b;K=this;this.Cc=null;this.qi=-600;this.b.gi&&(Va=!0);!(this.b.Pg||this.b.sk&&(this.b.Zh||this.b.tk))||this.b.$h||this.b.Fa||this.b.Vm||Va||(Ta=!0);z=null;"undefined"!==typeof AudioContext?(R=1,z=new AudioContext):"undefined"!==typeof webkitAudioContext&&(R=1,z=new webkitAudioContext);
this.b.Pg&&z&&(z.close&&z.close(),"undefined"!==typeof AudioContext?z=new AudioContext:"undefined"!==typeof webkitAudioContext&&(z=new webkitAudioContext));Ta?document.addEventListener("touchend",function(){!nb&&z&&(b(),nb=!0);var a,c,e;if(Ta){if(!J)for(a=0,c=Ua.length;a<c;++a)e=Ua[a],e.oc||e.zc||e.u.play();A(Ua)}},!0):Va&&document.addEventListener("touchend",function(){!nb&&z&&(b(),nb=!0)},!0);1!==R&&(this.b.xc&&"undefined"!==typeof window.Media?R=2:this.b.aq&&(R=3));2===R&&(O=location.href,a=O.lastIndexOf("/"),
-1<a&&(O=O.substr(0,a+1)),O=O.replace("file://",""));if(this.b.ww&&this.b.xw&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Xd(this);else{if(this.b.Qb)x=this.b.sk;else try{x=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){x=!1}this.b.yl(this)}};var pa=G.ca.prototype;pa.S=function(){this.b.sg=this;C=this.A[0];this.ye=this.A[1];this.Yw=0!==this.A[2];this.Qq=0;sa=this.A[3];
Q=this.A[4];this.qi=-this.A[5];wa=this.A[6];na=this.A[7];Ha=this.A[8];this.Cc=new p;var a=this.b.N||this.b.width,b=this.b.M||this.b.height;1===R&&(z.listener.setPosition(a/2,b/2,this.qi),z.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ia&&Ia.disconnect();Bb=b.toLowerCase();Ia=z.createMediaStreamSource(a);Ia.connect(n(Bb))});this.b.Zt(function(a){K.Rw(a)});var c=this;this.b.Pl(function(a){c.Gi(a)})};pa.Gi=function(a){var b,c,e;b=0;for(c=I.length;b<c;b++)e=I[b],e.Cb&&
e.Cb.ta===a&&(e.Cb.ta=null,e.Qd&&e.ei()&&e.Od&&e.stop());this.Cc.ta===a&&(this.Cc.ta=null)};pa.wb=function(){var a={silent:J,masterVolume:M,listenerZ:this.qi,listenerUid:this.Cc.ok()?this.Cc.ta.uid:-1,playing:[],effects:{}},b=a.playing,c,e,d,g,f,l;c=0;for(e=I.length;c<e;c++)d=I[c],!d.Gx()||3===this.ye||d.$c&&1===this.ye||!d.$c&&2===this.ye||(g=d.Gm(),d.Od&&(g=g%d.Ef()),g={tag:d.tag,buffersrc:d.buffer.src,is_music:d.$c,playbackTime:g,volume:d.volume,looping:d.Od,muted:d.Mg,playbackRate:d.playbackRate,
paused:d.zc,resume_position:d.nc},d.Qd&&(g.pan={},l=g.pan,d.Cb&&d.Cb.ok()?l.objUid=d.Cb.ta.uid:(l.x=d.er,l.y=d.fr,l.a=d.$q),l.ia=d.br,l.oa=d.cr,l.og=d.dr),b.push(g));b=a.effects;for(f in Z)if(Z.hasOwnProperty(f)){d=[];c=0;for(e=Z[f].length;c<e;c++)d.push({type:Z[f][c].type,params:Z[f][c].yd});b[f]=d}return a};var Wa=[];pa.Rb=function(b){var c=b.silent;M=b.masterVolume;this.qi=b.listenerZ;this.Cc.Xi(null);var k=b.listenerUid;-1!==k&&(this.Cc.Fk=k,Wa.push(this.Cc));var k=b.playing,q,n,u,w,B,Y,U,z,y,
x,P;if(3!==this.ye)for(q=0,n=I.length;q<n;q++)y=I[q],y.$c&&1===this.ye||(y.$c||2!==this.ye)&&y.stop();for(B in Z)if(Z.hasOwnProperty(B))for(q=0,n=Z[B].length;q<n;q++)Z[B][q].remove();$a(Z);for(B in b.effects)if(b.effects.hasOwnProperty(B))for(Y=b.effects[B],q=0,n=Y.length;q<n;q++)switch(u=Y[q].type,x=Y[q].params,u){case "filter":W(B,new a(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":W(B,new v(x[0],x[1],x[2]));break;case "convolve":u=x[2];y=this.hk(u,!1);y.la?u=new h(y.la,x[0],x[1],u):(u=new h(null,
x[0],x[1],u),y.Sq=x[0],y.Lj=u);W(B,u);break;case "flanger":W(B,new d(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":W(B,new f(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":W(B,new t(x[0]));break;case "tremolo":W(B,new e(x[0],x[1]));break;case "ringmod":W(B,new l(x[0],x[1]));break;case "distortion":W(B,new r(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":W(B,new g(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":W(B,new m(x[0],x[1]))}q=0;for(n=k.length;q<n;q++)3===this.ye||(b=k[q],u=b.buffersrc,
w=b.is_music,B=b.tag,Y=b.playbackTime,U=b.looping,z=b.volume,P=(x=b.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,w&&1===this.ye)||!w&&2===this.ye||((y=this.Kp(u,B,w,U,z))?(y.nc=b.resume_position,y.ko(!!x),y.play(U,z,Y),y.Fl(),y.Px(),y.Uj(y.Mg||y.hi),b.paused&&y.pause(),b.muted&&y.Bx(),y.Uj(y.Mg||y.hi),x&&(-1!==P?(y.Cb=y.Cb||new p,y.Cb.Fk=P,Wa.push(y.Cb)):y.jo(x.x,x.y,x.a,x.ia,x.oa,x.og))):(y=this.hk(u,w),y.hl=Y,y.Wk=b.paused,x&&(-1!==P?y.fh.push({Uq:P,Pm:x.ia,yn:x.oa,Bn:x.og,Xr:B}):y.fh.push({x:x.x,
y:x.y,Ut:x.a,Pm:x.ia,yn:x.oa,Bn:x.og,Xr:B}))));if(c&&!J){q=0;for(n=I.length;q<n;q++)I[q].Fr(!0);J=!0}else if(!c&&J){q=0;for(n=I.length;q<n;q++)I[q].Fr(!1);J=!1}};pa.od=function(){var a,b,c,e;a=0;for(b=Wa.length;a<b;a++)c=Wa[a],e=this.b.Ff(c.Fk),c.Xi(e),c.Fk=-1,e&&(F=e.x,D=e.y);A(Wa)};pa.Rw=function(a){if(!this.Yw){!a&&z&&z.resume&&(z.resume(),S=!1);var b,c;b=0;for(c=I.length;b<c;b++)I[b].Dx(a);a&&z&&z.suspend&&(z.suspend(),S=!0)}};pa.Ma=function(){var a=this.b.yf,b,c,e;b=0;for(c=I.length;b<c;b++)e=
I[b],e.Ma(a),0!==C&&e.Fl();var d,g;for(d in Z)if(Z.hasOwnProperty(d))for(e=Z[d],b=0,c=e.length;b<c;b++)g=e[b],g.Ma&&g.Ma();1===R&&this.Cc.ok()&&(this.Cc.Ma(a),F=this.Cc.ta.x,D=this.Cc.ta.y,z.listener.setPosition(this.Cc.ta.x,this.Cc.ta.y,this.qi))};var Xa=[];pa.Cx=function(a){var b,c,e,d,g,f=0;b=0;for(c=a.length;b<c;++b)if(e=a[b],d=e[0],e=2*e[1],(g=4<d.length&&".ogg"===d.substr(d.length-4))&&x||!g&&!x)Xa.push({filename:d,size:e,ta:null}),f+=e;return f};pa.Ix=function(){var a,b,c,e;a=0;for(b=Xa.length;a<
b;++a)c=Xa[a],e=this.b.vm+c.filename,c.ta=this.hk(e,!1)};pa.Nv=function(){var a=0,b,c,e;b=0;for(c=Xa.length;b<c;++b)e=Xa[b],e.ta.vw()||e.ta.hw()||this.b.Fa||this.b.tk?a+=e.size:e.ta.bq()&&(a+=Math.floor(e.size/2));return a};pa.mx=function(){var a,b,c,e;c=a=0;for(b=L.length;a<b;++a)e=L[a],L[c]=e,e.$c?e.kx():++c;L.length=c};pa.hk=function(a,b){var c,e,d,g=null;c=0;for(e=L.length;c<e;c++)if(d=L[c],d.src===a){g=d;break}g||(Va&&b&&this.mx(),g=new Y(a,b),L.push(g));return g};pa.Kp=function(a,b,c,e,d){var g,
f,l;g=0;for(f=I.length;g<f;g++)if(l=I[g],l.src===a&&(l.hu()||c))return l.tag=b,l;a=this.hk(a,c);if(!a.la)return"<preload>"!==b&&(a.Yk=b,a.un=e,a.Fo=d),null;l=new B(a,b);I.push(l);return l};var La=[];P.prototype.uj=function(a){return mb(X,a)};G.q=new P;U.prototype.Play=function(a,b,c,e){!J&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),y=this.Kp(this.b.vm+a[0]+(x?".ogg":".m4a"),e,a[1],0!==b,c))&&(y.ko(!1),y.play(0!==b,c,0,this.Qq),this.Qq=0)};G.K=new U;G.xa=new function(){}})();
function rc(c){this.b=c}
(function(){function c(){}function n(){}var k=rc.prototype;k.na=function(c){this.Ka=c;this.b=c.b};k.na.prototype.S=function(){};k.ca=function(c){this.type=c;this.b=c.b;this.tg=Array(4);this.$r=this.Bl=this.mg=this.hf=this.gf=0;this.Lm=!1};var q=k.ca.prototype;q.S=function(){var c=this;if(!this.b.Fa){jQuery(document).mousemove(function(a){c.Ji(a)});jQuery(document).mousedown(function(a){c.Ii(a)});jQuery(document).mouseup(function(a){c.Ki(a)});jQuery(document).dblclick(function(a){c.Mw(a)});var b=function(a){c.Tw(a)};
document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var w={left:0,top:0};q.Ji=function(c){var b=this.b.Fa?w:jQuery(this.b.canvas).offset();this.gf=c.pageX-b.left;this.hf=c.pageY-b.top};q.Nq=function(){return 0<this.b.Ob?!0:0<=this.gf&&0<=this.hf&&this.gf<this.b.width&&this.hf<this.b.height};q.Ii=function(c){this.Nq()&&(this.tg[c.which]=!0,this.b.Va=!0,this.b.trigger(rc.prototype.q.Ws,this),this.mg=c.which-1,this.Bl=0,this.b.trigger(rc.prototype.q.Lo,this),
this.b.trigger(rc.prototype.q.So,this),this.b.Va=!1)};q.Ki=function(c){this.tg[c.which]&&(this.b.mk&&!this.b.pe&&c.preventDefault(),this.b.mk=!0,this.tg[c.which]=!1,this.b.Va=!0,this.mg=c.which-1,this.b.trigger(rc.prototype.q.To,this),this.b.Va=!1)};q.Mw=function(c){this.Nq()&&(c.preventDefault(),this.b.Va=!0,this.mg=c.which-1,this.Bl=1,this.b.trigger(rc.prototype.q.Lo,this),this.b.trigger(rc.prototype.q.So,this),this.b.Va=!1)};q.Tw=function(c){this.$r=0>(c.wheelDelta?c.wheelDelta:c.detail?-c.detail:
0)?0:1;this.Lm=!1;this.b.Va=!0;this.b.trigger(rc.prototype.q.pt,this);this.b.Va=!1;this.Lm&&ob(c)&&c.preventDefault()};q.dg=function(){var c,b;c=0;for(b=this.tg.length;c<b;++c)this.tg[c]&&(this.tg[c]=!1,this.mg=c-1,this.b.trigger(rc.prototype.q.To,this))};c.prototype.Lo=function(c,b){return c===this.mg&&b===this.Bl};c.prototype.Ws=function(){return!0};c.prototype.To=function(c){return c===this.mg};c.prototype.So=function(c,b,a){return c!==this.mg||b!==this.Bl?!1:this.b.ij(a,this.gf,this.hf)};c.prototype.pt=
function(c){this.Lm=!0;return c===this.$r};k.q=new c;k.K=new function(){};n.prototype.vj=function(c,b){var a,k,h,d,f;fa(b)?(a=this.b.le(0),k=a.scale,h=a.Wb,d=a.jc,f=a.k,a.scale=1,a.Wb=1,a.jc=1,a.k=0,c.G(a.Da(this.gf,this.hf,!0)),a.scale=k,a.Wb=h,a.jc=d,a.k=f):(a=ga(b)?this.b.le(b):this.b.Qh(b))?c.G(a.Da(this.gf,this.hf,!0)):c.G(0)};n.prototype.wj=function(c,b){var a,k,h,d,f;fa(b)?(a=this.b.le(0),k=a.scale,h=a.Wb,d=a.kc,f=a.k,a.scale=1,a.Wb=1,a.kc=1,a.k=0,c.G(a.Da(this.gf,this.hf,!1)),a.scale=k,a.Wb=
h,a.kc=d,a.k=f):(a=ga(b)?this.b.le(b):this.b.Qh(b))?c.G(a.Da(this.gf,this.hf,!1)):c.G(0)};k.xa=new n})();function T(c){this.b=c}
(function(){function c(){if(0===this.jm.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.mh?b.drawImage(this.ba,this.bh,this.dh,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.ba,0,0,this.width,this.height);this.jm=a.toDataURL("image/png")}return this.jm}function n(){}function k(){}function q(){}var w=T.prototype;w.na=function(a){this.Ka=a;this.b=a.b};var u=w.na.prototype;u.S=function(){if(!this.O){var a,b,d,g,
f,p,h,k,q;this.qd=[];this.Vh=!1;a=0;for(b=this.sc.length;a<b;a++){f=this.sc[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Yn=f[3];h.Zn=f[4];h.ir=f[5];h.da=f[6];h.frames=[];d=0;for(g=f[7].length;d<g;d++)p=f[7][d],k={},k.ro=p[0],k.so=p[1],k.bh=p[2],k.dh=p[3],k.width=p[4],k.height=p[5],k.duration=p[6],k.fc=p[7],k.gc=p[8],k.Rm=p[9],k.Zk=p[10],k.jr=p[11],k.mh=0!==k.width,k.jm="",k.az=c,q={left:0,top:0,right:1,bottom:1},k.lo=q,k.Ha=null,(q=this.b.Av(p[0]))?k.ba=q:(k.ba=new Image,k.ba.ku=p[0],k.ba.rp=p[1],
k.ba.fu=null,this.b.ts(k.ba,p[0])),h.frames.push(k),this.qd.push(k);this.sc[a]=h}}};u.ls=function(){var a,b,c;a=0;for(b=this.j.length;a<b;a++)c=this.j[a],c.Nj=c.pb.Ha};u.Qk=function(){if(!this.O){var a,b,c;a=0;for(b=this.qd.length;a<b;++a)c=this.qd[a],c.ba.fu=null,c.Ha=null;this.Vh=!1;this.ls()}};u.Fn=function(){if(!this.O&&this.j.length){var a,b,c;a=0;for(b=this.qd.length;a<b;++a)c=this.qd[a],c.Ha=this.b.F.Ek(c.ba,!1,this.b.Qa,c.jr);this.ls()}};u.pn=function(){if(!this.O&&!this.Vh&&this.b.F){var a,
b,c;a=0;for(b=this.qd.length;a<b;++a)c=this.qd[a],c.Ha=this.b.F.Ek(c.ba,!1,this.b.Qa,c.jr);this.Vh=!0}};u.Ao=function(){if(!this.O&&!this.j.length&&this.Vh){var a,b,c;a=0;for(b=this.qd.length;a<b;++a)c=this.qd[a],this.b.F.deleteTexture(c.Ha),c.Ha=null;this.Vh=!1}};var b=[];u.Nn=function(a){var c,d,g;A(b);c=0;for(d=this.qd.length;c<d;++c)g=this.qd[c].ba,-1===b.indexOf(g)&&(a.drawImage(g,0,0),b.push(g))};w.ca=function(a){this.type=a;this.b=a.b;a=this.type.sc[0].frames[0].Zk;this.lc?this.qa.$i(a):this.qa=
new gb(a)};var a=w.ca.prototype;a.S=function(){this.visible=0===this.A[0];this.Sm=this.$m=!1;this.de=0!==this.A[3];this.Ja=this.Jp(this.A[1])||this.type.sc[0];this.J=this.A[2];0>this.J&&(this.J=0);this.J>=this.Ja.frames.length&&(this.J=this.Ja.frames.length-1);var a=this.Ja.frames[this.J];this.qa.$i(a.Zk);this.fc=a.fc;this.gc=a.gc;this.wg=this.Ja.speed;this.Te=this.Ja.Zn;1===this.type.sc.length&&1===this.type.sc[0].frames.length||0===this.wg||(this.b.yl(this),this.$m=!0);this.lc?this.Id.reset():this.Id=
new eb;this.ke=this.Id.P;this.rf=!0;this.Yd=0;this.qf=!0;this.Ij=this.ep="";this.op=0;this.dm=-1;this.type.pn();var b,c,d,f,h,k,q,a=0;for(b=this.type.sc.length;a<b;a++)for(f=this.type.sc[a],c=0,d=f.frames.length;c<d;c++)h=f.frames[c],0===h.width&&(h.width=h.ba.width,h.height=h.ba.height),h.mh&&(q=h.ba,k=h.lo,k.left=h.bh/q.width,k.top=h.dh/q.height,k.right=(h.bh+h.width)/q.width,k.bottom=(h.dh+h.height)/q.height,0===h.bh&&0===h.dh&&h.width===q.width&&h.height===q.height&&(h.mh=!1));this.pb=this.Ja.frames[this.J];
this.Nj=this.pb.Ha};a.wb=function(){var a={a:this.Ja.da,f:this.J,cas:this.wg,fs:this.ke,ar:this.Yd,at:this.Id.P,rt:this.Te};this.rf||(a.ap=this.rf);this.qf||(a.af=this.qf);return a};a.Rb=function(a){var b=this.Fv(a.a);b&&(this.Ja=b);this.J=a.f;0>this.J&&(this.J=0);this.J>=this.Ja.frames.length&&(this.J=this.Ja.frames.length-1);this.wg=a.cas;this.ke=a.fs;this.Yd=a.ar;this.Id.reset();this.Id.P=a.at;this.rf=a.hasOwnProperty("ap")?a.ap:!0;this.qf=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?
this.Te=a.rt:this.Te=this.Ja.Zn;this.pb=this.Ja.frames[this.J];this.Nj=this.pb.Ha;this.qa.$i(this.pb.Zk);this.fc=this.pb.fc;this.gc=this.pb.gc};a.Tl=function(a){this.J=a?0:this.Ja.frames.length-1;this.rf=!1;this.ep=this.Ja.name;this.Sm=!0;this.b.trigger(T.prototype.q.Vs,this);this.b.trigger(T.prototype.q.Ko,this);this.Sm=!1;this.Yd=0};a.Dh=function(){return this.Id.P};a.Ma=function(){this.Id.add(this.b.Fg(this));this.Ij.length&&this.wp();0<=this.dm&&this.su();var a=this.Id.P,b=this.Ja,c=b.frames[this.J],
d=c.duration/this.wg;this.rf&&a>=this.ke+d&&(this.qf?this.J++:this.J--,this.ke+=d,this.J>=b.frames.length&&(b.ir?(this.qf=!1,this.J=b.frames.length-2):b.loop?this.J=this.Te:(this.Yd++,this.Yd>=b.Yn?this.Tl(!1):this.J=this.Te)),0>this.J&&(b.ir?(this.J=1,this.qf=!0,b.loop||(this.Yd++,this.Yd>=b.Yn&&this.Tl(!0))):b.loop?this.J=this.Te:(this.Yd++,this.Yd>=b.Yn?this.Tl(!0):this.J=this.Te)),0>this.J?this.J=0:this.J>=b.frames.length&&(this.J=b.frames.length-1),a>this.ke+b.frames[this.J].duration/this.wg&&
(this.ke=a),a=b.frames[this.J],this.rg(c,a),this.b.ma=!0)};a.Jp=function(a){var b,c,d;b=0;for(c=this.type.sc.length;b<c;b++)if(d=this.type.sc[b],mb(d.name,a))return d;return null};a.Fv=function(a){var b,c,d;b=0;for(c=this.type.sc.length;b<c;b++)if(d=this.type.sc[b],d.da===a)return d;return null};a.wp=function(){var a=this.Ja.frames[this.J],b=this.Jp(this.Ij);this.Ij="";!b||mb(b.name,this.Ja.name)&&this.rf||(this.Ja=b,this.wg=b.speed,this.Te=b.Zn,0>this.J&&(this.J=0),this.J>=this.Ja.frames.length&&
(this.J=this.Ja.frames.length-1),1===this.op&&(this.J=0),this.rf=!0,this.ke=this.Id.P,this.qf=!0,this.rg(a,this.Ja.frames[this.J]),this.b.ma=!0)};a.su=function(){var a=this.Ja.frames[this.J],b=this.J;this.J=qa(this.dm);0>this.J&&(this.J=0);this.J>=this.Ja.frames.length&&(this.J=this.Ja.frames.length-1);b!==this.J&&(this.rg(a,this.Ja.frames[this.J]),this.ke=this.Id.P,this.b.ma=!0);this.dm=-1};a.rg=function(a,b){var c=a.width,d=a.height,f=b.width,h=b.height;c!=f&&(this.width*=f/c);d!=h&&(this.height*=
h/d);this.fc=b.fc;this.gc=b.gc;this.qa.$i(b.Zk);this.C();this.pb=b;this.Nj=b.Ha;c=0;for(d=this.L.length;c<d;c++)f=this.L[c],f.Yq&&f.Yq(a,b);this.b.trigger(T.prototype.q.rg,this)};a.Kd=function(a){a.globalAlpha=this.opacity;var b=this.pb,c=b.mh,d=b.ba,f=this.x,h=this.y,k=this.width,q=this.height;if(0===this.k&&0<=k&&0<=q)f-=this.fc*k,h-=this.gc*q,this.b.zd&&(f=Math.round(f),h=Math.round(h)),c?a.drawImage(d,b.bh,b.dh,b.width,b.height,f,h,k,q):a.drawImage(d,f,h,k,q);else{this.b.zd&&(f=Math.round(f),
h=Math.round(h));a.save();var v=0<k?1:-1,n=0<q?1:-1;a.translate(f,h);1===v&&1===n||a.scale(v,n);a.rotate(this.k*v*n);f=0-this.fc*ka(k);h=0-this.gc*ka(q);c?a.drawImage(d,b.bh,b.dh,b.width,b.height,f,h,ka(k),ka(q)):a.drawImage(d,f,h,ka(k),ka(q));a.restore()}};a.xf=function(a){this.uc(a)};a.uc=function(a){a.Gc(this.Nj);a.gg(this.opacity);var b=this.pb,c=this.Xb;if(this.b.zd){var d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;b.mh?a.Sd(c.nb+d,c.ob+f,c.Ub+d,c.Vb+f,c.Kb+d,c.Lb+f,c.Ib+d,c.Jb+f,
b.lo):a.Ti(c.nb+d,c.ob+f,c.Ub+d,c.Vb+f,c.Kb+d,c.Lb+f,c.Ib+d,c.Jb+f)}else b.mh?a.Sd(c.nb,c.ob,c.Ub,c.Vb,c.Kb,c.Lb,c.Ib,c.Jb,b.lo):a.Ti(c.nb,c.ob,c.Ub,c.Vb,c.Kb,c.Lb,c.Ib,c.Jb)};a.Iv=function(a){var b=this.pb,c,d;c=0;for(d=b.Rm.length;c<d;c++)if(mb(a,b.Rm[c][0]))return c;return-1};a.Ph=function(a,b){var c=this.pb,d=c.Rm,f;ha(a)?f=this.Iv(a):f=a-1;f=qa(f);if(0>f||f>=d.length)return b?this.x:this.y;var h=(d[f][1]-c.fc)*this.width,d=d[f][2],d=(d-c.gc)*this.height,c=Math.cos(this.k);f=Math.sin(this.k);
var k=h*c-d*f,d=d*c+h*f,h=k+this.x,d=d+this.y;return b?h:d};var v=null,h=new ba,d=!1,f=[],t=new ua(0,0,0,0);u.finish=function(a){if(d){if(a){var b=this.b.Bb().ec.bd;a=v.ra();var c=h.kd(),g,f;if(a.ya){a.ya=!1;A(a.j);g=0;for(f=c.length;g<f;++g)a.j[g]=c[g];if(b)for(A(a.X),g=0,f=v.j.length;g<f;++g)c=v.j[g],h.contains(c)||a.X.push(c)}else if(b)for(b=a.j.length,g=0,f=c.length;g<f;++g)a.j[b+g]=c[g],Da(a.X,c[g]);else Aa(a.j,c);v.Zd()}h.clear();d=!1}};n.prototype.Ps=function(a){if(a){var b=!1,c,g,m,p=this.b.Cm(),
k=p.type,p=p.rk;c=a.ra();g=this.b.Bb().ec.bd;var q;c.ya?(this.wa(),t.vg(this.Ia),t.offset(0,0),this.b.Lp(this.n,a,t,f),q=f):q=g?this.b.rw()&&!c.X.length&&c.j.length?c.j:c.X:c.j;v=a;d=k!==a&&!p;c=0;for(g=q.length;c<g;c++)if(m=q[c],this.b.Ic(this,m)){b=!0;if(p)break;k!==a&&h.add(m)}A(f);a=b}else a=!1;return a};n.prototype.As=function(a,b){return ec(this.J,a,b)};n.prototype.Ko=function(a){return mb(this.ep,a)};n.prototype.Vs=function(){return!0};n.prototype.rg=function(){return!0};w.q=new n;k.prototype.At=
function(a,b){this.Ij=a;this.op=b;this.$m||(this.b.yl(this),this.$m=!0);this.Sm||this.wp()};k.prototype.Dt=function(a){a=ka(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.C())};k.prototype.Gt=function(a){var b=this.pb,c=b.width*a*(0>this.width?-1:1);a=b.height*a*(0>this.height?-1:1);if(this.width!==c||this.height!==a)this.width=c,this.height=a,this.C()};w.K=new k;q.prototype.Js=function(a,b){a.G(this.Ph(b,!0))};q.prototype.Ks=function(a,b){a.G(this.Ph(b,!1))};w.xa=new q})();
function sc(c){this.b=c}
(function(){function c(){return b.length?b.pop():{}}function n(a){var c,h;c=0;for(h=a.length;c<h;c++)b.push(a[c]);A(a)}function k(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}var q=sc.prototype;q.S=function(){q.K.Xo=function(a){this.width!==a&&(this.width=a,this.ph=!0,this.C())}};q.na=function(a){this.Ka=a;this.b=a.b};var w=q.na.prototype;w.S=function(){};w.Qk=function(){if(!this.O){var a,b,c;a=0;for(b=this.j.length;a<b;a++)c=this.j[a],c.Pd=null,c.$f=null,c.Dc=null}};
q.ca=function(a){this.type=a;this.b=a.b;this.lc?A(this.cf):this.cf=[];this.ph=!0};w=q.ca.prototype;w.S=function(){this.text=this.A[0];this.visible=0===this.A[1];this.font=this.A[2];this.color=this.A[3];this.nk=this.A[4];this.Hl=this.A[5];this.Io=0===this.A[7];this.jn=this.zk=this.width;this.yk=this.height;this.ln=this.A[8];this.ek=this.Ag="";this.Vr=this.Wr=this.Ri=0;this.Ww();this.Dc=this.$f=this.Pd=null;this.Pq=!1;this.oi=this.b.De;this.lc?this.kf.set(0,0,1,1):this.kf=new ua(0,0,1,1);this.b.F&&
this.b.yl(this)};w.Ww=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Ri=parseInt(a[b].substr(0,a[b].length-2));this.Tn=Math.ceil(this.Ri/72*96)+4;0<b&&(this.ek=a[b-1]);this.Ag=a[b+1];for(b+=2;b<a.length;b++)this.Ag+=" "+a[b];break}};w.wb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.nk,va:this.Hl,wr:this.Io,lho:this.ln,fn:this.Ag,fs:this.ek,ps:this.Ri,pxh:this.Tn,tw:this.Wr,th:this.Vr,lrt:this.oi}};w.Rb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.nk=a.ha;this.Hl=a.va;this.Io=a.wr;this.ln=a.lho;this.Ag=a.fn;this.ek=a.fs;this.Ri=a.ps;this.Tn=a.pxh;this.Wr=a.tw;this.Vr=a.th;this.oi=a.lrt;this.ph=!0;this.jn=this.zk=this.width;this.yk=this.height};w.Ma=function(){if(this.b.F&&this.Dc&&300<=this.b.De-this.oi){var a=this.n;this.wa();var b=this.Ia;if(b.right<a.za||b.bottom<a.Aa||b.left>a.Ca||b.top>a.Ba)this.b.F.deleteTexture(this.Dc),this.Pd=this.$f=this.Dc=null}};w.bg=function(){this.Pd=this.$f=null;this.b.F&&
this.Dc&&this.b.F.deleteTexture(this.Dc);this.Dc=null};w.Dh=function(){this.font=this.ek+" "+this.Ri.toString()+"pt "+this.Ag;this.ph=!0;this.b.ma=!0};w.Kd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.n.wc()),a.save(),a.scale(c,c));if(this.ph||this.width!==this.jn)this.type.Ka.St(this.text,this.cf,a,this.width,this.Io),this.ph=!1,this.jn=this.width;this.wa();var c=b?0:this.Xb.nb,d=b?0:this.Xb.ob;this.b.zd&&(c=
c+.5|0,d=d+.5|0);0===this.k||b||(a.save(),a.translate(c,d),a.rotate(this.k),d=c=0);var f=d+this.height,k=this.Tn,k=k+this.ln,e,l;1===this.Hl?d+=Math.max(this.height/2-this.cf.length*k/2,0):2===this.Hl&&(d+=Math.max(this.height-this.cf.length*k-2,0));for(l=0;l<this.cf.length&&!(e=c,1===this.nk?e=c+(this.width-this.cf[l].width)/2:2===this.nk&&(e=c+(this.width-this.cf[l].width)),a.fillText(this.cf[l].text,e,d),d+=k,d>=f-k);l++);(0!==this.k||b)&&a.restore();this.oi=this.b.De};w.uc=function(a){if(!(1>
this.width||1>this.height)){var b=this.ph||this.Pq;this.Pq=!1;var c=this.n.wc(),d=this.n.fb(),f=this.kf,k=c*this.width,e=c*this.height,l=Math.ceil(k),q=Math.ceil(e),g=Math.abs(l),m=Math.abs(q),p=this.b.N/2,n=this.b.M/2;this.$f||(this.Pd=document.createElement("canvas"),this.Pd.width=g,this.Pd.height=m,this.zk=g,this.yk=m,b=!0,this.$f=this.Pd.getContext("2d"));if(g!==this.zk||m!==this.yk)this.Pd.width=g,this.Pd.height=m,this.Dc&&(a.deleteTexture(this.Dc),this.Dc=null),b=!0;b&&(this.$f.clearRect(0,
0,g,m),this.Kd(this.$f,!0),this.Dc||(this.Dc=a.Kc(g,m,this.b.Qa,this.b.pe)),a.Vx(this.Pd,this.Dc,this.b.pe));this.zk=g;this.yk=m;a.Gc(this.Dc);a.gg(this.opacity);a.ed();a.translate(-p,-n);a.Tc();var w=this.Xb,b=this.n.Pa(w.nb,w.ob,!0,!0),g=this.n.Pa(w.nb,w.ob,!1,!0),m=this.n.Pa(w.Ub,w.Vb,!0,!0),p=this.n.Pa(w.Ub,w.Vb,!1,!0),n=this.n.Pa(w.Kb,w.Lb,!0,!0),u=this.n.Pa(w.Kb,w.Lb,!1,!0),P=this.n.Pa(w.Ib,w.Jb,!0,!0),w=this.n.Pa(w.Ib,w.Jb,!1,!0);if(this.b.zd||0===this.k&&0===d)var U=(b+.5|0)-b,G=(g+.5|0)-
g,b=b+U,g=g+G,m=m+U,p=p+G,n=n+U,u=u+G,P=P+U,w=w+G;0===this.k&&0===d?(m=b+l,p=g,n=m,u=g+q,P=b,w=u,f.right=1,f.bottom=1):(f.right=k/l,f.bottom=e/q);a.Sd(b,g,m,p,n,u,P,w,f);a.ed();a.scale(c,c);a.fl(-this.n.fb());a.translate((this.n.za+this.n.Ca)/-2,(this.n.Aa+this.n.Ba)/-2);a.Tc();this.oi=this.b.De}};var u=[];q.Ot=function(a){A(u);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(u.push(b),b=""),u.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&
(" "===a.charAt(d)||"\t"===a.charAt(d)));u.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&u.push(b)};var b=[];q.St=function(a,b,h,d,f){if(a&&a.length)if(2>=d)n(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var k=h.measureText(a).width;if(k<=d){n(b);b.push(c());b[0].text=a;b[0].width=k;return}}this.Tt(a,b,h,d,f)}else n(b)};q.Tt=function(a,q,h,d,f){f&&(this.Ot(a),a=u);var n="",e,l,r,g=0;for(r=0;r<a.length;r++)"\n"===a[r]?(g>=q.length&&q.push(c()),n=k(n),l=q[g],l.text=n,l.width=h.measureText(n).width,
g++,n=""):(e=n,n+=a[r],l=h.measureText(n).width,l>=d&&(g>=q.length&&q.push(c()),e=k(e),l=q[g],l.text=e,l.width=h.measureText(e).width,g++,n=a[r],f||" "!==n||(n="")));n.length&&(g>=q.length&&q.push(c()),n=k(n),l=q[g],l.text=n,l.width=h.measureText(n).width,g++);for(r=g;r<q.length;r++)b.push(q[r]);q.length=g};q.q=new function(){};q.K=new function(){};q.xa=new function(){}})();function tc(c){this.b=c}
(function(){var c=tc.prototype;c.na=function(c){this.Ka=c;this.b=c.b};var n=c.na.prototype;n.S=function(){this.O||(this.ba=new Image,this.ba.rp=this.so,this.b.ts(this.ba,this.ro),this.Ha=this.pattern=null)};n.Qk=function(){this.O||(this.Ha=null)};n.Fn=function(){if(!this.O&&this.j.length){this.Ha||(this.Ha=this.b.F.Ek(this.ba,!0,this.b.Qa,this.to));var c,q;c=0;for(q=this.j.length;c<q;c++)this.j[c].Ha=this.Ha}};n.pn=function(){this.O||this.Ha||!this.b.F||(this.Ha=this.b.F.Ek(this.ba,!0,this.b.Qa,this.to))};
n.Ao=function(){this.O||this.j.length||!this.Ha||(this.b.F.deleteTexture(this.Ha),this.Ha=null)};n.Nn=function(c){c.drawImage(this.ba,0,0)};c.ca=function(c){this.type=c;this.b=c.b};n=c.ca.prototype;n.S=function(){this.visible=0===this.A[0];this.kf=new ua(0,0,0,0);this.Up=!1;this.ba=this.type.ba;this.b.F?(this.type.pn(),this.Ha=this.type.Ha):(this.type.pattern||(this.type.pattern=this.b.Na.createPattern(this.type.ba,"repeat")),this.pattern=this.type.pattern)};n.od=function(){this.Up=!1;this.ba=this.type.ba};
n.bg=function(){this.b.F&&this.Up&&this.Ha&&(this.b.F.deleteTexture(this.Ha),this.Ha=null)};n.Kd=function(c){c.globalAlpha=this.opacity;c.save();c.fillStyle=this.pattern;var q=this.x,n=this.y;this.b.zd&&(q=Math.round(q),n=Math.round(n));var u=-(this.fc*this.width),b=-(this.gc*this.height),a=u%this.ba.width,v=b%this.ba.height;0>a&&(a+=this.ba.width);0>v&&(v+=this.ba.height);c.translate(q,n);c.rotate(this.k);c.translate(a,v);c.fillRect(u-a,b-v,this.width,this.height);c.restore()};n.xf=function(c){this.uc(c)};
n.uc=function(c){c.Gc(this.Ha);c.gg(this.opacity);var q=this.kf;q.right=this.width/this.ba.width;q.bottom=this.height/this.ba.height;var n=this.Xb;if(this.b.zd){var u=Math.round(this.x)-this.x,b=Math.round(this.y)-this.y;c.Sd(n.nb+u,n.ob+b,n.Ub+u,n.Vb+b,n.Kb+u,n.Lb+b,n.Ib+u,n.Jb+b,q)}else c.Sd(n.nb,n.ob,n.Ub,n.Vb,n.Kb,n.Lb,n.Ib,n.Jb,q)};c.q=new function(){};c.K=new function(){};c.xa=new function(){}})();function V(c){this.b=c}
(function(){function c(a){v=a.x;h=a.y;d=a.z}function n(a,b,c,d){var e;e=f.length?f.pop():new k;e.init(a,b,c,d);return e}function k(){this.fj=this.id=this.Uf=this.Tf=this.y=this.x=this.sl=this.rl=this.hn=this.time=this.po=0;this.mj=this.Cl=!1}function q(){}function w(){}var u=V.prototype;u.na=function(a){this.Ka=a;this.b=a.b};u.na.prototype.S=function(){};u.ca=function(a){this.type=a;this.b=a.b;this.touches=[];this.xn=!1};var b=u.ca.prototype,a={left:0,top:0};b.Oh=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var v=0,h=0,d=0,f=[];k.prototype.init=function(a,b,c,d){var e=ab();this.po=this.hn=this.time=e;this.rl=a;this.sl=b;this.x=a;this.y=b;this.Tf=a;this.Uf=b;this.pressure=this.height=this.width=0;this.id=c;this.fj=d;this.mj=this.Cl=!1};k.prototype.update=function(a,b,c,d,e,f){this.hn=this.time;this.time=a;this.Tf=this.x;this.Uf=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.mj&&15<=Sa(this.rl,this.sl,this.x,this.y)&&(this.mj=
!0)};k.prototype.Gw=function(a,b){!this.Cl&&500<=ab()-this.po&&!this.mj&&15>Sa(this.rl,this.sl,this.x,this.y)&&(this.Cl=!0,a.Wd=this.fj,a.qh=this.id,a.Gg=b,a.b.trigger(V.prototype.q.et,a),a.fe=this.x,a.ge=this.y,a.b.trigger(V.prototype.q.gt,a),a.Gg=0)};var t=-1E3,e=-1E3,l=-1E4;k.prototype.Jq=function(a,b){if(!this.Cl){var c=ab();333>=c-this.po&&!this.mj&&15>Sa(this.rl,this.sl,this.x,this.y)&&(a.Wd=this.fj,a.qh=this.id,a.Gg=b,666>=c-l&&25>Sa(t,e,this.x,this.y)?(a.b.trigger(V.prototype.q.Ys,a),a.fe=
this.x,a.ge=this.y,a.b.trigger(V.prototype.q.Zs,a),e=t=-1E3,l=-1E4):(a.b.trigger(V.prototype.q.nt,a),a.fe=this.x,a.ge=this.y,a.b.trigger(V.prototype.q.Vo,a),t=this.x,e=this.y,l=c),a.Gg=0)}};b.S=function(){this.yw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Gg=this.qh=this.Wd=this.ge=this.fe=this.$o=this.Zo=this.Yo=this.Xt=this.Wt=this.Vt=this.Vk=this.Uk=this.Tk=0;this.Tx=0!==this.A[0];var a=0<this.b.Ob?document:this.b.canvas,b=document;this.b.Qb?b=a=window.Canvas:this.b.Oc&&
(b=a=window);var d=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){d.Mi(a)},!1),a.addEventListener("pointermove",function(a){d.Li(a)},!1),b.addEventListener("pointerup",function(a){d.ve(a,!1)},!1),b.addEventListener("pointercancel",function(a){d.ve(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){d.Mi(a)},!1),a.addEventListener("MSPointerMove",function(a){d.Li(a)},!1),b.addEventListener("MSPointerUp",function(a){d.ve(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){d.ve(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){d.Sk(a)},!1),a.addEventListener("touchmove",function(a){d.Rk(a)},!1),b.addEventListener("touchend",function(a){d.eh(a,!1)},!1),b.addEventListener("touchcancel",function(a){d.eh(a,!0)},!1));if(this.yw){var e=function(a){a=a.reading;d.Yo=a.accelerationX;d.Zo=a.accelerationY;d.$o=a.accelerationZ},f=function(a){a=a.reading;d.Tk=a.yawDegrees;d.Uk=a.pitchDegrees;d.Vk=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();
h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));var l=Windows.Devices.Sensors.Inclinometer.getDefault();l&&(l.reportInterval=Math.max(l.minimumReportInterval,16),l.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",e),l&&l.removeEventListener("readingchanged",f)):(h&&h.addEventListener("readingchanged",e),l&&l.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.Tk=a.alpha||0;d.Uk=a.beta||0;d.Vk=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.Vt=a.accelerationIncludingGravity.x||0,d.Wt=a.accelerationIncludingGravity.y||0,d.Xt=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.Yo=a.acceleration.x||0,d.Zo=a.acceleration.y||0,d.$o=a.acceleration.z||0)},!1);this.Tx&&!this.b.Fa&&(jQuery(document).mousemove(function(a){d.Ji(a)}),jQuery(document).mousedown(function(a){d.Ii(a)}),
jQuery(document).mouseup(function(a){d.Ki(a)}));!this.b.Pg&&this.b.xc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(c,null,{frequency:40});this.b.Lx(this)};b.Li=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&b.preventDefault();var c=this.Oh(b.pointerId),d=ab();if(0<=c){var e=this.b.Fa?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,b.pageX-e.left,b.pageY-e.top,
b.width||0,b.height||0,b.pressure||0)}}};b.Mi=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&ob(b)&&b.preventDefault();var c=this.b.Fa?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top;ab();this.Wd=this.touches.length;this.qh=b.pointerId;this.touches.push(n(d,c,b.pointerId,this.Wd));this.b.Va=!0;this.b.trigger(V.prototype.q.Ro,this);this.b.trigger(V.prototype.q.Ol,this);this.fe=d;this.ge=c;this.b.trigger(V.prototype.q.Nl,this);this.b.Va=
!1}};b.ve=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&ob(a)&&a.preventDefault();var c=this.Oh(a.pointerId);this.Wd=0<=c?this.touches[c].fj:-1;this.qh=0<=c?this.touches[c].id:-1;this.b.Va=!0;this.b.trigger(V.prototype.q.Qo,this);this.b.trigger(V.prototype.q.Wo,this);0<=c&&(b||this.touches[c].Jq(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.Va=!1}};b.Rk=function(b){b.preventDefault&&b.preventDefault();var c=ab(),
d,e,f,h;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],h=this.Oh(f.identifier),0<=h){var l=this.b.Fa?a:jQuery(this.b.canvas).offset();h=this.touches[h];2>c-h.time||h.update(c,f.pageX-l.left,f.pageY-l.top,2*(f.lz||f.sz||f.ez||f.hz||0),2*(f.mz||f.uz||f.fz||f.iz||0),f.Zy||f.rz||f.dz||f.gz||0)}};b.Sk=function(b){b.preventDefault&&ob(b)&&b.preventDefault();var c=this.b.Fa?a:jQuery(this.b.canvas).offset();ab();this.b.Va=!0;var d,e,f,h;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],
h=this.Oh(f.identifier),-1===h){h=f.pageX-c.left;var l=f.pageY-c.top;this.Wd=this.touches.length;this.qh=f.identifier;this.touches.push(n(h,l,f.identifier,this.Wd));this.b.trigger(V.prototype.q.Ro,this);this.b.trigger(V.prototype.q.Ol,this);this.fe=h;this.ge=l;this.b.trigger(V.prototype.q.Nl,this)}this.b.Va=!1};b.eh=function(a,b){a.preventDefault&&ob(a)&&a.preventDefault();this.b.Va=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Oh(e.identifier),0<=e&&(this.Wd=
this.touches[e].fj,this.qh=this.touches[e].id,this.b.trigger(V.prototype.q.Qo,this),this.b.trigger(V.prototype.q.Wo,this),b||this.touches[e].Jq(this,e),100>f.length&&f.push(this.touches[e]),this.touches.splice(e,1));this.b.Va=!1};b.Dh=function(){return this.b.xc&&0===this.Tk&&0!==d?90*d:this.Tk};b.Yy=function(){return this.b.xc&&0===this.Uk&&0!==h?90*h:this.Uk};b.cz=function(){return this.b.xc&&0===this.Vk&&0!==v?90*v:this.Vk};b.Ii=function(a){this.Sk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,
identifier:0}]});this.xn=!0};b.Ji=function(a){this.xn&&this.Rk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Ki=function(a){a.preventDefault&&this.b.mk&&!this.b.pe&&a.preventDefault();this.b.mk=!0;this.eh({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.xn=!1};b.kj=function(){var a,b,c,d=ab();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.hn=d),c.Gw(this,a)};q.prototype.Ol=function(){return!0};q.prototype.Wo=function(){return!0};q.prototype.Os=
function(){return this.touches.length};q.prototype.Nl=function(a){return a?this.b.ij(a,this.fe,this.ge):!1};var r=[];q.prototype.Qs=function(a){if(!a)return!1;var b=a.ra(),c=b.Yc(),d,e,f,h,l,k;f=0;for(h=c.length;f<h;f++){var q=c[f];q.wa();l=0;for(k=this.touches.length;l<k;l++)if(e=this.touches[l],d=q.n.Da(e.x,e.y,!0),e=q.n.Da(e.x,e.y,!1),q.yb(d,e)){r.push(q);break}}return r.length?(b.ya=!1,Aa(b.j,r),a.Zd(),A(r),!0):!1};q.prototype.Ro=function(a){a=Math.floor(a);return a===this.Wd};q.prototype.Qo=
function(a){a=Math.floor(a);return a===this.Wd};q.prototype.Is=function(a){a=Math.floor(a);return this.touches.length>=a+1};q.prototype.et=function(){return!0};q.prototype.nt=function(){return!0};q.prototype.Ys=function(){return!0};q.prototype.gt=function(a){return a?this.b.ij(a,this.fe,this.ge):!1};q.prototype.Vo=function(a){return a?this.b.ij(a,this.fe,this.ge):!1};q.prototype.Zs=function(a){return a?this.b.ij(a,this.fe,this.ge):!1};u.q=new q;w.prototype.vj=function(a,b){var c=this.Gg;if(0>c||c>=
this.touches.length)a.G(0);else{var d,e,f,h,l;fa(b)?(d=this.b.le(0),e=d.scale,f=d.Wb,h=d.jc,l=d.k,d.scale=1,d.Wb=1,d.jc=1,d.k=0,a.G(d.Da(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Wb=f,d.jc=h,d.k=l):(d=ga(b)?this.b.le(b):this.b.Qh(b))?a.G(d.Da(this.touches[c].x,this.touches[c].y,!0)):a.G(0)}};w.prototype.wj=function(a,b){var c=this.Gg;if(0>c||c>=this.touches.length)a.G(0);else{var d,e,f,h,l;fa(b)?(d=this.b.le(0),e=d.scale,f=d.Wb,h=d.kc,l=d.k,d.scale=1,d.Wb=1,d.kc=1,d.k=0,a.G(d.Da(this.touches[c].x,
this.touches[c].y,!1)),d.scale=e,d.Wb=f,d.kc=h,d.k=l):(d=ga(b)?this.b.le(b):this.b.Qh(b))?a.G(d.Da(this.touches[c].x,this.touches[c].y,!1)):a.G(0)}};u.xa=new w})();function uc(c){this.b=c}
(function(){function c(){}var n=uc.prototype;n.na=function(c){this.behavior=c;this.b=c.b};n.na.prototype.S=function(){};n.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var k=n.ca.prototype;k.S=function(){var c=this.A[0];this.md=this.A[1];this.vc=this.A[2];this.du=0!==this.A[3];this.io=0!==this.A[4];this.B=Math.cos(this.d.k)*c;this.H=Math.sin(this.d.k)*c;this.Tf=this.d.x;this.Uf=this.d.y;this.Pc=this.d.k;this.Al=0;this.enabled=0!==this.A[5]};k.wb=function(){return{acc:this.md,
g:this.vc,dx:this.B,dy:this.H,lx:this.Tf,ly:this.Uf,lka:this.Pc,t:this.Al,e:this.enabled}};k.Rb=function(c){this.md=c.acc;this.vc=c.g;this.B=c.dx;this.H=c.dy;this.Tf=c.lx;this.Uf=c.ly;this.Pc=c.lka;this.Al=c.t;this.enabled=c.e};k.Ma=function(){if(this.enabled){var c=this.b.Fg(this.d),k,n;this.d.k!==this.Pc&&(this.io&&(k=Sa(0,0,this.B,this.H),this.B=Math.cos(this.d.k)*k,this.H=Math.sin(this.d.k)*k),this.Pc=this.d.k);0!==this.md&&(k=Sa(0,0,this.B,this.H),n=0===this.B&&0===this.H?this.d.k:Na(0,0,this.B,
this.H),k+=this.md*c,0>k&&(k=0),this.B=Math.cos(n)*k,this.H=Math.sin(n)*k);0!==this.vc&&(this.H+=this.vc*c);this.Tf=this.d.x;this.Uf=this.d.y;if(0!==this.B||0!==this.H)if(this.d.x+=this.B*c,this.d.y+=this.H*c,this.Al+=Sa(0,0,this.B*c,this.H*c),this.io&&(this.d.k=Na(0,0,this.B,this.H),this.d.C(),this.Pc=this.d.k),this.d.C(),this.du&&(k=this.b.Fb(this.d)))this.b.hh(this.d,k),k=Sa(0,0,this.B,this.H),n=this.b.gu(this.d,this.Tf,this.Uf),this.B=Math.cos(n)*k,this.H=Math.sin(n)*k,this.d.x+=this.B*c,this.d.y+=
this.H*c,this.d.C(),this.io&&(this.Pc=this.d.k=n,this.d.C()),this.b.dd(this.d,this.B/k,this.H/k,Math.max(2.5*k*c,30))||this.b.rr(this.d,100)}};n.q=new function(){};c.prototype.Ht=function(c){var k=Na(0,0,this.B,this.H);this.B=Math.cos(k)*c;this.H=Math.sin(k)*c};c.prototype.yh=function(c){this.enabled=1===c};n.K=new c;n.xa=new function(){}})();
function vc(c){this.b=c;var n=this;this.b.Fa||(jQuery(document).mousemove(function(c){n.Ji(c)}),jQuery(document).mousedown(function(c){n.Ii(c)}),jQuery(document).mouseup(function(c){n.Ki(c)}));c=0<this.b.Ob?document:this.b.canvas;this.b.Qb?c=window.Canvas:this.b.Oc&&(c=window);window.navigator.pointerEnabled?(c.addEventListener("pointerdown",function(c){n.Mi(c)},!1),c.addEventListener("pointermove",function(c){n.Li(c)},!1),c.addEventListener("pointerup",function(c){n.ve(c)},!1),c.addEventListener("pointercancel",
function(c){n.ve(c)},!1)):window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(c){n.Mi(c)},!1),c.addEventListener("MSPointerMove",function(c){n.Li(c)},!1),c.addEventListener("MSPointerUp",function(c){n.ve(c)},!1),c.addEventListener("MSPointerCancel",function(c){n.ve(c)},!1)):(c.addEventListener("touchstart",function(c){n.Sk(c)},!1),c.addEventListener("touchmove",function(c){n.Rk(c)},!1),c.addEventListener("touchend",function(c){n.eh(c)},!1),c.addEventListener("touchcancel",
function(c){n.eh(c)},!1))}
(function(){function c(b){var a,c;a=0;for(c=b.L.length;a<c;a++)if(b.L[a]instanceof q.ca)return b.L[a];return null}function n(){}function k(){}var q=vc.prototype,w={left:0,top:0};q.Ii=function(b){1===b.which&&this.Cn("leftmouse",b.pageX,b.pageY)};q.Ji=function(b){1===b.which&&this.Dn("leftmouse",b.pageX,b.pageY)};q.Ki=function(b){1===b.which&&this.En("leftmouse")};q.Sk=function(b){b.preventDefault&&ob(b)&&b.preventDefault();var a,c,h,d;a=0;for(c=b.changedTouches.length;a<c;a++)h=b.changedTouches[a],
d=h.identifier,this.Cn(d?d.toString():"<none>",h.pageX,h.pageY)};q.Rk=function(b){b.preventDefault&&b.preventDefault();var a,c,h,d;a=0;for(c=b.changedTouches.length;a<c;a++)h=b.changedTouches[a],d=h.identifier,this.Dn(d?d.toString():"<none>",h.pageX,h.pageY)};q.eh=function(b){b.preventDefault&&ob(b)&&b.preventDefault();var a,c,h;a=0;for(c=b.changedTouches.length;a<c;a++)h=b.changedTouches[a],h=h.identifier,this.En(h?h.toString():"<none>")};q.Mi=function(b){b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&
"mouse"!==b.pointerType&&(b.preventDefault&&ob(b)&&b.preventDefault(),this.Cn(b.pointerId.toString(),b.pageX,b.pageY))};q.Li=function(b){b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType&&(b.preventDefault&&b.preventDefault(),this.Dn(b.pointerId.toString(),b.pageX,b.pageY))};q.ve=function(b){b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType&&(b.preventDefault&&ob(b)&&b.preventDefault(),this.En(b.pointerId.toString()))};q.Cn=function(b,a,k){var h=this.b.Fa?w:jQuery(this.b.canvas).offset();
a=a-h.left;k=k-h.top;var d,f,q,e,h=this.Zf.kd(),l,n,g,m=null;l=0;for(n=h.length;l<n;l++)if(g=h[l],d=c(g),d.enabled&&!d.Ue&&(d=g.n.Da(a,k,!0),f=g.n.Da(a,k,!1),g.wa(),g.yb(d,f)))m?g.n.index>m.n.index?(m=g,q=d,e=f):g.n.index===m.n.index&&g.Zc()>m.Zc()&&(m=g,q=d,e=f):(m=g,q=d,e=f);m&&c(m).Nw(b,q,e)};q.Dn=function(b,a,k){var h=this.b.Fa?w:jQuery(this.b.canvas).offset();a=a-h.left;k=k-h.top;var d,f=this.Zf.kd(),q,e,l;q=0;for(e=f.length;q<e;q++)d=f[q],l=c(d),!l.enabled||!l.Ue||l.Ue&&l.mm!==b||(h=d.n.Da(a,
k,!0),d=d.n.Da(a,k,!1),l.Qw(h,d))};q.En=function(b){var a=this.Zf.kd(),k,h,d;k=0;for(h=a.length;k<h;k++)d=a[k],d=c(d),d.Ue&&d.mm===b&&d.Sw()};q.na=function(b){this.behavior=b;this.b=b.b};q.na.prototype.S=function(){};q.ca=function(b,a){this.type=b;this.behavior=b.behavior;this.d=a;this.b=b.b};var u=q.ca.prototype;u.S=function(){this.Ue=!1;this.H=this.B=0;this.mm="<none>";this.Ul=this.A[0];this.enabled=0!==this.A[1]};u.wb=function(){return{enabled:this.enabled}};u.Rb=function(b){this.enabled=b.enabled;
this.Ue=!1};u.Nw=function(b,a,c){this.B=a-this.d.x;this.H=c-this.d.y;this.Ue=!0;this.mm=b;this.b.Va=!0;this.b.trigger(vc.prototype.q.$s,this.d);this.b.Va=!1};u.Qw=function(b,a){var c=b-this.B,h=a-this.H;if(0===this.Ul){if(this.d.x!==c||this.d.y!==h)this.d.x=c,this.d.y=h,this.d.C()}else 1===this.Ul?this.d.x!==c&&(this.d.x=c,this.d.C()):2===this.Ul&&this.d.y!==h&&(this.d.y=h,this.d.C())};u.Sw=function(){this.Ue=!1;this.b.Va=!0;this.b.trigger(vc.prototype.q.No,this.d);this.b.Va=!1};u.Ma=function(){};
n.prototype.$s=function(){return!0};n.prototype.No=function(){return!0};q.q=new n;k.prototype.yh=function(b){this.enabled=0!==b;this.enabled||(this.Ue=!1)};q.K=new k;q.xa=new function(){}})();function wc(c){this.b=c}
(function(){function c(){}var n=wc.prototype;n.na=function(c){this.behavior=c;this.b=c.b};n.na.prototype.S=function(){};n.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var k=n.ca.prototype;k.S=function(){this.bp=1===this.A[0];this.Mh=this.A[1];this.rj=this.A[2];this.Xj=this.A[3];this.pu=this.A[4];this.Sc=this.bp?0:3;this.lc?this.gd.reset():this.gd=new eb;this.Yf=this.d.opacity?this.d.opacity:1;this.bp&&(0===this.Mh?(this.Sc=1,0===this.rj&&(this.Sc=2)):(this.d.opacity=
0,this.b.ma=!0))};k.wb=function(){return{fit:this.Mh,wt:this.rj,fot:this.Xj,s:this.Sc,st:this.gd.P,mo:this.Yf}};k.Rb=function(c){this.Mh=c.fit;this.rj=c.wt;this.Xj=c.fot;this.Sc=c.s;this.gd.reset();this.gd.P=c.st;this.Yf=c.mo};k.Ma=function(){this.gd.add(this.b.Fg(this.d));0===this.Sc&&(this.d.opacity=this.gd.P/this.Mh*this.Yf,this.b.ma=!0,this.d.opacity>=this.Yf&&(this.d.opacity=this.Yf,this.Sc=1,this.gd.reset(),this.b.trigger(wc.prototype.q.bt,this.d)));1===this.Sc&&this.gd.P>=this.rj&&(this.Sc=
2,this.gd.reset(),this.b.trigger(wc.prototype.q.ot,this.d));2===this.Sc&&0!==this.Xj&&(this.d.opacity=this.Yf-this.gd.P/this.Xj*this.Yf,this.b.ma=!0,0>this.d.opacity&&(this.d.opacity=0,this.Sc=3,this.gd.reset(),this.b.trigger(wc.prototype.q.ct,this.d),1===this.pu&&this.b.Xd(this.d)))};k.Dh=function(){this.Sc=0;this.gd.reset();0===this.Mh?(this.Sc=1,0===this.rj&&(this.Sc=2)):(this.d.opacity=0,this.b.ma=!0)};c.prototype.ct=function(){return!0};c.prototype.bt=function(){return!0};c.prototype.ot=function(){return!0};
n.q=new c;n.K=new function(){};n.xa=new function(){}})();function xc(c){this.b=c}
(function(){function c(){}var n=xc.prototype;n.na=function(c){this.behavior=c;this.b=c.b};n.na.prototype.S=function(){};n.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var k=n.ca.prototype;k.S=function(){this.bb=null;this.Xk=-1;this.mode=this.Pc=this.wl=this.ah=this.xe=this.Pi=0;var c=this;this.lc||(this.Ci=function(k){c.Gi(k)});this.b.Pl(this.Ci)};k.wb=function(){return{uid:this.bb?this.bb.uid:-1,pa:this.Pi,pd:this.xe,msa:this.ah,tsa:this.wl,lka:this.Pc,m:this.mode}};
k.Rb=function(c){this.Xk=c.uid;this.Pi=c.pa;this.xe=c.pd;this.ah=c.msa;this.wl=c.tsa;this.Pc=c.lka;this.mode=c.m};k.od=function(){-1===this.Xk?this.bb=null:this.bb=this.b.Ff(this.Xk);this.Xk=-1};k.Gi=function(c){this.bb==c&&(this.bb=null)};k.bg=function(){this.bb=null;this.b.tr(this.Ci)};k.Ma=function(){};k.kj=function(){if(this.bb){this.Pc!==this.d.k&&(this.ah=Ja(this.ah+(this.d.k-this.Pc)));var c=this.d.x,k=this.d.y;if(3===this.mode||4===this.mode){var n=Sa(this.d.x,this.d.y,this.bb.x,this.bb.y);
if(n>this.xe||4===this.mode&&n<this.xe)k=Na(this.bb.x,this.bb.y,this.d.x,this.d.y),c=this.bb.x+Math.cos(k)*this.xe,k=this.bb.y+Math.sin(k)*this.xe}else c=this.bb.x+Math.cos(this.bb.k+this.Pi)*this.xe,k=this.bb.y+Math.sin(this.bb.k+this.Pi)*this.xe;this.Pc=n=Ja(this.ah+(this.bb.k-this.wl));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.d.x===c&&this.d.y===k||(this.d.x=c,this.d.y=k,this.d.C());0!==this.mode&&2!==this.mode||this.d.k===n||(this.d.k=n,this.d.C())}};n.q=new function(){};
c.prototype.tt=function(c,k){if(c){var n=c.Op(this.d);n&&(this.bb=n,this.Pi=Na(n.x,n.y,this.d.x,this.d.y)-n.k,this.xe=Sa(n.x,n.y,this.d.x,this.d.y),this.Pc=this.ah=this.d.k,this.wl=n.k,this.mode=k)}};c.prototype.Qt=function(){this.bb=null};n.K=new c;n.xa=new function(){}})();function yc(c){this.b=c}
(function(){function c(){}function n(){}var k=yc.prototype;k.na=function(c){this.behavior=c;this.b=c.b};k.na.prototype.S=function(){};k.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b;this.cj=this.ol=this.nl=this.Qm=this.Eh=this.Jh=this.Qg=this.Rg=this.Vi=this.pi=!1;this.hc=null;this.mn=-1;this.Pf=this.Of=0;this.dk=!1;this.Bg=this.rd=0;this.ck=!0;this.H=this.B=0};var q=k.ca.prototype;q.ns=function(){this.qb=Math.cos(this.Eg);this.rb=Math.sin(this.Eg);this.eg=Math.cos(this.Eg-
Math.PI/2);this.fg=Math.sin(this.Eg-Math.PI/2);this.qb=lb(this.qb);this.rb=lb(this.rb);this.eg=lb(this.eg);this.fg=lb(this.fg);this.Am=this.vc;0>this.vc&&(this.qb*=-1,this.rb*=-1,this.vc=Math.abs(this.vc))};q.S=function(){this.Yg=this.A[0];this.md=this.A[1];this.yg=this.A[2];this.li=this.A[3];this.Am=this.vc=this.A[4];this.Mk=this.A[5];this.om=0!==this.A[6];this.cn=this.A[7]/1E3;this.nu=1===this.A[8];this.enabled=0!==this.A[9];this.wh=!1;this.xh=this.b.of(this.d);this.nn=-1;this.kg=0;this.Eg=H(90);
this.ns();var c=this;this.nu&&!this.b.Fa&&(jQuery(document).keydown(function(k){c.Ow(k)}),jQuery(document).keyup(function(k){c.Pw(k)}));this.lc||(this.Ci=function(k){c.Gi(k)});this.b.Pl(this.Ci);this.d.V.isPlatformBehavior=!0};q.wb=function(){return{ii:this.Qm,lfx:this.Of,lfy:this.Pf,lfo:this.hc?this.hc.uid:-1,am:this.rd,en:this.enabled,fall:this.Bg,ft:this.ck,dx:this.B,dy:this.H,ms:this.Yg,acc:this.md,dec:this.yg,js:this.li,g:this.vc,g1:this.Am,mf:this.Mk,wof:this.wh,woj:this.xh?this.xh.uid:-1,ga:this.Eg,
edj:this.om,cdj:this.Eh,dj:this.Jh,sus:this.cn}};q.Rb=function(c){this.Qm=c.ii;this.Of=c.lfx;this.Pf=c.lfy;this.mn=c.lfo;this.rd=c.am;this.enabled=c.en;this.Bg=c.fall;this.ck=c.ft;this.B=c.dx;this.H=c.dy;this.Yg=c.ms;this.md=c.acc;this.yg=c.dec;this.li=c.js;this.vc=c.g;this.Am=c.g1;this.Mk=c.mf;this.wh=c.wof;this.nn=c.woj;this.Eg=c.ga;this.om=c.edj;this.Eh=c.cdj;this.Jh=c.dj;this.cn=c.sus;this.cj=this.ol=this.nl=this.Qg=this.Rg=this.Vi=this.pi=!1;this.kg=0;this.ns()};q.od=function(){-1===this.mn?
this.hc=null:this.hc=this.b.Ff(this.mn);-1===this.nn?this.xh=null:this.xh=this.b.Ff(this.nn)};q.Gi=function(c){this.hc==c&&(this.hc=null)};q.bg=function(){this.hc=null;this.b.tr(this.Ci)};q.Ow=function(c){switch(c.which){case 38:c.preventDefault();this.Rg=!0;break;case 37:c.preventDefault();this.pi=!0;break;case 39:c.preventDefault(),this.Vi=!0}};q.Pw=function(c){switch(c.which){case 38:c.preventDefault();this.Qg=this.Rg=!1;break;case 37:c.preventDefault();this.pi=!1;break;case 39:c.preventDefault(),
this.Vi=!1}};q.dg=function(){this.Rg=this.Vi=this.pi=!1};q.Dh=function(){return 0>this.vc?-1:1};q.cq=function(){var c=null,k=null,b,a;b=this.d.x;a=this.d.y;this.d.x+=this.qb;this.d.y+=this.rb;this.d.C();if(this.hc&&this.b.Ic(this.d,this.hc))return this.d.x=b,this.d.y=a,this.d.C(),this.hc;(c=this.b.Fb(this.d))||0!==this.Bg||(k=this.b.of(this.d,!0));this.d.x=b;this.d.y=a;this.d.C();if(c){if(this.b.Ic(this.d,c))return null;this.dk=!1;return c}if(k&&k.length){a=c=0;for(b=k.length;c<b;c++)k[a]=k[c],this.b.Ic(this.d,
k[c])||a++;if(1<=a)return this.dk=!0,k[0]}return null};q.Ma=function(){};q.nr=function(){var c=this.b.Fg(this.d),k,b,a,n,h,d,f,q,e;this.Rg||this.cj||(this.Qg=!1);var l=this.pi||this.nl;a=this.Vi||this.ol;var r=(n=this.Rg||this.cj)&&!this.Qg;this.cj=this.ol=this.nl=!1;if(this.enabled){this.Qm&&(r=n=a=l=!1);n||(this.kg=0);q=this.hc;e=!1;this.ck&&((this.b.Fb(this.d)||this.b.of(this.d))&&this.b.dd(this.d,-this.qb,-this.rb,4,!0),this.ck=!1);!q||0!==this.H||q.y===this.Pf&&q.x===this.Of||(k=q.x-this.Of,
b=q.y-this.Pf,this.d.x+=k,this.d.y+=b,this.d.C(),this.Of=q.x,this.Pf=q.y,e=!0,this.b.Fb(this.d)&&this.b.dd(this.d,-k,-b,2.5*Math.sqrt(k*k+b*b)));var g=this.cq();if(b=this.b.Fb(this.d))if(this.d.V.inputPredicted)this.b.dd(this.d,-this.qb,-this.rb,10,!1);else if(this.b.rr(this.d,Math.max(this.d.width,this.d.height)/2))this.b.hh(this.d,b);else return;g?(this.Eh=this.Jh=!1,0<this.H&&(this.wh||(this.b.Sn(this.d,-this.qb,-this.rb,g),this.wh=!0),this.H=0),q!=g)?(this.hc=g,this.Of=g.x,this.Pf=g.y,this.b.hh(this.d,
g)):e&&(b=this.b.Fb(this.d))&&(this.b.hh(this.d,b),0!==k&&(0<k?this.b.dd(this.d,-this.eg,-this.fg):this.b.dd(this.d,this.eg,this.fg)),this.b.dd(this.d,-this.qb,-this.rb)):n||(this.Eh=!0);if(g&&r||!g&&this.om&&n&&this.Eh&&!this.Jh)q=this.d.x,e=this.d.y,this.d.x-=this.qb,this.d.y-=this.rb,this.d.C(),this.b.Fb(this.d)?r=!1:(this.kg=this.cn,this.b.trigger(yc.prototype.q.ht,this.d),this.rd=2,this.H=-this.li,r=!0,g?this.Qg=!0:this.Jh=!0),this.d.x=q,this.d.y=e,this.d.C();g||(n&&0<this.kg?(this.H=-this.li,
this.kg-=c):(this.hc=null,this.H+=this.vc*c,this.H>this.Mk&&(this.H=this.Mk)),r&&(this.Qg=!0));this.wh=!!g;l==a&&(0>this.B?(this.B+=this.yg*c,0<this.B&&(this.B=0)):0<this.B&&(this.B-=this.yg*c,0>this.B&&(this.B=0)));l&&!a&&(this.B=0<this.B?this.B-(this.md+this.yg)*c:this.B-this.md*c);a&&!l&&(this.B=0>this.B?this.B+(this.md+this.yg)*c:this.B+this.md*c);this.B>this.Yg?this.B=this.Yg:this.B<-this.Yg&&(this.B=-this.Yg);l=!1;0!==this.B&&(q=this.d.x,e=this.d.y,k=this.B*c*this.eg,b=this.B*c*this.fg,this.d.x+=
this.eg*(1<this.B?1:-1)-this.qb,this.d.y+=this.fg*(1<this.B?1:-1)-this.rb,this.d.C(),n=!1,h=this.b.Fb(this.d),this.d.x=q+k,this.d.y=e+b,this.d.C(),a=this.b.Fb(this.d),!a&&g&&(a=this.b.of(this.d))&&(this.d.x=q,this.d.y=e,this.d.C(),this.b.Ic(this.d,a)?(a=null,n=!1):n=!0,this.d.x=q+k,this.d.y=e+b,this.d.C()),a?(k=Math.abs(this.B*c)+2,h||!this.b.dd(this.d,-this.qb,-this.rb,k,n,a))?(this.b.hh(this.d,a),k=Math.max(Math.abs(this.B*c*2.5),30),this.b.dd(this.d,this.eg*(0>this.B?1:-1),this.fg*(0>this.B?1:
-1),k,!1)?!g||n||this.dk||(q=this.d.x,e=this.d.y,this.d.x+=this.qb,this.d.y+=this.rb,this.b.Fb(this.d)?this.b.dd(this.d,-this.qb,-this.rb,3,!1)||(this.d.x=q,this.d.y=e,this.d.C()):(this.d.x=q,this.d.y=e,this.d.C())):(this.d.x=q,this.d.y=e,this.d.C()),n||(this.B=0)):!h&&!r&&Math.abs(this.H)<Math.abs(this.li/4)&&(this.H=0,g||(l=!0)):(q=this.cq(),g&&!q?(b=Math.ceil(Math.abs(this.B*c))+2,q=this.d.x,e=this.d.y,this.d.x+=this.qb*b,this.d.y+=this.rb*b,this.d.C(),this.b.Fb(this.d)||this.b.of(this.d)?this.b.dd(this.d,
-this.qb,-this.rb,b+2,!0):(this.d.x=q,this.d.y=e,this.d.C())):q&&0===this.H&&this.b.Sn(this.d,-this.qb,-this.rb,q)));if(0!==this.H){q=this.d.x;e=this.d.y;this.d.x+=this.H*c*this.qb;this.d.y+=this.H*c*this.rb;k=this.d.x;a=this.d.y;this.d.C();b=this.b.Fb(this.d);n=!1;if(!b&&0<this.H&&!g){if((n=0<this.Bg?null:this.b.of(this.d,!0))&&n.length){if(this.xh){this.d.x=q;this.d.y=e;this.d.C();f=h=0;for(d=n.length;h<d;h++)n[f]=n[h],this.b.Ic(this.d,n[h])||f++;n.length=f;this.d.x=k;this.d.y=a;this.d.C()}1<=n.length&&
(b=n[0])}n=!!b}b&&(this.b.hh(this.d,b),this.kg=0,k=n?Math.abs(this.H*c*2.5+10):Math.max(Math.abs(this.H*c*2.5+10),30),this.b.dd(this.d,this.qb*(0>this.H?1:-1),this.rb*(0>this.H?1:-1),k,n,b)?(this.hc=b,this.Of=b.x,this.Pf=b.y,(this.dk=n)&&(l=!0),this.H=0):(this.d.x=q,this.d.y=e,this.d.C(),this.wh=!0,n||(this.H=0)))}3!==this.rd&&0<this.H&&!g&&(this.b.trigger(yc.prototype.q.dt,this.d),this.rd=3);if(g||l)3===this.rd||l||r&&0===this.H?(this.b.trigger(yc.prototype.q.it,this.d),this.rd=0===this.B&&0===this.H?
0:1):(0!==this.rd&&0===this.B&&0===this.H&&(this.b.trigger(yc.prototype.q.mt,this.d),this.rd=0),1===this.rd||0===this.B&&0===this.H||r||(this.b.trigger(yc.prototype.q.lt,this.d),this.rd=1));0<this.Bg&&this.Bg--;this.xh=this.b.of(this.d)}};c.prototype.ht=function(){return!0};c.prototype.dt=function(){return!0};c.prototype.mt=function(){return!0};c.prototype.lt=function(){return!0};c.prototype.it=function(){return!0};k.q=new c;n.prototype.Lt=function(c){switch(c){case 0:this.nl=!0;break;case 1:this.ol=
!0;break;case 2:this.cj=!0}};n.prototype.yh=function(c){this.enabled!==(1===c)&&(this.enabled=1===c,this.enabled||(this.hc=null))};k.K=new n;k.xa=new function(){}})();function zc(c){this.b=c}
(function(){function c(){}var n=zc.prototype;n.na=function(b){this.behavior=b;this.b=b.b};n.na.prototype.S=function(){};n.ca=function(b,a){this.type=b;this.behavior=b.behavior;this.d=a;this.b=b.b;this.gb=0};var k=n.ca.prototype,q=2*Math.PI,w=Math.PI/2,u=3*Math.PI/2;k.S=function(){this.xb=1===this.A[0];this.Bi=this.A[1];this.Ho=this.A[2];this.we=this.A[3];this.we+=Math.random()*this.A[4];0===this.we?this.gb=0:(this.gb=this.A[5]/this.we*q,this.gb+=Math.random()*this.A[6]/this.we*q);this.ic=this.A[7];
this.ic+=Math.random()*this.A[8];this.Ui=this.Kf=this.ea=0;this.init()};k.wb=function(){return{i:this.gb,a:this.xb,mv:this.Bi,w:this.Ho,p:this.we,mag:this.ic,iv:this.ea,iv2:this.Kf,r:this.Ui,lkv:this.Ac,lkv2:this.mi}};k.Rb=function(b){this.gb=b.i;this.xb=b.a;this.Bi=b.mv;this.Ho=b.w;this.we=b.p;this.ic=b.mag;this.ea=b.iv;this.Kf=b.iv2||0;this.Ui=b.r;this.Ac=b.lkv;this.mi=b.lkv2||0};k.init=function(){switch(this.Bi){case 0:this.ea=this.d.x;break;case 1:this.ea=this.d.y;break;case 2:this.ea=this.d.width;
this.Ui=this.d.height/this.d.width;break;case 3:this.ea=this.d.width;break;case 4:this.ea=this.d.height;break;case 5:this.ea=this.d.k;this.ic=H(this.ic);break;case 6:this.ea=this.d.opacity;break;case 7:this.ea=0;break;case 8:this.ea=this.d.x,this.Kf=this.d.y}this.Ac=this.ea;this.mi=this.Kf};k.He=function(b){b=b%q;switch(this.Ho){case 0:return Math.sin(b);case 1:return b<=w?b/w:b<=u?1-2*(b-w)/Math.PI:(b-u)/w-1;case 2:return 2*b/q-1;case 3:return-2*b/q+1;case 4:return b<Math.PI?-1:1}return 0};k.Ma=
function(){var b=this.b.Fg(this.d);if(this.xb&&0!==b){0===this.we?this.gb=0:(this.gb+=b/this.we*q,this.gb=this.gb%q);switch(this.Bi){case 0:this.d.x!==this.Ac&&(this.ea+=this.d.x-this.Ac);this.d.x=this.ea+this.He(this.gb)*this.ic;this.Ac=this.d.x;break;case 1:this.d.y!==this.Ac&&(this.ea+=this.d.y-this.Ac);this.d.y=this.ea+this.He(this.gb)*this.ic;this.Ac=this.d.y;break;case 2:this.d.width=this.ea+this.He(this.gb)*this.ic;this.d.height=this.d.width*this.Ui;break;case 3:this.d.width=this.ea+this.He(this.gb)*
this.ic;break;case 4:this.d.height=this.ea+this.He(this.gb)*this.ic;break;case 5:this.d.k!==this.Ac&&(this.ea=Ja(this.ea+(this.d.k-this.Ac)));this.d.k=Ja(this.ea+this.He(this.gb)*this.ic);this.Ac=this.d.k;break;case 6:this.d.opacity=this.ea+this.He(this.gb)*this.ic/100;0>this.d.opacity?this.d.opacity=0:1<this.d.opacity&&(this.d.opacity=1);break;case 8:this.d.x!==this.Ac&&(this.ea+=this.d.x-this.Ac),this.d.y!==this.mi&&(this.Kf+=this.d.y-this.mi),this.d.x=this.ea+Math.cos(this.d.k)*this.He(this.gb)*
this.ic,this.d.y=this.Kf+Math.sin(this.d.k)*this.He(this.gb)*this.ic,this.Ac=this.d.x,this.mi=this.d.y}this.d.C()}};k.Yq=function(b,a){switch(this.Bi){case 2:this.ea*=a.width/b.width;this.Ui=a.height/a.width;break;case 3:this.ea*=a.width/b.width;break;case 4:this.ea*=a.height/b.height}};n.q=new function(){};c.prototype.yt=function(b){this.xb=1===b};n.K=new c;n.xa=new function(){}})();function Ac(c){this.b=c}
(function(){var c=Ac.prototype;c.na=function(c){this.behavior=c;this.b=c.b};c.na.prototype.S=function(){};c.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};c=c.ca.prototype;c.S=function(){};c.Ma=function(){this.d.wa();var c=this.d.Ia,k=this.d.n.Za;(0>c.right||0>c.bottom||c.left>k.width||c.top>k.height)&&this.b.Xd(this.d)}})();function Bc(c){this.b=c;this.ml=this.bj=this.ig=this.ll=0}
(function(){function c(){}var n=Bc.prototype;n.na=function(c){this.behavior=c;this.b=c.b};n.na.prototype.S=function(){};n.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var k=n.ca.prototype;k.S=function(){this.enabled=0!==this.A[0]};k.wb=function(){return{smg:this.behavior.ll,ss:this.behavior.ig,se:this.behavior.bj,smd:this.behavior.ml}};k.Rb=function(c){this.behavior.ll=c.smg;this.behavior.ig=c.ss;this.behavior.bj=c.se;this.behavior.ml=c.smd};k.Ma=function(){};k.kj=function(){if(this.enabled){var c=
this.behavior.Zf.kd(),k=0,n=0,b,a,v,h=0;b=0;for(a=c.length;b<a;b++){a:{v=c[b];for(var d=void 0,f=void 0,t=void 0,d=0,f=v.L.length;d<f;++d)if(t=v.L[d],t.behavior instanceof Bc){v=t;break a}v=null}v&&v.enabled&&(k+=c[b].x,n+=c[b].y,++h)}c=this.d.n.Za;a=this.b.Ya.P;v=b=0;a>=this.behavior.ig&&a<this.behavior.bj&&(b=this.behavior.ll*Math.min(this.b.lg,1),0===this.behavior.ml&&(b*=1-(a-this.behavior.ig)/(this.behavior.bj-this.behavior.ig)),a=Math.random()*Math.PI*2,v=Math.random()*b,b=Math.cos(a)*v,v*=
Math.sin(a));c.fo(k/h+b);c.ho(n/h+v)}};c.prototype.Kt=function(c,k,n){this.behavior.ll=c;this.behavior.ig=this.b.Ya.P;this.behavior.bj=this.behavior.ig+k;this.behavior.ml=n};c.prototype.yh=function(c){this.enabled=0!==c};n.K=new c})();function pc(c){this.b=c}
(function(){function c(){}var n=pc.prototype;n.na=function(c){this.behavior=c;this.b=c.b};n.na.prototype.S=function(){};n.ca=function(c,k){this.type=c;this.behavior=c.behavior;this.d=k;this.b=c.b};var k=n.ca.prototype;k.S=function(){this.d.V.solidEnabled=0!==this.A[0]};k.Ma=function(){};n.q=new function(){};c.prototype.yh=function(c){this.d.V.solidEnabled=!!c};n.K=new c})();
function oc(){return[qc,rc,tc,V,sc,T,zc,yc,uc,xc,pc,Bc,Ac,wc,vc,N.prototype.q.Gs,zc.prototype.K.yt,N.prototype.K.Rt,V.prototype.q.Vo,qc.prototype.K.Play,N.prototype.K.Hs,V.prototype.q.Nl,N.prototype.q.Oo,N.prototype.K.It,T.prototype.K.Jt,vc.prototype.K.yh,T.prototype.K.Ts,T.prototype.K.Ct,T.prototype.xa.vj,T.prototype.xa.wj,T.prototype.xa.Pt,V.prototype.q.Qs,T.prototype.K.At,T.prototype.K.Es,N.prototype.xa.random,T.prototype.q.qt,N.prototype.K.Nt,T.prototype.K.Et,vc.prototype.q.No,T.prototype.q.Ps,
N.prototype.K.Ds,N.prototype.q.Cs,N.prototype.K.vs,T.prototype.K.Gt,N.prototype.K.ut,N.prototype.K.Us,N.prototype.K.xt,T.prototype.K.Dt,T.prototype.q.Ko,T.prototype.q.Bs,T.prototype.q.Mo,T.prototype.K.Ft,xc.prototype.K.tt,N.prototype.xa.pp,yc.prototype.K.Lt,T.prototype.K.Xo,T.prototype.K.Mt,V.prototype.q.Ol,V.prototype.xa.vj,V.prototype.xa.wj,T.prototype.xa.Js,T.prototype.xa.Ks,V.prototype.q.Os,N.prototype.xa.k,N.prototype.xa.qu,N.prototype.xa.iu,T.prototype.K.zt,V.prototype.q.Is,T.prototype.q.Ms,
T.prototype.K.Bt,T.prototype.q.As,xc.prototype.K.Qt,uc.prototype.K.Ht,Bc.prototype.K.Kt]};
